(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function b1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var sd={exports:{}},ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function R1(){if(tv)return ho;tv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:i,type:s,key:f,ref:l!==void 0?l:null,props:u}}return ho.Fragment=t,ho.jsx=r,ho.jsxs=r,ho}var ev;function w1(){return ev||(ev=1,sd.exports=R1()),sd.exports}var $=w1(),ld={exports:{}},Ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function C1(){if(nv)return Ht;nv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,W={};function F(M,nt,dt){this.props=M,this.context=nt,this.refs=W,this.updater=dt||x}F.prototype.isReactComponent={},F.prototype.setState=function(M,nt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,nt,"setState")},F.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function J(){}J.prototype=F.prototype;function rt(M,nt,dt){this.props=M,this.context=nt,this.refs=W,this.updater=dt||x}var ut=rt.prototype=new J;ut.constructor=rt,L(ut,F.prototype),ut.isPureReactComponent=!0;var gt=Array.isArray,mt={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function V(M,nt,dt,lt,At,kt){return dt=kt.ref,{$$typeof:i,type:M,key:nt,ref:dt!==void 0?dt:null,props:kt}}function R(M,nt){return V(M.type,nt,void 0,void 0,void 0,M.props)}function w(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function N(M){var nt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(dt){return nt[dt]})}var U=/\/+/g;function P(M,nt){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):nt.toString(36)}function C(){}function Bt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(C,C):(M.status="pending",M.then(function(nt){M.status==="pending"&&(M.status="fulfilled",M.value=nt)},function(nt){M.status==="pending"&&(M.status="rejected",M.reason=nt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Kt(M,nt,dt,lt,At){var kt=typeof M;(kt==="undefined"||kt==="boolean")&&(M=null);var Ct=!1;if(M===null)Ct=!0;else switch(kt){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(M.$$typeof){case i:case t:Ct=!0;break;case E:return Ct=M._init,Kt(Ct(M._payload),nt,dt,lt,At)}}if(Ct)return At=At(M),Ct=lt===""?"."+P(M,0):lt,gt(At)?(dt="",Ct!=null&&(dt=Ct.replace(U,"$&/")+"/"),Kt(At,nt,dt,"",function(Qn){return Qn})):At!=null&&(w(At)&&(At=R(At,dt+(At.key==null||M&&M.key===At.key?"":(""+At.key).replace(U,"$&/")+"/")+Ct)),nt.push(At)),1;Ct=0;var Oe=lt===""?".":lt+":";if(gt(M))for(var ge=0;ge<M.length;ge++)lt=M[ge],kt=Oe+P(lt,ge),Ct+=Kt(lt,nt,dt,kt,At);else if(ge=b(M),typeof ge=="function")for(M=ge.call(M),ge=0;!(lt=M.next()).done;)lt=lt.value,kt=Oe+P(lt,ge++),Ct+=Kt(lt,nt,dt,kt,At);else if(kt==="object"){if(typeof M.then=="function")return Kt(Bt(M),nt,dt,lt,At);throw nt=String(M),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function Q(M,nt,dt){if(M==null)return M;var lt=[],At=0;return Kt(M,lt,"","",function(kt){return nt.call(dt,kt,At++)}),lt}function ht(M){if(M._status===-1){var nt=M._result;nt=nt(),nt.then(function(dt){(M._status===0||M._status===-1)&&(M._status=1,M._result=dt)},function(dt){(M._status===0||M._status===-1)&&(M._status=2,M._result=dt)}),M._status===-1&&(M._status=0,M._result=nt)}if(M._status===1)return M._result.default;throw M._result}var yt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Pt(){}return Ht.Children={map:Q,forEach:function(M,nt,dt){Q(M,function(){nt.apply(this,arguments)},dt)},count:function(M){var nt=0;return Q(M,function(){nt++}),nt},toArray:function(M){return Q(M,function(nt){return nt})||[]},only:function(M){if(!w(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ht.Component=F,Ht.Fragment=r,Ht.Profiler=l,Ht.PureComponent=rt,Ht.StrictMode=s,Ht.Suspense=g,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(M){return mt.H.useMemoCache(M)}},Ht.cache=function(M){return function(){return M.apply(null,arguments)}},Ht.cloneElement=function(M,nt,dt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var lt=L({},M.props),At=M.key,kt=void 0;if(nt!=null)for(Ct in nt.ref!==void 0&&(kt=void 0),nt.key!==void 0&&(At=""+nt.key),nt)!H.call(nt,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&nt.ref===void 0||(lt[Ct]=nt[Ct]);var Ct=arguments.length-2;if(Ct===1)lt.children=dt;else if(1<Ct){for(var Oe=Array(Ct),ge=0;ge<Ct;ge++)Oe[ge]=arguments[ge+2];lt.children=Oe}return V(M.type,At,void 0,void 0,kt,lt)},Ht.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ht.createElement=function(M,nt,dt){var lt,At={},kt=null;if(nt!=null)for(lt in nt.key!==void 0&&(kt=""+nt.key),nt)H.call(nt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(At[lt]=nt[lt]);var Ct=arguments.length-2;if(Ct===1)At.children=dt;else if(1<Ct){for(var Oe=Array(Ct),ge=0;ge<Ct;ge++)Oe[ge]=arguments[ge+2];At.children=Oe}if(M&&M.defaultProps)for(lt in Ct=M.defaultProps,Ct)At[lt]===void 0&&(At[lt]=Ct[lt]);return V(M,kt,void 0,void 0,null,At)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(M){return{$$typeof:m,render:M}},Ht.isValidElement=w,Ht.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ht}},Ht.memo=function(M,nt){return{$$typeof:y,type:M,compare:nt===void 0?null:nt}},Ht.startTransition=function(M){var nt=mt.T,dt={};mt.T=dt;try{var lt=M(),At=mt.S;At!==null&&At(dt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Pt,yt)}catch(kt){yt(kt)}finally{mt.T=nt}},Ht.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()},Ht.use=function(M){return mt.H.use(M)},Ht.useActionState=function(M,nt,dt){return mt.H.useActionState(M,nt,dt)},Ht.useCallback=function(M,nt){return mt.H.useCallback(M,nt)},Ht.useContext=function(M){return mt.H.useContext(M)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(M,nt){return mt.H.useDeferredValue(M,nt)},Ht.useEffect=function(M,nt,dt){var lt=mt.H;if(typeof dt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(M,nt)},Ht.useId=function(){return mt.H.useId()},Ht.useImperativeHandle=function(M,nt,dt){return mt.H.useImperativeHandle(M,nt,dt)},Ht.useInsertionEffect=function(M,nt){return mt.H.useInsertionEffect(M,nt)},Ht.useLayoutEffect=function(M,nt){return mt.H.useLayoutEffect(M,nt)},Ht.useMemo=function(M,nt){return mt.H.useMemo(M,nt)},Ht.useOptimistic=function(M,nt){return mt.H.useOptimistic(M,nt)},Ht.useReducer=function(M,nt,dt){return mt.H.useReducer(M,nt,dt)},Ht.useRef=function(M){return mt.H.useRef(M)},Ht.useState=function(M){return mt.H.useState(M)},Ht.useSyncExternalStore=function(M,nt,dt){return mt.H.useSyncExternalStore(M,nt,dt)},Ht.useTransition=function(){return mt.H.useTransition()},Ht.version="19.1.0",Ht}var rv;function Jd(){return rv||(rv=1,ld.exports=C1()),ld.exports}var X=Jd();const iv=b1(X);var od={exports:{}},fo={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function D1(){return av||(av=1,function(i){function t(Q,ht){var yt=Q.length;Q.push(ht);t:for(;0<yt;){var Pt=yt-1>>>1,M=Q[Pt];if(0<l(M,ht))Q[Pt]=ht,Q[yt]=M,yt=Pt;else break t}}function r(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ht=Q[0],yt=Q.pop();if(yt!==ht){Q[0]=yt;t:for(var Pt=0,M=Q.length,nt=M>>>1;Pt<nt;){var dt=2*(Pt+1)-1,lt=Q[dt],At=dt+1,kt=Q[At];if(0>l(lt,yt))At<M&&0>l(kt,lt)?(Q[Pt]=kt,Q[At]=yt,Pt=At):(Q[Pt]=lt,Q[dt]=yt,Pt=dt);else if(At<M&&0>l(kt,yt))Q[Pt]=kt,Q[At]=yt,Pt=At;else break t}}return ht}function l(Q,ht){var yt=Q.sortIndex-ht.sortIndex;return yt!==0?yt:Q.id-ht.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,A=null,b=3,x=!1,L=!1,W=!1,F=!1,J=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function gt(Q){for(var ht=r(y);ht!==null;){if(ht.callback===null)s(y);else if(ht.startTime<=Q)s(y),ht.sortIndex=ht.expirationTime,t(g,ht);else break;ht=r(y)}}function mt(Q){if(W=!1,gt(Q),!L)if(r(g)!==null)L=!0,H||(H=!0,P());else{var ht=r(y);ht!==null&&Kt(mt,ht.startTime-Q)}}var H=!1,V=-1,R=5,w=-1;function N(){return F?!0:!(i.unstable_now()-w<R)}function U(){if(F=!1,H){var Q=i.unstable_now();w=Q;var ht=!0;try{t:{L=!1,W&&(W=!1,rt(V),V=-1),x=!0;var yt=b;try{e:{for(gt(Q),A=r(g);A!==null&&!(A.expirationTime>Q&&N());){var Pt=A.callback;if(typeof Pt=="function"){A.callback=null,b=A.priorityLevel;var M=Pt(A.expirationTime<=Q);if(Q=i.unstable_now(),typeof M=="function"){A.callback=M,gt(Q),ht=!0;break e}A===r(g)&&s(g),gt(Q)}else s(g);A=r(g)}if(A!==null)ht=!0;else{var nt=r(y);nt!==null&&Kt(mt,nt.startTime-Q),ht=!1}}break t}finally{A=null,b=yt,x=!1}ht=void 0}}finally{ht?P():H=!1}}}var P;if(typeof ut=="function")P=function(){ut(U)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Bt=C.port2;C.port1.onmessage=U,P=function(){Bt.postMessage(null)}}else P=function(){J(U,0)};function Kt(Q,ht){V=J(function(){Q(i.unstable_now())},ht)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var ht=3;break;default:ht=b}var yt=b;b=ht;try{return Q()}finally{b=yt}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(Q,ht){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var yt=b;b=Q;try{return ht()}finally{b=yt}},i.unstable_scheduleCallback=function(Q,ht,yt){var Pt=i.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Pt+yt:Pt):yt=Pt,Q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=yt+M,Q={id:E++,callback:ht,priorityLevel:Q,startTime:yt,expirationTime:M,sortIndex:-1},yt>Pt?(Q.sortIndex=yt,t(y,Q),r(g)===null&&Q===r(y)&&(W?(rt(V),V=-1):W=!0,Kt(mt,yt-Pt))):(Q.sortIndex=M,t(g,Q),L||x||(L=!0,H||(H=!0,P()))),Q},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(Q){var ht=b;return function(){var yt=b;b=ht;try{return Q.apply(this,arguments)}finally{b=yt}}}}(cd)),cd}var sv;function x1(){return sv||(sv=1,ud.exports=D1()),ud.exports}var hd={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function M1(){if(lv)return gn;lv=1;var i=Jd();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},gn.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},gn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},gn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},gn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:x}):E==="script"&&s.d.X(g,{crossOrigin:A,integrity:b,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},gn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},gn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},gn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},gn.requestFormReset=function(g){s.d.r(g)},gn.unstable_batchedUpdates=function(g,y){return g(y)},gn.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},gn.useFormStatus=function(){return f.H.useHostTransitionStatus()},gn.version="19.1.0",gn}var ov;function I1(){if(ov)return hd.exports;ov=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),hd.exports=M1(),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function V1(){if(uv)return fo;uv=1;var i=x1(),t=Jd(),r=I1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===o)return m(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,o=d;break}if(T===o){_=!0,o=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,o=h;break}if(T===o){_=!0,o=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case F:return"Profiler";case W:return"StrictMode";case mt:return"Suspense";case H:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case ut:return(e.displayName||"Context")+".Provider";case rt:return(e._context.displayName||"Context")+".Consumer";case gt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:Bt(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return Bt(e(n))}catch{}}return null}var Kt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Pt=[],M=-1;function nt(e){return{current:e}}function dt(e){0>M||(e.current=Pt[M],Pt[M]=null,M--)}function lt(e,n){M++,Pt[M]=e.current,e.current=n}var At=nt(null),kt=nt(null),Ct=nt(null),Oe=nt(null);function ge(e,n){switch(lt(Ct,n),lt(kt,e),lt(At,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Dy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Dy(n),e=xy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}dt(At),lt(At,e)}function Qn(){dt(At),dt(kt),dt(Ct)}function Ae(e){e.memoizedState!==null&&lt(Oe,e);var n=At.current,a=xy(n,e.type);n!==a&&(lt(kt,e),lt(At,a))}function hn(e){kt.current===e&&(dt(At),dt(kt)),Oe.current===e&&(dt(Oe),so._currentValue=yt)}var Tr=Object.prototype.hasOwnProperty,Xr=i.unstable_scheduleCallback,_n=i.unstable_cancelCallback,_a=i.unstable_shouldYield,as=i.unstable_requestPaint,En=i.unstable_now,dl=i.unstable_getCurrentPriorityLevel,Ea=i.unstable_ImmediatePriority,Ri=i.unstable_UserBlockingPriority,$r=i.unstable_NormalPriority,mr=i.unstable_LowPriority,Yn=i.unstable_IdlePriority,wi=i.log,Ci=i.unstable_setDisableYieldValue,oe=null,qt=null;function fn(e){if(typeof wi=="function"&&Ci(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(oe,e)}catch{}}var Le=Math.clz32?Math.clz32:Sr,ss=Math.log,Kn=Math.LN2;function Sr(e){return e>>>=0,e===0?32:31-(ss(e)/Kn|0)|0}var Ar=256,br=4194304;function Vn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zr(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=Vn(o):(_&=T,_!==0?h=Vn(_):a||(a=T&~e,a!==0&&(h=Vn(a))))):(T=o&~d,T!==0?h=Vn(T):_!==0?h=Vn(_):a||(a=o&~e,a!==0&&(h=Vn(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Di(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(){var e=Ar;return Ar<<=1,(Ar&4194048)===0&&(Ar=256),e}function Ta(){var e=br;return br<<=1,(br&62914560)===0&&(br=4194304),e}function $n(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function gr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xi(e,n,a,o,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,G=e.hiddenUpdates;for(a=_&~a;0<a;){var tt=31-Le(a),at=1<<tt;T[tt]=0,D[tt]=-1;var Y=G[tt];if(Y!==null)for(G[tt]=null,tt=0;tt<Y.length;tt++){var K=Y[tt];K!==null&&(K.lane&=-536870913)}a&=~at}o!==0&&Tn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~n))}function Tn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Le(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function Rr(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Le(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function wr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function I(){var e=ht.p;return e!==0?e:(e=window.event,e===void 0?32:Ky(e.type))}function j(e,n){var a=ht.p;try{return ht.p=e,n()}finally{ht.p=a}}var q=Math.random().toString(36).slice(2),it="__reactFiber$"+q,ct="__reactProps$"+q,vt="__reactContainer$"+q,Dt="__reactEvents$"+q,_t="__reactListeners$"+q,Tt="__reactHandles$"+q,bt="__reactResources$"+q,Mt="__reactMarker$"+q;function St(e){delete e[it],delete e[ct],delete e[Dt],delete e[_t],delete e[Tt]}function Vt(e){var n=e[it];if(n)return n;for(var a=e.parentNode;a;){if(n=a[vt]||a[it]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Ny(e);e!==null;){if(a=e[it])return a;e=Ny(e)}return n}e=a,a=e.parentNode}return null}function Xt(e){if(e=e[it]||e[vt]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ce(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function se(e){var n=e[bt];return n||(n=e[bt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function te(e){e[Mt]=!0}var Qt=new Set,Zn={};function Be(e,n){Sn(e,n),Sn(e+"Capture",n)}function Sn(e,n){for(Zn[e]=n,e=0;e<n.length;e++)Qt.add(n[e])}var en=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cr={},Nn={};function Ii(e){return Tr.call(Nn,e)?!0:Tr.call(Cr,e)?!1:en.test(e)?Nn[e]=!0:(Cr[e]=!0,!1)}function dn(e,n,a){if(Ii(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function An(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ut(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var Ue,On;function wn(e){if(Ue===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ue=n&&n[1]||"",On=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+e+On}var Dr=!1;function Ee(e,n){if(!e||Dr)return"";Dr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(K){var Y=K}Reflect.construct(e,[],at)}else{try{at.call()}catch(K){Y=K}e.call(at.prototype)}}else{try{throw Error()}catch(K){Y=K}(at=e())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),G=T.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===G.length)for(o=D.length-1,h=G.length-1;1<=o&&0<=h&&D[o]!==G[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==G[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==G[h]){var tt=`
`+D[o].replace(" at new "," at ");return e.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",e.displayName)),tt}while(1<=o&&0<=h);break}}}finally{Dr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?wn(a):""}function Jn(e){switch(e.tag){case 26:case 27:case 5:return wn(e.type);case 16:return wn("Lazy");case 13:return wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return Ee(e.type,!1);case 11:return Ee(e.type.render,!1);case 1:return Ee(e.type,!0);case 31:return wn("Activity");default:return""}}function Wr(e){try{var n="";do n+=Jn(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ml(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function uh(e){var n=ml(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ls(e){e._valueTracker||(e._valueTracker=uh(e))}function gl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=ml(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Sa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ch=/[\n"\\]/g;function Pe(e){return e.replace(ch,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ln(e,n,a,o,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+nn(n)):e.value!==""+nn(n)&&(e.value=""+nn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Vi(e,_,nn(n)):a!=null?Vi(e,_,nn(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+nn(T):e.removeAttribute("name")}function Aa(e,n,a,o,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+nn(a):"",n=n!=null?""+nn(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Vi(e,n,a){n==="number"&&Sa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ti(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+nn(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function pe(e,n,a){if(n!=null&&(n=""+nn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+nn(a):""}function ba(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(Kt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=nn(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Wn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Ra=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Ra.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function pl(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Fo(e,h,o)}else for(var d in n)n.hasOwnProperty(d)&&Fo(e,d,n[d])}function yl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(e){return fh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ei=null;function tr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ni=null,ri=null;function vl(e){var n=Xt(e);if(n&&(e=n.stateNode)){var a=e[ct]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ln(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[ct]||null;if(!h)throw Error(s(90));Ln(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&gl(o)}break t;case"textarea":pe(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ti(e,!!a.multiple,n,!1)}}}var xr=!1;function Go(e,n,a){if(xr)return e(n,a);xr=!0;try{var o=e(n);return o}finally{if(xr=!1,(ni!==null||ri!==null)&&(zu(),ni&&(n=ni,e=ri,ri=ni=null,vl(n),e)))for(n=0;n<e.length;n++)vl(e[n])}}function wa(e,n){var a=e.stateNode;if(a===null)return null;var o=a[ct]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),er=!1;if(pr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){er=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{er=!1}var Mr=null,Ni=null,ii=null;function _l(){if(ii)return ii;var e,n=Ni,a=n.length,o,h="value"in Mr?Mr.value:Mr.textContent,d=h.length;for(e=0;e<a&&n[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&n[a-o]===h[d-o];o++);return ii=h.slice(e,1<o?1-o:void 0)}function Ir(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vr(){return!0}function El(){return!1}function Xe(e){function n(a,o,h,d,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vr:El,this.isPropagationStopped=El,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),n}var he={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=Xe(he),Da=E({},he,{view:0,detail:0}),Qo=Xe(Da),cs,hs,Nr,xa=E({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nr&&(Nr&&e.type==="mousemove"?(cs=e.screenX-Nr.screenX,hs=e.screenY-Nr.screenY):hs=cs=0,Nr=e),cs)},movementY:function(e){return"movementY"in e?e.movementY:hs}}),nr=Xe(xa),Yo=E({},xa,{dataTransfer:0}),dh=Xe(Yo),Ma=E({},Da,{relatedTarget:0}),fs=Xe(Ma),Tl=E({},he,{animationName:0,elapsedTime:0,pseudoElement:0}),ds=Xe(Tl),Ko=E({},he,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ms=Xe(Ko),mh=E({},he,{data:0}),Sl=Xe(mh),Ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Al(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=$o[e])?!!n[e]:!1}function Va(){return Al}var Zo=E({},Da,{key:function(e){if(e.key){var n=Ia[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(e){return e.type==="keypress"?Ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gs=Xe(Zo),Jo=E({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=Xe(Jo),ai=E({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),Wo=Xe(ai),tu=E({},he,{propertyName:0,elapsedTime:0,pseudoElement:0}),eu=Xe(tu),nu=E({},xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ps=Xe(nu),bn=E({},he,{newState:0,oldState:0}),ru=Xe(bn),iu=[9,13,27,32],Or=pr&&"CompositionEvent"in window,c=null;pr&&"documentMode"in document&&(c=document.documentMode);var p=pr&&"TextEvent"in window&&!c,v=pr&&(!Or||c&&8<c&&11>=c),S=" ",k=!1;function Z(e,n){switch(e){case"keyup":return iu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ee=!1;function He(e,n){switch(e){case"compositionend":return ft(n);case"keypress":return n.which!==32?null:(k=!0,S);case"textInput":return e=n.data,e===S&&k?null:e;default:return null}}function ne(e,n){if(ee)return e==="compositionend"||!Or&&Z(e,n)?(e=_l(),ii=Ni=Mr=null,ee=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var $e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qe(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$e[e.type]:n==="textarea"}function si(e,n,a,o){ni?ri?ri.push(o):ri=[o]:ni=o,n=Fu(n,"onChange"),0<n.length&&(a=new us("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var rn=null,Lr=null;function Rl(e){Ay(e,0)}function au(e){var n=ce(e);if(gl(n))return e}function Fm(e,n){if(e==="change")return n}var Gm=!1;if(pr){var gh;if(pr){var ph="oninput"in document;if(!ph){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),ph=typeof Qm.oninput=="function"}gh=ph}else gh=!1;Gm=gh&&(!document.documentMode||9<document.documentMode)}function Ym(){rn&&(rn.detachEvent("onpropertychange",Km),Lr=rn=null)}function Km(e){if(e.propertyName==="value"&&au(Lr)){var n=[];si(n,Lr,e,tr(e)),Go(Rl,n)}}function tT(e,n,a){e==="focusin"?(Ym(),rn=n,Lr=a,rn.attachEvent("onpropertychange",Km)):e==="focusout"&&Ym()}function eT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return au(Lr)}function nT(e,n){if(e==="click")return au(n)}function rT(e,n){if(e==="input"||e==="change")return au(n)}function iT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Un=typeof Object.is=="function"?Object.is:iT;function wl(e,n){if(Un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Tr.call(n,h)||!Un(e[h],n[h]))return!1}return!0}function Xm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $m(e,n){var a=Xm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Xm(a)}}function Zm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Zm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Jm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Sa(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Sa(e.document)}return n}function yh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var aT=pr&&"documentMode"in document&&11>=document.documentMode,ys=null,vh=null,Cl=null,_h=!1;function Wm(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_h||ys==null||ys!==Sa(o)||(o=ys,"selectionStart"in o&&yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Cl&&wl(Cl,o)||(Cl=o,o=Fu(vh,"onSelect"),0<o.length&&(n=new us("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ys)))}function Na(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var vs={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},Eh={},tg={};pr&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Oa(e){if(Eh[e])return Eh[e];if(!vs[e])return e;var n=vs[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in tg)return Eh[e]=n[a];return e}var eg=Oa("animationend"),ng=Oa("animationiteration"),rg=Oa("animationstart"),sT=Oa("transitionrun"),lT=Oa("transitionstart"),oT=Oa("transitioncancel"),ig=Oa("transitionend"),ag=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function yr(e,n){ag.set(e,n),Be(n,[e])}var sg=new WeakMap;function rr(e,n){if(typeof e=="object"&&e!==null){var a=sg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Wr(n)},sg.set(e,n),n)}return{value:e,source:n,stack:Wr(n)}}var ir=[],_s=0,Sh=0;function su(){for(var e=_s,n=Sh=_s=0;n<e;){var a=ir[n];ir[n++]=null;var o=ir[n];ir[n++]=null;var h=ir[n];ir[n++]=null;var d=ir[n];if(ir[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&lg(a,h,d)}}function lu(e,n,a,o){ir[_s++]=e,ir[_s++]=n,ir[_s++]=a,ir[_s++]=o,Sh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ah(e,n,a,o){return lu(e,n,a,o),ou(e)}function Es(e,n){return lu(e,null,null,n),ou(e)}function lg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-Le(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),d):null}function ou(e){if(50<Jl)throw Jl=0,Mf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ts={};function uT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(e,n,a,o){return new uT(e,n,a,o)}function bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function li(e,n){var a=e.alternate;return a===null?(a=Pn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function og(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function uu(e,n,a,o,h,d){var _=0;if(o=e,typeof e=="function")bh(e)&&(_=1);else if(typeof e=="string")_=h1(e,a,At.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Pn(31,a,n,h),e.elementType=w,e.lanes=d,e;case L:return La(a.children,h,d,n);case W:_=8,h|=24;break;case F:return e=Pn(12,a,n,h|2),e.elementType=F,e.lanes=d,e;case mt:return e=Pn(13,a,n,h),e.elementType=mt,e.lanes=d,e;case H:return e=Pn(19,a,n,h),e.elementType=H,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:case ut:_=10;break t;case rt:_=9;break t;case gt:_=11;break t;case V:_=14;break t;case R:_=16,o=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Pn(_,a,n,h),n.elementType=e,n.type=o,n.lanes=d,n}function La(e,n,a,o){return e=Pn(7,e,o,n),e.lanes=a,e}function Rh(e,n,a){return e=Pn(6,e,null,n),e.lanes=a,e}function wh(e,n,a){return n=Pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ss=[],As=0,cu=null,hu=0,ar=[],sr=0,Ua=null,oi=1,ui="";function Pa(e,n){Ss[As++]=hu,Ss[As++]=cu,cu=e,hu=n}function ug(e,n,a){ar[sr++]=oi,ar[sr++]=ui,ar[sr++]=Ua,Ua=e;var o=oi;e=ui;var h=32-Le(o)-1;o&=~(1<<h),a+=1;var d=32-Le(n)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,oi=1<<32-Le(n)+h|a<<h|o,ui=d+e}else oi=1<<d|a<<h|o,ui=e}function Ch(e){e.return!==null&&(Pa(e,1),ug(e,1,0))}function Dh(e){for(;e===cu;)cu=Ss[--As],Ss[As]=null,hu=Ss[--As],Ss[As]=null;for(;e===Ua;)Ua=ar[--sr],ar[sr]=null,ui=ar[--sr],ar[sr]=null,oi=ar[--sr],ar[sr]=null}var Rn=null,De=null,ue=!1,za=null,Ur=!1,xh=Error(s(519));function ja(e){var n=Error(s(418,""));throw Ml(rr(n,e)),xh}function cg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[it]=e,n[ct]=o,a){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(a=0;a<to.length;a++)Zt(to[a],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":Zt("invalid",n),Aa(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ls(n);break;case"select":Zt("invalid",n);break;case"textarea":Zt("invalid",n),ba(n,o.value,o.defaultValue,o.children),ls(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Cy(n.textContent,a)?(o.popover!=null&&(Zt("beforetoggle",n),Zt("toggle",n)),o.onScroll!=null&&Zt("scroll",n),o.onScrollEnd!=null&&Zt("scrollend",n),o.onClick!=null&&(n.onclick=Gu),n=!0):n=!1,n||ja(e)}function hg(e){for(Rn=e.return;Rn;)switch(Rn.tag){case 5:case 13:Ur=!1;return;case 27:case 3:Ur=!0;return;default:Rn=Rn.return}}function Dl(e){if(e!==Rn)return!1;if(!ue)return hg(e),ue=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Qf(e.type,e.memoizedProps)),a=!a),a&&De&&ja(e),hg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){De=_r(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}De=null}}else n===27?(n=De,Xi(e.type)?(e=$f,$f=null,De=e):De=n):De=Rn?_r(e.stateNode.nextSibling):null;return!0}function xl(){De=Rn=null,ue=!1}function fg(){var e=za;return e!==null&&(xn===null?xn=e:xn.push.apply(xn,e),za=null),e}function Ml(e){za===null?za=[e]:za.push(e)}var Mh=nt(null),ka=null,ci=null;function Oi(e,n,a){lt(Mh,n._currentValue),n._currentValue=a}function hi(e){e._currentValue=Mh.current,dt(Mh)}function Ih(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Vh(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Ih(d.return,a,e),o||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Ih(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Il(e,n,a,o){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;Un(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Oe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(so):e=[so])}h=h.return}e!==null&&Vh(n,e,a,o),n.flags|=262144}function fu(e){for(e=e.firstContext;e!==null;){if(!Un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ba(e){ka=e,ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mn(e){return dg(ka,e)}function du(e,n){return ka===null&&Ba(e),dg(e,n)}function dg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ci===null){if(e===null)throw Error(s(308));ci=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ci=ci.next=n;return a}var cT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},hT=i.unstable_scheduleCallback,fT=i.unstable_NormalPriority,Fe={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nh(){return{controller:new cT,data:new Map,refCount:0}}function Vl(e){e.refCount--,e.refCount===0&&hT(fT,function(){e.controller.abort()})}var Nl=null,Oh=0,bs=0,Rs=null;function dT(e,n){if(Nl===null){var a=Nl=[];Oh=0,bs=Pf(),Rs={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Oh++,n.then(mg,mg),n}function mg(){if(--Oh===0&&Nl!==null){Rs!==null&&(Rs.status="fulfilled");var e=Nl;Nl=null,bs=0,Rs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function mT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var gg=Q.S;Q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&dT(e,n),gg!==null&&gg(e,n)};var Ha=nt(null);function Lh(){var e=Ha.current;return e!==null?e:Se.pooledCache}function mu(e,n){n===null?lt(Ha,Ha.current):lt(Ha,n.pool)}function pg(){var e=Lh();return e===null?null:{parent:Fe._currentValue,pool:e}}var Ol=Error(s(460)),yg=Error(s(474)),gu=Error(s(542)),Uh={then:function(){}};function vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pu(){}function _g(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(pu,pu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Tg(e),e;default:if(typeof n.status=="string")n.then(pu,pu);else{if(e=Se,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Tg(e),e}throw Ll=n,Ol}}var Ll=null;function Eg(){if(Ll===null)throw Error(s(459));var e=Ll;return Ll=null,e}function Tg(e){if(e===Ol||e===gu)throw Error(s(483))}var Li=!1;function Ph(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ui(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pi(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(de&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ou(e),lg(e,null,a),n}return lu(e,o,n,a),ou(e)}function Ul(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Rr(e,a)}}function jh(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var kh=!1;function Pl(){if(kh){var e=Rs;if(e!==null)throw e}}function zl(e,n,a,o){kh=!1;var h=e.updateQueue;Li=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,G=D.next;D.next=null,_===null?d=G:_.next=G,_=D;var tt=e.alternate;tt!==null&&(tt=tt.updateQueue,T=tt.lastBaseUpdate,T!==_&&(T===null?tt.firstBaseUpdate=G:T.next=G,tt.lastBaseUpdate=D))}if(d!==null){var at=h.baseState;_=0,tt=G=D=null,T=d;do{var Y=T.lane&-536870913,K=Y!==T.lane;if(K?(re&Y)===Y:(o&Y)===Y){Y!==0&&Y===bs&&(kh=!0),tt!==null&&(tt=tt.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Lt=e,It=T;Y=n;var _e=a;switch(It.tag){case 1:if(Lt=It.payload,typeof Lt=="function"){at=Lt.call(_e,at,Y);break t}at=Lt;break t;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=It.payload,Y=typeof Lt=="function"?Lt.call(_e,at,Y):Lt,Y==null)break t;at=E({},at,Y);break t;case 2:Li=!0}}Y=T.callback,Y!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},tt===null?(G=tt=K,D=at):tt=tt.next=K,_|=Y;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);tt===null&&(D=at),h.baseState=D,h.firstBaseUpdate=G,h.lastBaseUpdate=tt,d===null&&(h.shared.lanes=0),Gi|=_,e.lanes=_,e.memoizedState=at}}function Sg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ag(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Sg(a[e],n)}var ws=nt(null),yu=nt(0);function bg(e,n){e=vi,lt(yu,e),lt(ws,n),vi=e|n.baseLanes}function Bh(){lt(yu,vi),lt(ws,ws.current)}function Hh(){vi=yu.current,dt(ws),dt(yu)}var zi=0,Ft=null,ye=null,ze=null,vu=!1,Cs=!1,qa=!1,_u=0,jl=0,Ds=null,gT=0;function Me(){throw Error(s(321))}function qh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Un(e[a],n[a]))return!1;return!0}function Fh(e,n,a,o,h,d){return zi=d,Ft=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?lp:op,qa=!1,d=a(o,h),qa=!1,Cs&&(d=wg(n,a,o,h)),Rg(e),d}function Rg(e){Q.H=Ru;var n=ye!==null&&ye.next!==null;if(zi=0,ze=ye=Ft=null,vu=!1,jl=0,Ds=null,n)throw Error(s(300));e===null||Ze||(e=e.dependencies,e!==null&&fu(e)&&(Ze=!0))}function wg(e,n,a,o){Ft=e;var h=0;do{if(Cs&&(Ds=null),jl=0,Cs=!1,25<=h)throw Error(s(301));if(h+=1,ze=ye=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=ST,d=n(a,o)}while(Cs);return d}function pT(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?kl(n):n,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(Ft.flags|=1024),n}function Gh(){var e=_u!==0;return _u=0,e}function Qh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Yh(e){if(vu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}vu=!1}zi=0,ze=ye=Ft=null,Cs=!1,jl=_u=0,Ds=null}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ft.memoizedState=ze=e:ze=ze.next=e,ze}function je(){if(ye===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var n=ze===null?Ft.memoizedState:ze.next;if(n!==null)ze=n,ye=e;else{if(e===null)throw Ft.alternate===null?Error(s(467)):Error(s(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},ze===null?Ft.memoizedState=ze=e:ze=ze.next=e}return ze}function Kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(e){var n=jl;return jl+=1,Ds===null&&(Ds=[]),e=_g(Ds,e,n),n=Ft,(ze===null?n.memoizedState:ze.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?lp:op),e}function Eu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kl(e);if(e.$$typeof===ut)return mn(e)}throw Error(s(438,String(e)))}function Xh(e){var n=null,a=Ft.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ft.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Kh(),Ft.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=N;return n.index++,a}function fi(e,n){return typeof n=="function"?n(e):n}function Tu(e){var n=je();return $h(n,ye,e)}function $h(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var T=_=null,D=null,G=n,tt=!1;do{var at=G.lane&-536870913;if(at!==G.lane?(re&at)===at:(zi&at)===at){var Y=G.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),at===bs&&(tt=!0);else if((zi&Y)===Y){G=G.next,Y===bs&&(tt=!0);continue}else at={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(T=D=at,_=d):D=D.next=at,Ft.lanes|=Y,Gi|=Y;at=G.action,qa&&a(d,at),d=G.hasEagerState?G.eagerState:a(d,at)}else Y={lane:at,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(T=D=Y,_=d):D=D.next=Y,Ft.lanes|=at,Gi|=at;G=G.next}while(G!==null&&G!==n);if(D===null?_=d:D.next=T,!Un(d,e.memoizedState)&&(Ze=!0,tt&&(a=Rs,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=D,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Zh(e){var n=je(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Un(d,n.memoizedState)||(Ze=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function Cg(e,n,a){var o=Ft,h=je(),d=ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!Un((ye||h).memoizedState,a);_&&(h.memoizedState=a,Ze=!0),h=h.queue;var T=Mg.bind(null,o,h,e);if(Bl(2048,8,T,[e]),h.getSnapshot!==n||_||ze!==null&&ze.memoizedState.tag&1){if(o.flags|=2048,xs(9,Su(),xg.bind(null,o,h,a,n),null),Se===null)throw Error(s(349));d||(zi&124)!==0||Dg(o,n,a)}return a}function Dg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ft.updateQueue,n===null?(n=Kh(),Ft.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function xg(e,n,a,o){n.value=a,n.getSnapshot=o,Ig(n)&&Vg(e)}function Mg(e,n,a){return a(function(){Ig(n)&&Vg(e)})}function Ig(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Un(e,a)}catch{return!0}}function Vg(e){var n=Es(e,2);n!==null&&Hn(n,e,2)}function Jh(e){var n=Cn();if(typeof e=="function"){var a=e;if(e=a(),qa){fn(!0);try{a()}finally{fn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},n}function Ng(e,n,a,o){return e.baseState=a,$h(e,ye,typeof o=="function"?o:fi)}function yT(e,n,a,o,h){if(bu(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Og(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Og(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var d=Q.T,_={};Q.T=_;try{var T=a(h,o),D=Q.S;D!==null&&D(_,T),Lg(e,n,T)}catch(G){Wh(e,n,G)}finally{Q.T=d}}else try{d=a(h,o),Lg(e,n,d)}catch(G){Wh(e,n,G)}}function Lg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ug(e,n,o)},function(o){return Wh(e,n,o)}):Ug(e,n,a)}function Ug(e,n,a){n.status="fulfilled",n.value=a,Pg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Og(e,a)))}function Wh(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Pg(n),n=n.next;while(n!==o)}e.action=null}function Pg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function zg(e,n){return n}function jg(e,n){if(ue){var a=Se.formState;if(a!==null){t:{var o=Ft;if(ue){if(De){e:{for(var h=De,d=Ur;h.nodeType!==8;){if(!d){h=null;break e}if(h=_r(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){De=_r(h.nextSibling),o=h.data==="F!";break t}}ja(o)}o=!1}o&&(n=a[0])}}return a=Cn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zg,lastRenderedState:n},a.queue=o,a=ip.bind(null,Ft,o),o.dispatch=a,o=Jh(!1),d=af.bind(null,Ft,!1,o.queue),o=Cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=yT.bind(null,Ft,h,d,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function kg(e){var n=je();return Bg(n,ye,e)}function Bg(e,n,a){if(n=$h(e,n,zg)[0],e=Tu(fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=kl(n)}catch(_){throw _===Ol?gu:_}else o=n;n=je();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Ft.flags|=2048,xs(9,Su(),vT.bind(null,h,a),null)),[o,d,e]}function vT(e,n){e.action=n}function Hg(e){var n=je(),a=ye;if(a!==null)return Bg(n,a,e);je(),n=n.memoizedState,a=je();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function xs(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Ft.updateQueue,n===null&&(n=Kh(),Ft.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Su(){return{destroy:void 0,resource:void 0}}function qg(){return je().memoizedState}function Au(e,n,a,o){var h=Cn();o=o===void 0?null:o,Ft.flags|=e,h.memoizedState=xs(1|n,Su(),a,o)}function Bl(e,n,a,o){var h=je();o=o===void 0?null:o;var d=h.memoizedState.inst;ye!==null&&o!==null&&qh(o,ye.memoizedState.deps)?h.memoizedState=xs(n,d,a,o):(Ft.flags|=e,h.memoizedState=xs(1|n,d,a,o))}function Fg(e,n){Au(8390656,8,e,n)}function Gg(e,n){Bl(2048,8,e,n)}function Qg(e,n){return Bl(4,2,e,n)}function Yg(e,n){return Bl(4,4,e,n)}function Kg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Xg(e,n,a){a=a!=null?a.concat([e]):null,Bl(4,4,Kg.bind(null,n,e),a)}function tf(){}function $g(e,n){var a=je();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&qh(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Zg(e,n){var a=je();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&qh(n,o[1]))return o[0];if(o=e(),qa){fn(!0);try{e()}finally{fn(!1)}}return a.memoizedState=[o,n],o}function ef(e,n,a){return a===void 0||(zi&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=ty(),Ft.lanes|=e,Gi|=e,a)}function Jg(e,n,a,o){return Un(a,n)?a:ws.current!==null?(e=ef(e,a,o),Un(e,n)||(Ze=!0),e):(zi&42)===0?(Ze=!0,e.memoizedState=a):(e=ty(),Ft.lanes|=e,Gi|=e,n)}function Wg(e,n,a,o,h){var d=ht.p;ht.p=d!==0&&8>d?d:8;var _=Q.T,T={};Q.T=T,af(e,!1,n,a);try{var D=h(),G=Q.S;if(G!==null&&G(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var tt=mT(D,o);Hl(e,n,tt,Bn(e))}else Hl(e,n,o,Bn(e))}catch(at){Hl(e,n,{then:function(){},status:"rejected",reason:at},Bn())}finally{ht.p=d,Q.T=_}}function _T(){}function nf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=tp(e).queue;Wg(e,h,n,yt,a===null?_T:function(){return ep(e),a(o)})}function tp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:yt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ep(e){var n=tp(e).next.queue;Hl(e,n,{},Bn())}function rf(){return mn(so)}function np(){return je().memoizedState}function rp(){return je().memoizedState}function ET(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Bn();e=Ui(a);var o=Pi(n,e,a);o!==null&&(Hn(o,n,a),Ul(o,n,a)),n={cache:Nh()},e.payload=n;return}n=n.return}}function TT(e,n,a){var o=Bn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},bu(e)?ap(n,a):(a=Ah(e,n,a,o),a!==null&&(Hn(a,e,o),sp(a,n,o)))}function ip(e,n,a){var o=Bn();Hl(e,n,a,o)}function Hl(e,n,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(bu(e))ap(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Un(T,_))return lu(e,n,h,0),Se===null&&su(),!1}catch{}finally{}if(a=Ah(e,n,h,o),a!==null)return Hn(a,e,o),sp(a,n,o),!0}return!1}function af(e,n,a,o){if(o={lane:2,revertLane:Pf(),action:o,hasEagerState:!1,eagerState:null,next:null},bu(e)){if(n)throw Error(s(479))}else n=Ah(e,a,o,2),n!==null&&Hn(n,e,2)}function bu(e){var n=e.alternate;return e===Ft||n!==null&&n===Ft}function ap(e,n){Cs=vu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function sp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Rr(e,a)}}var Ru={readContext:mn,use:Eu,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me},lp={readContext:mn,use:Eu,useCallback:function(e,n){return Cn().memoizedState=[e,n===void 0?null:n],e},useContext:mn,useEffect:Fg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Au(4194308,4,Kg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Au(4194308,4,e,n)},useInsertionEffect:function(e,n){Au(4,2,e,n)},useMemo:function(e,n){var a=Cn();n=n===void 0?null:n;var o=e();if(qa){fn(!0);try{e()}finally{fn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=Cn();if(a!==void 0){var h=a(n);if(qa){fn(!0);try{a(n)}finally{fn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=TT.bind(null,Ft,e),[o.memoizedState,e]},useRef:function(e){var n=Cn();return e={current:e},n.memoizedState=e},useState:function(e){e=Jh(e);var n=e.queue,a=ip.bind(null,Ft,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:tf,useDeferredValue:function(e,n){var a=Cn();return ef(a,e,n)},useTransition:function(){var e=Jh(!1);return e=Wg.bind(null,Ft,e.queue,!0,!1),Cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Ft,h=Cn();if(ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Se===null)throw Error(s(349));(re&124)!==0||Dg(o,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Fg(Mg.bind(null,o,d,e),[e]),o.flags|=2048,xs(9,Su(),xg.bind(null,o,d,a,n),null),a},useId:function(){var e=Cn(),n=Se.identifierPrefix;if(ue){var a=ui,o=oi;a=(o&~(1<<32-Le(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=_u++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=gT++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:rf,useFormState:jg,useActionState:jg,useOptimistic:function(e){var n=Cn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=af.bind(null,Ft,!0,a),a.dispatch=n,[e,n]},useMemoCache:Xh,useCacheRefresh:function(){return Cn().memoizedState=ET.bind(null,Ft)}},op={readContext:mn,use:Eu,useCallback:$g,useContext:mn,useEffect:Gg,useImperativeHandle:Xg,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:Zg,useReducer:Tu,useRef:qg,useState:function(){return Tu(fi)},useDebugValue:tf,useDeferredValue:function(e,n){var a=je();return Jg(a,ye.memoizedState,e,n)},useTransition:function(){var e=Tu(fi)[0],n=je().memoizedState;return[typeof e=="boolean"?e:kl(e),n]},useSyncExternalStore:Cg,useId:np,useHostTransitionStatus:rf,useFormState:kg,useActionState:kg,useOptimistic:function(e,n){var a=je();return Ng(a,ye,e,n)},useMemoCache:Xh,useCacheRefresh:rp},ST={readContext:mn,use:Eu,useCallback:$g,useContext:mn,useEffect:Gg,useImperativeHandle:Xg,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:Zg,useReducer:Zh,useRef:qg,useState:function(){return Zh(fi)},useDebugValue:tf,useDeferredValue:function(e,n){var a=je();return ye===null?ef(a,e,n):Jg(a,ye.memoizedState,e,n)},useTransition:function(){var e=Zh(fi)[0],n=je().memoizedState;return[typeof e=="boolean"?e:kl(e),n]},useSyncExternalStore:Cg,useId:np,useHostTransitionStatus:rf,useFormState:Hg,useActionState:Hg,useOptimistic:function(e,n){var a=je();return ye!==null?Ng(a,ye,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Xh,useCacheRefresh:rp},Ms=null,ql=0;function wu(e){var n=ql;return ql+=1,Ms===null&&(Ms=[]),_g(Ms,e,n)}function Fl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Cu(e,n){throw n.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function up(e){var n=e._init;return n(e._payload)}function cp(e){function n(z,O){if(e){var B=z.deletions;B===null?(z.deletions=[O],z.flags|=16):B.push(O)}}function a(z,O){if(!e)return null;for(;O!==null;)n(z,O),O=O.sibling;return null}function o(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function h(z,O){return z=li(z,O),z.index=0,z.sibling=null,z}function d(z,O,B){return z.index=B,e?(B=z.alternate,B!==null?(B=B.index,B<O?(z.flags|=67108866,O):B):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function _(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function T(z,O,B,et){return O===null||O.tag!==6?(O=Rh(B,z.mode,et),O.return=z,O):(O=h(O,B),O.return=z,O)}function D(z,O,B,et){var Et=B.type;return Et===L?tt(z,O,B.props.children,et,B.key):O!==null&&(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&up(Et)===O.type)?(O=h(O,B.props),Fl(O,B),O.return=z,O):(O=uu(B.type,B.key,B.props,null,z.mode,et),Fl(O,B),O.return=z,O)}function G(z,O,B,et){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=wh(B,z.mode,et),O.return=z,O):(O=h(O,B.children||[]),O.return=z,O)}function tt(z,O,B,et,Et){return O===null||O.tag!==7?(O=La(B,z.mode,et,Et),O.return=z,O):(O=h(O,B),O.return=z,O)}function at(z,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Rh(""+O,z.mode,B),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return B=uu(O.type,O.key,O.props,null,z.mode,B),Fl(B,O),B.return=z,B;case x:return O=wh(O,z.mode,B),O.return=z,O;case R:var et=O._init;return O=et(O._payload),at(z,O,B)}if(Kt(O)||P(O))return O=La(O,z.mode,B,null),O.return=z,O;if(typeof O.then=="function")return at(z,wu(O),B);if(O.$$typeof===ut)return at(z,du(z,O),B);Cu(z,O)}return null}function Y(z,O,B,et){var Et=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Et!==null?null:T(z,O,""+B,et);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===Et?D(z,O,B,et):null;case x:return B.key===Et?G(z,O,B,et):null;case R:return Et=B._init,B=Et(B._payload),Y(z,O,B,et)}if(Kt(B)||P(B))return Et!==null?null:tt(z,O,B,et,null);if(typeof B.then=="function")return Y(z,O,wu(B),et);if(B.$$typeof===ut)return Y(z,O,du(z,B),et);Cu(z,B)}return null}function K(z,O,B,et,Et){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return z=z.get(B)||null,T(O,z,""+et,Et);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case b:return z=z.get(et.key===null?B:et.key)||null,D(O,z,et,Et);case x:return z=z.get(et.key===null?B:et.key)||null,G(O,z,et,Et);case R:var Yt=et._init;return et=Yt(et._payload),K(z,O,B,et,Et)}if(Kt(et)||P(et))return z=z.get(B)||null,tt(O,z,et,Et,null);if(typeof et.then=="function")return K(z,O,B,wu(et),Et);if(et.$$typeof===ut)return K(z,O,B,du(O,et),Et);Cu(O,et)}return null}function Lt(z,O,B,et){for(var Et=null,Yt=null,Rt=O,Nt=O=0,We=null;Rt!==null&&Nt<B.length;Nt++){Rt.index>Nt?(We=Rt,Rt=null):We=Rt.sibling;var le=Y(z,Rt,B[Nt],et);if(le===null){Rt===null&&(Rt=We);break}e&&Rt&&le.alternate===null&&n(z,Rt),O=d(le,O,Nt),Yt===null?Et=le:Yt.sibling=le,Yt=le,Rt=We}if(Nt===B.length)return a(z,Rt),ue&&Pa(z,Nt),Et;if(Rt===null){for(;Nt<B.length;Nt++)Rt=at(z,B[Nt],et),Rt!==null&&(O=d(Rt,O,Nt),Yt===null?Et=Rt:Yt.sibling=Rt,Yt=Rt);return ue&&Pa(z,Nt),Et}for(Rt=o(Rt);Nt<B.length;Nt++)We=K(Rt,z,Nt,B[Nt],et),We!==null&&(e&&We.alternate!==null&&Rt.delete(We.key===null?Nt:We.key),O=d(We,O,Nt),Yt===null?Et=We:Yt.sibling=We,Yt=We);return e&&Rt.forEach(function(ta){return n(z,ta)}),ue&&Pa(z,Nt),Et}function It(z,O,B,et){if(B==null)throw Error(s(151));for(var Et=null,Yt=null,Rt=O,Nt=O=0,We=null,le=B.next();Rt!==null&&!le.done;Nt++,le=B.next()){Rt.index>Nt?(We=Rt,Rt=null):We=Rt.sibling;var ta=Y(z,Rt,le.value,et);if(ta===null){Rt===null&&(Rt=We);break}e&&Rt&&ta.alternate===null&&n(z,Rt),O=d(ta,O,Nt),Yt===null?Et=ta:Yt.sibling=ta,Yt=ta,Rt=We}if(le.done)return a(z,Rt),ue&&Pa(z,Nt),Et;if(Rt===null){for(;!le.done;Nt++,le=B.next())le=at(z,le.value,et),le!==null&&(O=d(le,O,Nt),Yt===null?Et=le:Yt.sibling=le,Yt=le);return ue&&Pa(z,Nt),Et}for(Rt=o(Rt);!le.done;Nt++,le=B.next())le=K(Rt,z,Nt,le.value,et),le!==null&&(e&&le.alternate!==null&&Rt.delete(le.key===null?Nt:le.key),O=d(le,O,Nt),Yt===null?Et=le:Yt.sibling=le,Yt=le);return e&&Rt.forEach(function(A1){return n(z,A1)}),ue&&Pa(z,Nt),Et}function _e(z,O,B,et){if(typeof B=="object"&&B!==null&&B.type===L&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:t:{for(var Et=B.key;O!==null;){if(O.key===Et){if(Et=B.type,Et===L){if(O.tag===7){a(z,O.sibling),et=h(O,B.props.children),et.return=z,z=et;break t}}else if(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&up(Et)===O.type){a(z,O.sibling),et=h(O,B.props),Fl(et,B),et.return=z,z=et;break t}a(z,O);break}else n(z,O);O=O.sibling}B.type===L?(et=La(B.props.children,z.mode,et,B.key),et.return=z,z=et):(et=uu(B.type,B.key,B.props,null,z.mode,et),Fl(et,B),et.return=z,z=et)}return _(z);case x:t:{for(Et=B.key;O!==null;){if(O.key===Et)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(z,O.sibling),et=h(O,B.children||[]),et.return=z,z=et;break t}else{a(z,O);break}else n(z,O);O=O.sibling}et=wh(B,z.mode,et),et.return=z,z=et}return _(z);case R:return Et=B._init,B=Et(B._payload),_e(z,O,B,et)}if(Kt(B))return Lt(z,O,B,et);if(P(B)){if(Et=P(B),typeof Et!="function")throw Error(s(150));return B=Et.call(B),It(z,O,B,et)}if(typeof B.then=="function")return _e(z,O,wu(B),et);if(B.$$typeof===ut)return _e(z,O,du(z,B),et);Cu(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(z,O.sibling),et=h(O,B),et.return=z,z=et):(a(z,O),et=Rh(B,z.mode,et),et.return=z,z=et),_(z)):a(z,O)}return function(z,O,B,et){try{ql=0;var Et=_e(z,O,B,et);return Ms=null,Et}catch(Rt){if(Rt===Ol||Rt===gu)throw Rt;var Yt=Pn(29,Rt,null,z.mode);return Yt.lanes=et,Yt.return=z,Yt}finally{}}}var Is=cp(!0),hp=cp(!1),lr=nt(null),Pr=null;function ji(e){var n=e.alternate;lt(Ge,Ge.current&1),lt(lr,e),Pr===null&&(n===null||ws.current!==null||n.memoizedState!==null)&&(Pr=e)}function fp(e){if(e.tag===22){if(lt(Ge,Ge.current),lt(lr,e),Pr===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Pr=e)}}else ki()}function ki(){lt(Ge,Ge.current),lt(lr,lr.current)}function di(e){dt(lr),Pr===e&&(Pr=null),dt(Ge)}var Ge=nt(0);function Du(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Xf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function sf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:E({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var lf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Bn(),h=Ui(o);h.payload=n,a!=null&&(h.callback=a),n=Pi(e,h,o),n!==null&&(Hn(n,e,o),Ul(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Bn(),h=Ui(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Pi(e,h,o),n!==null&&(Hn(n,e,o),Ul(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Bn(),o=Ui(a);o.tag=2,n!=null&&(o.callback=n),n=Pi(e,o,a),n!==null&&(Hn(n,e,a),Ul(n,e,a))}};function dp(e,n,a,o,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,_):n.prototype&&n.prototype.isPureReactComponent?!wl(a,o)||!wl(h,d):!0}function mp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&lf.enqueueReplaceState(n,n.state,null)}function Fa(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function gp(e){xu(e)}function pp(e){console.error(e)}function yp(e){xu(e)}function Mu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function vp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function of(e,n,a){return a=Ui(a),a.tag=3,a.payload={element:null},a.callback=function(){Mu(e,n)},a}function _p(e){return e=Ui(e),e.tag=3,e}function Ep(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){vp(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){vp(n,a,o),typeof h!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function AT(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Il(n,a,h,!0),a=lr.current,a!==null){switch(a.tag){case 13:return Pr===null?Vf():a.alternate===null&&xe===0&&(xe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Of(e,o,h)),!1;case 22:return a.flags|=65536,o===Uh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Of(e,o,h)),!1}throw Error(s(435,a.tag))}return Of(e,o,h),Vf(),!1}if(ue)return n=lr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==xh&&(e=Error(s(422),{cause:o}),Ml(rr(e,a)))):(o!==xh&&(n=Error(s(423),{cause:o}),Ml(rr(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=rr(o,a),h=of(e.stateNode,o,h),jh(e,h),xe!==4&&(xe=2)),!1;var d=Error(s(520),{cause:o});if(d=rr(d,a),Zl===null?Zl=[d]:Zl.push(d),xe!==4&&(xe=2),n===null)return!0;o=rr(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=of(a.stateNode,o,e),jh(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Qi===null||!Qi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_p(h),Ep(h,e,a,o),jh(a,h),!1}a=a.return}while(a!==null);return!1}var Tp=Error(s(461)),Ze=!1;function an(e,n,a,o){n.child=e===null?hp(n,null,a,o):Is(n,e.child,a,o)}function Sp(e,n,a,o,h){a=a.render;var d=n.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Ba(n),o=Fh(e,n,a,_,d,h),T=Gh(),e!==null&&!Ze?(Qh(e,n,h),mi(e,n,h)):(ue&&T&&Ch(n),n.flags|=1,an(e,n,o,h),n.child)}function Ap(e,n,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!bh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,bp(e,n,d,o,h)):(e=uu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!pf(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(_,o)&&e.ref===n.ref)return mi(e,n,h)}return n.flags|=1,e=li(d,o),e.ref=n.ref,e.return=n,n.child=e}function bp(e,n,a,o,h){if(e!==null){var d=e.memoizedProps;if(wl(d,o)&&e.ref===n.ref)if(Ze=!1,n.pendingProps=o=d,pf(e,h))(e.flags&131072)!==0&&(Ze=!0);else return n.lanes=e.lanes,mi(e,n,h)}return uf(e,n,a,o,h)}function Rp(e,n,a){var o=n.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return wp(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&mu(n,d!==null?d.cachePool:null),d!==null?bg(n,d):Bh(),fp(n);else return n.lanes=n.childLanes=536870912,wp(e,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(mu(n,d.cachePool),bg(n,d),ki(),n.memoizedState=null):(e!==null&&mu(n,null),Bh(),ki());return an(e,n,h,a),n.child}function wp(e,n,a,o){var h=Lh();return h=h===null?null:{parent:Fe._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&mu(n,null),Bh(),fp(n),e!==null&&Il(e,n,o,!0),null}function Iu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function uf(e,n,a,o,h){return Ba(n),a=Fh(e,n,a,o,void 0,h),o=Gh(),e!==null&&!Ze?(Qh(e,n,h),mi(e,n,h)):(ue&&o&&Ch(n),n.flags|=1,an(e,n,a,h),n.child)}function Cp(e,n,a,o,h,d){return Ba(n),n.updateQueue=null,a=wg(n,o,a,h),Rg(e),o=Gh(),e!==null&&!Ze?(Qh(e,n,d),mi(e,n,d)):(ue&&o&&Ch(n),n.flags|=1,an(e,n,a,d),n.child)}function Dp(e,n,a,o,h){if(Ba(n),n.stateNode===null){var d=Ts,_=a.contextType;typeof _=="object"&&_!==null&&(d=mn(_)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=lf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Ph(n),_=a.contextType,d.context=typeof _=="object"&&_!==null?mn(_):Ts,d.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(sf(n,a,_,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&lf.enqueueReplaceState(d,d.state,null),zl(n,o,d,h),Pl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,D=Fa(a,T);d.props=D;var G=d.context,tt=a.contextType;_=Ts,typeof tt=="object"&&tt!==null&&(_=mn(tt));var at=a.getDerivedStateFromProps;tt=typeof at=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,tt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||G!==_)&&mp(n,d,o,_),Li=!1;var Y=n.memoizedState;d.state=Y,zl(n,o,d,h),Pl(),G=n.memoizedState,T||Y!==G||Li?(typeof at=="function"&&(sf(n,a,at,o),G=n.memoizedState),(D=Li||dp(n,a,D,o,Y,G,_))?(tt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=G),d.props=o,d.state=G,d.context=_,o=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,zh(e,n),_=n.memoizedProps,tt=Fa(a,_),d.props=tt,at=n.pendingProps,Y=d.context,G=a.contextType,D=Ts,typeof G=="object"&&G!==null&&(D=mn(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==at||Y!==D)&&mp(n,d,o,D),Li=!1,Y=n.memoizedState,d.state=Y,zl(n,o,d,h),Pl();var K=n.memoizedState;_!==at||Y!==K||Li||e!==null&&e.dependencies!==null&&fu(e.dependencies)?(typeof T=="function"&&(sf(n,a,T,o),K=n.memoizedState),(tt=Li||dp(n,a,tt,o,Y,K,D)||e!==null&&e.dependencies!==null&&fu(e.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,K,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=K),d.props=o,d.state=K,d.context=D,o=tt):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Iu(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=Is(n,e.child,null,h),n.child=Is(n,null,a,h)):an(e,n,a,h),n.memoizedState=d.state,e=n.child):e=mi(e,n,h),e}function xp(e,n,a,o){return xl(),n.flags|=256,an(e,n,a,o),n.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hf(e){return{baseLanes:e,cachePool:pg()}}function ff(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=or),e}function Mp(e,n,a){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(ue){if(h?ji(n):ki(),ue){var T=De,D;if(D=T){t:{for(D=T,T=Ur;D.nodeType!==8;){if(!T){T=null;break t}if(D=_r(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(n.memoizedState={dehydrated:T,treeContext:Ua!==null?{id:oi,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},D=Pn(18,null,null,0),D.stateNode=T,D.return=n,n.child=D,Rn=n,De=null,D=!0):D=!1}D||ja(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Xf(T)?n.lanes=32:n.lanes=536870912,null;di(n)}return T=o.children,o=o.fallback,h?(ki(),h=n.mode,T=Vu({mode:"hidden",children:T},h),o=La(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,h=n.child,h.memoizedState=hf(a),h.childLanes=ff(e,_,a),n.memoizedState=cf,o):(ji(n),df(n,T))}if(D=e.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)n.flags&256?(ji(n),n.flags&=-257,n=mf(e,n,a)):n.memoizedState!==null?(ki(),n.child=e.child,n.flags|=128,n=null):(ki(),h=o.fallback,T=n.mode,o=Vu({mode:"visible",children:o.children},T),h=La(h,T,a,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,Is(n,e.child,null,a),o=n.child,o.memoizedState=hf(a),o.childLanes=ff(e,_,a),n.memoizedState=cf,n=h);else if(ji(n),Xf(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var G=_.dgst;_=G,o=Error(s(419)),o.stack="",o.digest=_,Ml({value:o,source:null,stack:null}),n=mf(e,n,a)}else if(Ze||Il(e,n,a,!1),_=(a&e.childLanes)!==0,Ze||_){if(_=Se,_!==null&&(o=a&-a,o=(o&42)!==0?1:wr(o),o=(o&(_.suspendedLanes|a))!==0?0:o,o!==0&&o!==D.retryLane))throw D.retryLane=o,Es(e,o),Hn(_,e,o),Tp;T.data==="$?"||Vf(),n=mf(e,n,a)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,De=_r(T.nextSibling),Rn=n,ue=!0,za=null,Ur=!1,e!==null&&(ar[sr++]=oi,ar[sr++]=ui,ar[sr++]=Ua,oi=e.id,ui=e.overflow,Ua=n),n=df(n,o.children),n.flags|=4096);return n}return h?(ki(),h=o.fallback,T=n.mode,D=e.child,G=D.sibling,o=li(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,G!==null?h=li(G,h):(h=La(h,T,a,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,T=e.child.memoizedState,T===null?T=hf(a):(D=T.cachePool,D!==null?(G=Fe._currentValue,D=D.parent!==G?{parent:G,pool:G}:D):D=pg(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=ff(e,_,a),n.memoizedState=cf,o):(ji(n),a=e.child,e=a.sibling,a=li(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function df(e,n){return n=Vu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Vu(e,n){return e=Pn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function mf(e,n,a){return Is(n,e.child,null,a),e=df(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ip(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Ih(e.return,n,a)}function gf(e,n,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Vp(e,n,a){var o=n.pendingProps,h=o.revealOrder,d=o.tail;if(an(e,n,o.children,a),o=Ge.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ip(e,a,n);else if(e.tag===19)Ip(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(lt(Ge,o),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Du(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),gf(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Du(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}gf(n,!0,a,null,d);break;case"together":gf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function mi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Gi|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Il(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=li(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=li(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&fu(e)))}function bT(e,n,a){switch(n.tag){case 3:ge(n,n.stateNode.containerInfo),Oi(n,Fe,e.memoizedState.cache),xl();break;case 27:case 5:Ae(n);break;case 4:ge(n,n.stateNode.containerInfo);break;case 10:Oi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ji(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Mp(e,n,a):(ji(n),e=mi(e,n,a),e!==null?e.sibling:null);ji(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Il(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Vp(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(Ge,Ge.current),o)break;return null;case 22:case 23:return n.lanes=0,Rp(e,n,a);case 24:Oi(n,Fe,e.memoizedState.cache)}return mi(e,n,a)}function Np(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ze=!0;else{if(!pf(e,a)&&(n.flags&128)===0)return Ze=!1,bT(e,n,a);Ze=(e.flags&131072)!==0}else Ze=!1,ue&&(n.flags&1048576)!==0&&ug(n,hu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")bh(o)?(e=Fa(o,e),n.tag=1,n=Dp(null,n,o,e,a)):(n.tag=0,n=uf(null,n,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===gt){n.tag=11,n=Sp(null,n,o,e,a);break t}else if(h===V){n.tag=14,n=Ap(null,n,o,e,a);break t}}throw n=Bt(o)||o,Error(s(306,n,""))}}return n;case 0:return uf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Fa(o,n.pendingProps),Dp(e,n,o,h,a);case 3:t:{if(ge(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,zh(e,n),zl(n,o,null,a);var _=n.memoizedState;if(o=_.cache,Oi(n,Fe,o),o!==d.cache&&Vh(n,[Fe],a,!0),Pl(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=xp(e,n,o,a);break t}else if(o!==h){h=rr(Error(s(424)),n),Ml(h),n=xp(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(De=_r(e.firstChild),Rn=n,ue=!0,za=null,Ur=!0,a=hp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xl(),o===h){n=mi(e,n,a);break t}an(e,n,o,a)}n=n.child}return n;case 26:return Iu(e,n),e===null?(a=Py(n.type,null,n.pendingProps,null))?n.memoizedState=a:ue||(a=n.type,e=n.pendingProps,o=Qu(Ct.current).createElement(a),o[it]=n,o[ct]=e,ln(o,a,e),te(o),n.stateNode=o):n.memoizedState=Py(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ae(n),e===null&&ue&&(o=n.stateNode=Oy(n.type,n.pendingProps,Ct.current),Rn=n,Ur=!0,h=De,Xi(n.type)?($f=h,De=_r(o.firstChild)):De=h),an(e,n,n.pendingProps.children,a),Iu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ue&&((h=o=De)&&(o=JT(o,n.type,n.pendingProps,Ur),o!==null?(n.stateNode=o,Rn=n,De=_r(o.firstChild),Ur=!1,h=!0):h=!1),h||ja(n)),Ae(n),h=n.type,d=n.pendingProps,_=e!==null?e.memoizedProps:null,o=d.children,Qf(h,d)?o=null:_!==null&&Qf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Fh(e,n,pT,null,null,a),so._currentValue=h),Iu(e,n),an(e,n,o,a),n.child;case 6:return e===null&&ue&&((e=a=De)&&(a=WT(a,n.pendingProps,Ur),a!==null?(n.stateNode=a,Rn=n,De=null,e=!0):e=!1),e||ja(n)),null;case 13:return Mp(e,n,a);case 4:return ge(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Is(n,null,o,a):an(e,n,o,a),n.child;case 11:return Sp(e,n,n.type,n.pendingProps,a);case 7:return an(e,n,n.pendingProps,a),n.child;case 8:return an(e,n,n.pendingProps.children,a),n.child;case 12:return an(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Oi(n,n.type,o.value),an(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ba(n),h=mn(h),o=o(h),n.flags|=1,an(e,n,o,a),n.child;case 14:return Ap(e,n,n.type,n.pendingProps,a);case 15:return bp(e,n,n.type,n.pendingProps,a);case 19:return Vp(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Vu(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=li(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Rp(e,n,a);case 24:return Ba(n),o=mn(Fe),e===null?(h=Lh(),h===null&&(h=Se,d=Nh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:o,cache:h},Ph(n),Oi(n,Fe,h)):((e.lanes&a)!==0&&(zh(e,n),zl(n,null,null,a),Pl()),h=e.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Oi(n,Fe,o)):(o=d.cache,Oi(n,Fe,o),o!==h.cache&&Vh(n,[Fe],a,!0))),an(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function gi(e){e.flags|=4}function Op(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Hy(n)){if(n=lr.current,n!==null&&((re&4194048)===re?Pr!==null:(re&62914560)!==re&&(re&536870912)===0||n!==Pr))throw Ll=Uh,yg;e.flags|=8192}}function Nu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ta():536870912,e.lanes|=n,Ls|=n)}function Gl(e,n){if(!ue)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function we(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function RT(e,n,a){var o=n.pendingProps;switch(Dh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(n),null;case 1:return we(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),hi(Fe),Qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Dl(n)?gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,fg())),we(n),null;case 26:return a=n.memoizedState,e===null?(gi(n),a!==null?(we(n),Op(n,a)):(we(n),n.flags&=-16777217)):a?a!==e.memoizedState?(gi(n),we(n),Op(n,a)):(we(n),n.flags&=-16777217):(e.memoizedProps!==o&&gi(n),we(n),n.flags&=-16777217),null;case 27:hn(n),a=Ct.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&gi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return we(n),null}e=At.current,Dl(n)?cg(n):(e=Oy(h,o,a),n.stateNode=e,gi(n))}return we(n),null;case 5:if(hn(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&gi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return we(n),null}if(e=At.current,Dl(n))cg(n);else{switch(h=Qu(Ct.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[it]=n,e[ct]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ln(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&gi(n)}}return we(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=Ct.current,Dl(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Rn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[it]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Cy(e.nodeValue,a)),e||ja(n)}else e=Qu(e).createTextNode(o),e[it]=n,n.stateNode=e}return we(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Dl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[it]=n}else xl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;we(n),h=!1}else h=fg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(di(n),n):(di(n),null)}if(di(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Nu(n,n.updateQueue),we(n),null;case 4:return Qn(),e===null&&Bf(n.stateNode.containerInfo),we(n),null;case 10:return hi(n.type),we(n),null;case 19:if(dt(Ge),h=n.memoizedState,h===null)return we(n),null;if(o=(n.flags&128)!==0,d=h.rendering,d===null)if(o)Gl(h,!1);else{if(xe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Du(e),d!==null){for(n.flags|=128,Gl(h,!1),e=d.updateQueue,n.updateQueue=e,Nu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)og(a,e),a=a.sibling;return lt(Ge,Ge.current&1|2),n.child}e=e.sibling}h.tail!==null&&En()>Uu&&(n.flags|=128,o=!0,Gl(h,!1),n.lanes=4194304)}else{if(!o)if(e=Du(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Nu(n,e),Gl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ue)return we(n),null}else 2*En()-h.renderingStartTime>Uu&&a!==536870912&&(n.flags|=128,o=!0,Gl(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=En(),n.sibling=null,e=Ge.current,lt(Ge,o?e&1|2:e&1),n):(we(n),null);case 22:case 23:return di(n),Hh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(we(n),n.subtreeFlags&6&&(n.flags|=8192)):we(n),a=n.updateQueue,a!==null&&Nu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&dt(Ha),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),hi(Fe),we(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function wT(e,n){switch(Dh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hi(Fe),Qn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return hn(n),null;case 13:if(di(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return dt(Ge),null;case 4:return Qn(),null;case 10:return hi(n.type),null;case 22:case 23:return di(n),Hh(),e!==null&&dt(Ha),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return hi(Fe),null;case 25:return null;default:return null}}function Lp(e,n){switch(Dh(n),n.tag){case 3:hi(Fe),Qn();break;case 26:case 27:case 5:hn(n);break;case 4:Qn();break;case 13:di(n);break;case 19:dt(Ge);break;case 10:hi(n.type);break;case 22:case 23:di(n),Hh(),e!==null&&dt(Ha);break;case 24:hi(Fe)}}function Ql(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,_=a.inst;o=d(),_.destroy=o}a=a.next}while(a!==h)}}catch(T){Te(n,n.return,T)}}function Bi(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var D=a,G=T;try{G()}catch(tt){Te(h,D,tt)}}}o=o.next}while(o!==d)}}catch(tt){Te(n,n.return,tt)}}function Up(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Ag(n,a)}catch(o){Te(e,e.return,o)}}}function Pp(e,n,a){a.props=Fa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Te(e,n,o)}}function Yl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Te(e,n,h)}}function zr(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Te(e,n,h)}else a.current=null}function zp(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Te(e,e.return,h)}}function yf(e,n,a){try{var o=e.stateNode;YT(o,e.type,a,n),o[ct]=n}catch(h){Te(e,e.return,h)}}function jp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xi(e.type)||e.tag===4}function vf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||jp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _f(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gu));else if(o!==4&&(o===27&&Xi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(_f(e,n,a),e=e.sibling;e!==null;)_f(e,n,a),e=e.sibling}function Ou(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Xi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ou(e,n,a),e=e.sibling;e!==null;)Ou(e,n,a),e=e.sibling}function kp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ln(n,o,a),n[it]=e,n[ct]=a}catch(d){Te(e,e.return,d)}}var pi=!1,Ie=!1,Ef=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,Je=null;function CT(e,n){if(e=e.containerInfo,Ff=Ju,e=Jm(e),yh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,D=-1,G=0,tt=0,at=e,Y=null;e:for(;;){for(var K;at!==a||h!==0&&at.nodeType!==3||(T=_+h),at!==d||o!==0&&at.nodeType!==3||(D=_+o),at.nodeType===3&&(_+=at.nodeValue.length),(K=at.firstChild)!==null;)Y=at,at=K;for(;;){if(at===e)break e;if(Y===a&&++G===h&&(T=_),Y===d&&++tt===o&&(D=_),(K=at.nextSibling)!==null)break;at=Y,Y=at.parentNode}at=K}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gf={focusedElem:e,selectionRange:a},Ju=!1,Je=n;Je!==null;)if(n=Je,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Je=e;else for(;Je!==null;){switch(n=Je,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var Lt=Fa(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(Lt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(It){Te(a,a.return,It)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Kf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Je=e;break}Je=n.return}}function Hp(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Hi(e,a),o&4&&Ql(5,a);break;case 1:if(Hi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){Te(a,a.return,_)}else{var h=Fa(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Te(a,a.return,_)}}o&64&&Up(a),o&512&&Yl(a,a.return);break;case 3:if(Hi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ag(e,n)}catch(_){Te(a,a.return,_)}}break;case 27:n===null&&o&4&&kp(a);case 26:case 5:Hi(e,a),n===null&&o&4&&zp(a),o&512&&Yl(a,a.return);break;case 12:Hi(e,a);break;case 13:Hi(e,a),o&4&&Gp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=UT.bind(null,a),t1(e,a))));break;case 22:if(o=a.memoizedState!==null||pi,!o){n=n!==null&&n.memoizedState!==null||Ie,h=pi;var d=Ie;pi=o,(Ie=n)&&!d?qi(e,a,(a.subtreeFlags&8772)!==0):Hi(e,a),pi=h,Ie=d}break;case 30:break;default:Hi(e,a)}}function qp(e){var n=e.alternate;n!==null&&(e.alternate=null,qp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&St(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var be=null,Dn=!1;function yi(e,n,a){for(a=a.child;a!==null;)Fp(e,n,a),a=a.sibling}function Fp(e,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:Ie||zr(a,n),yi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||zr(a,n);var o=be,h=Dn;Xi(a.type)&&(be=a.stateNode,Dn=!1),yi(e,n,a),no(a.stateNode),be=o,Dn=h;break;case 5:Ie||zr(a,n);case 6:if(o=be,h=Dn,be=null,yi(e,n,a),be=o,Dn=h,be!==null)if(Dn)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(a.stateNode)}catch(d){Te(a,n,d)}else try{be.removeChild(a.stateNode)}catch(d){Te(a,n,d)}break;case 18:be!==null&&(Dn?(e=be,Vy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),co(e)):Vy(be,a.stateNode));break;case 4:o=be,h=Dn,be=a.stateNode.containerInfo,Dn=!0,yi(e,n,a),be=o,Dn=h;break;case 0:case 11:case 14:case 15:Ie||Bi(2,a,n),Ie||Bi(4,a,n),yi(e,n,a);break;case 1:Ie||(zr(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Pp(a,n,o)),yi(e,n,a);break;case 21:yi(e,n,a);break;case 22:Ie=(o=Ie)||a.memoizedState!==null,yi(e,n,a),Ie=o;break;default:yi(e,n,a)}}function Gp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{co(e)}catch(a){Te(n,n.return,a)}}function DT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Bp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Bp),n;default:throw Error(s(435,e.tag))}}function Tf(e,n){var a=DT(e);n.forEach(function(o){var h=PT.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function zn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Xi(T.type)){be=T.stateNode,Dn=!1;break t}break;case 5:be=T.stateNode,Dn=!1;break t;case 3:case 4:be=T.stateNode.containerInfo,Dn=!0;break t}T=T.return}if(be===null)throw Error(s(160));Fp(d,_,h),be=null,Dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Qp(n,e),n=n.sibling}var vr=null;function Qp(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zn(n,e),jn(e),o&4&&(Bi(3,e,e.return),Ql(3,e),Bi(5,e,e.return));break;case 1:zn(n,e),jn(e),o&512&&(Ie||a===null||zr(a,a.return)),o&64&&pi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=vr;if(zn(n,e),jn(e),o&512&&(Ie||a===null||zr(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Mt]||d[it]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),ln(d,o,a),d[it]=e,te(d),o=d;break t;case"link":var _=ky("link","href",h).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(o),ln(d,o,a),h.head.appendChild(d);break;case"meta":if(_=ky("meta","content",h).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(o),ln(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[it]=e,te(d),o=d}e.stateNode=o}else By(h,e.type,e.stateNode);else e.stateNode=jy(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?By(h,e.type,e.stateNode):jy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&yf(e,e.memoizedProps,a.memoizedProps)}break;case 27:zn(n,e),jn(e),o&512&&(Ie||a===null||zr(a,a.return)),a!==null&&o&4&&yf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(zn(n,e),jn(e),o&512&&(Ie||a===null||zr(a,a.return)),e.flags&32){h=e.stateNode;try{Wn(h,"")}catch(K){Te(e,e.return,K)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,yf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Ef=!0);break;case 6:if(zn(n,e),jn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(K){Te(e,e.return,K)}}break;case 3:if(Xu=null,h=vr,vr=Yu(n.containerInfo),zn(n,e),vr=h,jn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{co(n.containerInfo)}catch(K){Te(e,e.return,K)}Ef&&(Ef=!1,Yp(e));break;case 4:o=vr,vr=Yu(e.stateNode.containerInfo),zn(n,e),jn(e),vr=o;break;case 12:zn(n,e),jn(e);break;case 13:zn(n,e),jn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cf=En()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tf(e,o)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,G=pi,tt=Ie;if(pi=G||h,Ie=tt||D,zn(n,e),Ie=tt,pi=G,jn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||pi||Ie||Ga(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var at=D.memoizedProps.style,Y=at!=null&&at.hasOwnProperty("display")?at.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(K){Te(D,D.return,K)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(K){Te(D,D.return,K)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Tf(e,a))));break;case 19:zn(n,e),jn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tf(e,o)));break;case 30:break;case 21:break;default:zn(n,e),jn(e)}}function jn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(jp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=vf(e);Ou(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Wn(_,""),a.flags&=-33);var T=vf(e);Ou(e,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,G=vf(e);_f(e,G,D);break;default:throw Error(s(161))}}catch(tt){Te(e,e.return,tt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Yp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Yp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hp(e,n.alternate,n),n=n.sibling}function Ga(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Bi(4,n,n.return),Ga(n);break;case 1:zr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Pp(n,n.return,a),Ga(n);break;case 27:no(n.stateNode);case 26:case 5:zr(n,n.return),Ga(n);break;case 22:n.memoizedState===null&&Ga(n);break;case 30:Ga(n);break;default:Ga(n)}e=e.sibling}}function qi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:qi(h,d,a),Ql(4,d);break;case 1:if(qi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){Te(o,o.return,G)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Sg(D[h],T)}catch(G){Te(o,o.return,G)}}a&&_&64&&Up(d),Yl(d,d.return);break;case 27:kp(d);case 26:case 5:qi(h,d,a),a&&o===null&&_&4&&zp(d),Yl(d,d.return);break;case 12:qi(h,d,a);break;case 13:qi(h,d,a),a&&_&4&&Gp(h,d);break;case 22:d.memoizedState===null&&qi(h,d,a),Yl(d,d.return);break;case 30:break;default:qi(h,d,a)}n=n.sibling}}function Sf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vl(a))}function Af(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vl(e))}function jr(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kp(e,n,a,o),n=n.sibling}function Kp(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:jr(e,n,a,o),h&2048&&Ql(9,n);break;case 1:jr(e,n,a,o);break;case 3:jr(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vl(e)));break;case 12:if(h&2048){jr(e,n,a,o),e=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Te(n,n.return,D)}}else jr(e,n,a,o);break;case 13:jr(e,n,a,o);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?jr(e,n,a,o):Kl(e,n):d._visibility&2?jr(e,n,a,o):(d._visibility|=2,Vs(e,n,a,o,(n.subtreeFlags&10256)!==0)),h&2048&&Sf(_,n);break;case 24:jr(e,n,a,o),h&2048&&Af(n.alternate,n);break;default:jr(e,n,a,o)}}function Vs(e,n,a,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,_=n,T=a,D=o,G=_.flags;switch(_.tag){case 0:case 11:case 15:Vs(d,_,T,D,h),Ql(8,_);break;case 23:break;case 22:var tt=_.stateNode;_.memoizedState!==null?tt._visibility&2?Vs(d,_,T,D,h):Kl(d,_):(tt._visibility|=2,Vs(d,_,T,D,h)),h&&G&2048&&Sf(_.alternate,_);break;case 24:Vs(d,_,T,D,h),h&&G&2048&&Af(_.alternate,_);break;default:Vs(d,_,T,D,h)}n=n.sibling}}function Kl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:Kl(a,o),h&2048&&Sf(o.alternate,o);break;case 24:Kl(a,o),h&2048&&Af(o.alternate,o);break;default:Kl(a,o)}n=n.sibling}}var Xl=8192;function Ns(e){if(e.subtreeFlags&Xl)for(e=e.child;e!==null;)Xp(e),e=e.sibling}function Xp(e){switch(e.tag){case 26:Ns(e),e.flags&Xl&&e.memoizedState!==null&&d1(vr,e.memoizedState,e.memoizedProps);break;case 5:Ns(e);break;case 3:case 4:var n=vr;vr=Yu(e.stateNode.containerInfo),Ns(e),vr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Xl,Xl=16777216,Ns(e),Xl=n):Ns(e));break;default:Ns(e)}}function $p(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $l(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Je=o,Jp(o,e)}$p(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zp(e),e=e.sibling}function Zp(e){switch(e.tag){case 0:case 11:case 15:$l(e),e.flags&2048&&Bi(9,e,e.return);break;case 3:$l(e);break;case 12:$l(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Lu(e)):$l(e);break;default:$l(e)}}function Lu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Je=o,Jp(o,e)}$p(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Bi(8,n,n.return),Lu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Lu(n));break;default:Lu(n)}e=e.sibling}}function Jp(e,n){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:Bi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Vl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Je=o;else t:for(a=e;Je!==null;){o=Je;var h=o.sibling,d=o.return;if(qp(o),o===a){Je=null;break t}if(h!==null){h.return=d,Je=h;break t}Je=d}}}var xT={getCacheForType:function(e){var n=mn(Fe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},MT=typeof WeakMap=="function"?WeakMap:Map,de=0,Se=null,$t=null,re=0,me=0,kn=null,Fi=!1,Os=!1,bf=!1,vi=0,xe=0,Gi=0,Qa=0,Rf=0,or=0,Ls=0,Zl=null,xn=null,wf=!1,Cf=0,Uu=1/0,Pu=null,Qi=null,sn=0,Yi=null,Us=null,Ps=0,Df=0,xf=null,Wp=null,Jl=0,Mf=null;function Bn(){if((de&2)!==0&&re!==0)return re&-re;if(Q.T!==null){var e=bs;return e!==0?e:Pf()}return I()}function ty(){or===0&&(or=(re&536870912)===0||ue?Jr():536870912);var e=lr.current;return e!==null&&(e.flags|=32),or}function Hn(e,n,a){(e===Se&&(me===2||me===9)||e.cancelPendingCommit!==null)&&(zs(e,0),Ki(e,re,or,!1)),gr(e,a),((de&2)===0||e!==Se)&&(e===Se&&((de&2)===0&&(Qa|=a),xe===4&&Ki(e,re,or,!1)),kr(e))}function ey(e,n,a){if((de&6)!==0)throw Error(s(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Xn(e,n),h=o?NT(e,n):Nf(e,n,!0),d=o;do{if(h===0){Os&&!o&&Ki(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!IT(a)){h=Nf(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=e;h=Zl;var D=T.current.memoizedState.isDehydrated;if(D&&(zs(T,_).flags|=256),_=Nf(T,_,!1),_!==2){if(bf&&!D){T.errorRecoveryDisabledLanes|=d,Qa|=d,h=4;break t}d=xn,xn=h,d!==null&&(xn===null?xn=d:xn.push.apply(xn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){zs(e,0),Ki(e,n,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ki(o,n,or,!Fi);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Cf+300-En(),10<h)){if(Ki(o,n,or,!Fi),Zr(o,0,!0)!==0)break t;o.timeoutHandle=My(ny.bind(null,o,a,xn,Pu,wf,n,or,Qa,Ls,Fi,d,2,-0,0),h);break t}ny(o,a,xn,Pu,wf,n,or,Qa,Ls,Fi,d,0,-0,0)}}break}while(!0);kr(e)}function ny(e,n,a,o,h,d,_,T,D,G,tt,at,Y,K){if(e.timeoutHandle=-1,at=n.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(ao={stylesheets:null,count:0,unsuspend:f1},Xp(n),at=m1(),at!==null)){e.cancelPendingCommit=at(uy.bind(null,e,n,d,a,o,h,_,T,D,tt,1,Y,K)),Ki(e,d,_,!G);return}uy(e,n,d,a,o,h,_,T,D)}function IT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!Un(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ki(e,n,a,o){n&=~Rf,n&=~Qa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var d=31-Le(h),_=1<<d;o[d]=-1,h&=~_}a!==0&&Tn(e,a,n)}function zu(){return(de&6)===0?(Wl(0),!1):!0}function If(){if($t!==null){if(me===0)var e=$t.return;else e=$t,ci=ka=null,Yh(e),Ms=null,ql=0,e=$t;for(;e!==null;)Lp(e.alternate,e),e=e.return;$t=null}}function zs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,XT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),If(),Se=e,$t=a=li(e.current,null),re=n,me=0,kn=null,Fi=!1,Os=Xn(e,n),bf=!1,Ls=or=Rf=Qa=Gi=xe=0,xn=Zl=null,wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Le(o),d=1<<h;n|=e[h],o&=~d}return vi=n,su(),a}function ry(e,n){Ft=null,Q.H=Ru,n===Ol||n===gu?(n=Eg(),me=3):n===yg?(n=Eg(),me=4):me=n===Tp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,$t===null&&(xe=1,Mu(e,rr(n,e.current)))}function iy(){var e=Q.H;return Q.H=Ru,e===null?Ru:e}function ay(){var e=Q.A;return Q.A=xT,e}function Vf(){xe=4,Fi||(re&4194048)!==re&&lr.current!==null||(Os=!0),(Gi&134217727)===0&&(Qa&134217727)===0||Se===null||Ki(Se,re,or,!1)}function Nf(e,n,a){var o=de;de|=2;var h=iy(),d=ay();(Se!==e||re!==n)&&(Pu=null,zs(e,n)),n=!1;var _=xe;t:do try{if(me!==0&&$t!==null){var T=$t,D=kn;switch(me){case 8:If(),_=6;break t;case 3:case 2:case 9:case 6:lr.current===null&&(n=!0);var G=me;if(me=0,kn=null,js(e,T,D,G),a&&Os){_=0;break t}break;default:G=me,me=0,kn=null,js(e,T,D,G)}}VT(),_=xe;break}catch(tt){ry(e,tt)}while(!0);return n&&e.shellSuspendCounter++,ci=ka=null,de=o,Q.H=h,Q.A=d,$t===null&&(Se=null,re=0,su()),_}function VT(){for(;$t!==null;)sy($t)}function NT(e,n){var a=de;de|=2;var o=iy(),h=ay();Se!==e||re!==n?(Pu=null,Uu=En()+500,zs(e,n)):Os=Xn(e,n);t:do try{if(me!==0&&$t!==null){n=$t;var d=kn;e:switch(me){case 1:me=0,kn=null,js(e,n,d,1);break;case 2:case 9:if(vg(d)){me=0,kn=null,ly(n);break}n=function(){me!==2&&me!==9||Se!==e||(me=7),kr(e)},d.then(n,n);break t;case 3:me=7;break t;case 4:me=5;break t;case 7:vg(d)?(me=0,kn=null,ly(n)):(me=0,kn=null,js(e,n,d,7));break;case 5:var _=null;switch($t.tag){case 26:_=$t.memoizedState;case 5:case 27:var T=$t;if(!_||Hy(_)){me=0,kn=null;var D=T.sibling;if(D!==null)$t=D;else{var G=T.return;G!==null?($t=G,ju(G)):$t=null}break e}}me=0,kn=null,js(e,n,d,5);break;case 6:me=0,kn=null,js(e,n,d,6);break;case 8:If(),xe=6;break t;default:throw Error(s(462))}}OT();break}catch(tt){ry(e,tt)}while(!0);return ci=ka=null,Q.H=o,Q.A=h,de=a,$t!==null?0:(Se=null,re=0,su(),xe)}function OT(){for(;$t!==null&&!_a();)sy($t)}function sy(e){var n=Np(e.alternate,e,vi);e.memoizedProps=e.pendingProps,n===null?ju(e):$t=n}function ly(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Cp(a,n,n.pendingProps,n.type,void 0,re);break;case 11:n=Cp(a,n,n.pendingProps,n.type.render,n.ref,re);break;case 5:Yh(n);default:Lp(a,n),n=$t=og(n,vi),n=Np(a,n,vi)}e.memoizedProps=e.pendingProps,n===null?ju(e):$t=n}function js(e,n,a,o){ci=ka=null,Yh(n),Ms=null,ql=0;var h=n.return;try{if(AT(e,h,n,a,re)){xe=1,Mu(e,rr(a,e.current)),$t=null;return}}catch(d){if(h!==null)throw $t=h,d;xe=1,Mu(e,rr(a,e.current)),$t=null;return}n.flags&32768?(ue||o===1?e=!0:Os||(re&536870912)!==0?e=!1:(Fi=e=!0,(o===2||o===9||o===3||o===6)&&(o=lr.current,o!==null&&o.tag===13&&(o.flags|=16384))),oy(n,e)):ju(n)}function ju(e){var n=e;do{if((n.flags&32768)!==0){oy(n,Fi);return}e=n.return;var a=RT(n.alternate,n,vi);if(a!==null){$t=a;return}if(n=n.sibling,n!==null){$t=n;return}$t=n=e}while(n!==null);xe===0&&(xe=5)}function oy(e,n){do{var a=wT(e.alternate,e);if(a!==null){a.flags&=32767,$t=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){$t=e;return}$t=e=a}while(e!==null);xe=6,$t=null}function uy(e,n,a,o,h,d,_,T,D){e.cancelPendingCommit=null;do ku();while(sn!==0);if((de&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Sh,xi(e,a,d,_,T,D),e===Se&&($t=Se=null,re=0),Us=n,Yi=e,Ps=a,Df=d,xf=h,Wp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zT($r,function(){return my(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=ht.p,ht.p=2,_=de,de|=4;try{CT(e,n,a)}finally{de=_,ht.p=h,Q.T=o}}sn=1,cy(),hy(),fy()}}function cy(){if(sn===1){sn=0;var e=Yi,n=Us,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=ht.p;ht.p=2;var h=de;de|=4;try{Qp(n,e);var d=Gf,_=Jm(e.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Zm(T.ownerDocument.documentElement,T)){if(D!==null&&yh(T)){var G=D.start,tt=D.end;if(tt===void 0&&(tt=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(tt,T.value.length);else{var at=T.ownerDocument||document,Y=at&&at.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),Lt=T.textContent.length,It=Math.min(D.start,Lt),_e=D.end===void 0?It:Math.min(D.end,Lt);!K.extend&&It>_e&&(_=_e,_e=It,It=_);var z=$m(T,It),O=$m(T,_e);if(z&&O&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var B=at.createRange();B.setStart(z.node,z.offset),K.removeAllRanges(),It>_e?(K.addRange(B),K.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),K.addRange(B))}}}}for(at=[],K=T;K=K.parentNode;)K.nodeType===1&&at.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<at.length;T++){var et=at[T];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Ju=!!Ff,Gf=Ff=null}finally{de=h,ht.p=o,Q.T=a}}e.current=n,sn=2}}function hy(){if(sn===2){sn=0;var e=Yi,n=Us,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=ht.p;ht.p=2;var h=de;de|=4;try{Hp(e,n.alternate,n)}finally{de=h,ht.p=o,Q.T=a}}sn=3}}function fy(){if(sn===4||sn===3){sn=0,as();var e=Yi,n=Us,a=Ps,o=Wp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?sn=5:(sn=0,Us=Yi=null,dy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Qi=null),Mi(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=ht.p,ht.p=2,Q.T=null;try{for(var d=e.onRecoverableError,_=0;_<o.length;_++){var T=o[_];d(T.value,{componentStack:T.stack})}}finally{Q.T=n,ht.p=h}}(Ps&3)!==0&&ku(),kr(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Mf?Jl++:(Jl=0,Mf=e):Jl=0,Wl(0)}}function dy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Vl(n)))}function ku(e){return cy(),hy(),fy(),my()}function my(){if(sn!==5)return!1;var e=Yi,n=Df;Df=0;var a=Mi(Ps),o=Q.T,h=ht.p;try{ht.p=32>a?32:a,Q.T=null,a=xf,xf=null;var d=Yi,_=Ps;if(sn=0,Us=Yi=null,Ps=0,(de&6)!==0)throw Error(s(331));var T=de;if(de|=4,Zp(d.current),Kp(d,d.current,_,a),de=T,Wl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{ht.p=h,Q.T=o,dy(e,n)}}function gy(e,n,a){n=rr(a,n),n=of(e.stateNode,n,2),e=Pi(e,n,2),e!==null&&(gr(e,2),kr(e))}function Te(e,n,a){if(e.tag===3)gy(e,e,a);else for(;n!==null;){if(n.tag===3){gy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Qi===null||!Qi.has(o))){e=rr(a,e),a=_p(2),o=Pi(n,a,2),o!==null&&(Ep(a,o,n,e),gr(o,2),kr(o));break}}n=n.return}}function Of(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new MT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(bf=!0,h.add(a),e=LT.bind(null,e,n,a),n.then(e,e))}function LT(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Se===e&&(re&a)===a&&(xe===4||xe===3&&(re&62914560)===re&&300>En()-Cf?(de&2)===0&&zs(e,0):Rf|=a,Ls===re&&(Ls=0)),kr(e)}function py(e,n){n===0&&(n=Ta()),e=Es(e,n),e!==null&&(gr(e,n),kr(e))}function UT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),py(e,a)}function PT(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),py(e,a)}function zT(e,n){return Xr(e,n)}var Bu=null,ks=null,Lf=!1,Hu=!1,Uf=!1,Ya=0;function kr(e){e!==ks&&e.next===null&&(ks===null?Bu=ks=e:ks=ks.next=e),Hu=!0,Lf||(Lf=!0,kT())}function Wl(e,n){if(!Uf&&Hu){Uf=!0;do for(var a=!1,o=Bu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Le(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ey(o,d))}else d=re,d=Zr(o,o===Se?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Xn(o,d)||(a=!0,Ey(o,d));o=o.next}while(a);Uf=!1}}function jT(){yy()}function yy(){Hu=Lf=!1;var e=0;Ya!==0&&(KT()&&(e=Ya),Ya=0);for(var n=En(),a=null,o=Bu;o!==null;){var h=o.next,d=vy(o,n);d===0?(o.next=null,a===null?Bu=h:a.next=h,h===null&&(ks=a)):(a=o,(e!==0||(d&3)!==0)&&(Hu=!0)),o=h}Wl(e)}function vy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Le(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&o)!==0)&&(h[_]=Di(T,n)):D<=n&&(e.expiredLanes|=T),d&=~T}if(n=Se,a=re,a=Zr(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(me===2||me===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&_n(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&_n(o),Mi(a)){case 2:case 8:a=Ri;break;case 32:a=$r;break;case 268435456:a=Yn;break;default:a=$r}return o=_y.bind(null,e),a=Xr(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&_n(o),e.callbackPriority=2,e.callbackNode=null,2}function _y(e,n){if(sn!==0&&sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ku()&&e.callbackNode!==a)return null;var o=re;return o=Zr(e,e===Se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ey(e,o,n),vy(e,En()),e.callbackNode!=null&&e.callbackNode===a?_y.bind(null,e):null)}function Ey(e,n){if(ku())return null;ey(e,n,!0)}function kT(){$T(function(){(de&6)!==0?Xr(Ea,jT):yy()})}function Pf(){return Ya===0&&(Ya=Jr()),Ya}function Ty(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:os(""+e)}function Sy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function BT(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var d=Ty((h[ct]||null).action),_=o.submitter;_&&(n=(n=_[ct]||null)?Ty(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new us("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ya!==0){var D=_?Sy(h,_):new FormData(h);nf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?Sy(h,_):new FormData(h),nf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var zf=0;zf<Th.length;zf++){var jf=Th[zf],HT=jf.toLowerCase(),qT=jf[0].toUpperCase()+jf.slice(1);yr(HT,"on"+qT)}yr(eg,"onAnimationEnd"),yr(ng,"onAnimationIteration"),yr(rg,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(sT,"onTransitionRun"),yr(lT,"onTransitionStart"),yr(oT,"onTransitionCancel"),yr(ig,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),Be("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Be("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Be("onBeforeInput",["compositionend","keypress","textInput","paste"]),Be("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Be("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Be("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(to));function Ay(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var _=o.length-1;0<=_;_--){var T=o[_],D=T.instance,G=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=G;try{d(h)}catch(tt){xu(tt)}h.currentTarget=null,d=D}else for(_=0;_<o.length;_++){if(T=o[_],D=T.instance,G=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=G;try{d(h)}catch(tt){xu(tt)}h.currentTarget=null,d=D}}}}function Zt(e,n){var a=n[Dt];a===void 0&&(a=n[Dt]=new Set);var o=e+"__bubble";a.has(o)||(by(n,e,2,!1),a.add(o))}function kf(e,n,a){var o=0;n&&(o|=4),by(a,e,o,n)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Bf(e){if(!e[qu]){e[qu]=!0,Qt.forEach(function(a){a!=="selectionchange"&&(FT.has(a)||kf(a,!1,e),kf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[qu]||(n[qu]=!0,kf("selectionchange",!1,n))}}function by(e,n,a,o){switch(Ky(n)){case 2:var h=y1;break;case 8:h=v1;break;default:h=ed}a=h.bind(null,n,a,e),h=void 0,!er||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Hf(e,n,a,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Vt(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){o=d=_;continue t}T=T.parentNode}}o=o.return}Go(function(){var G=d,tt=tr(a),at=[];t:{var Y=ag.get(e);if(Y!==void 0){var K=us,Lt=e;switch(e){case"keypress":if(Ir(a)===0)break t;case"keydown":case"keyup":K=gs;break;case"focusin":Lt="focus",K=fs;break;case"focusout":Lt="blur",K=fs;break;case"beforeblur":case"afterblur":K=fs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Wo;break;case eg:case ng:case rg:K=ds;break;case ig:K=eu;break;case"scroll":case"scrollend":K=Qo;break;case"wheel":K=ps;break;case"copy":case"cut":case"paste":K=ms;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=bl;break;case"toggle":case"beforetoggle":K=ru}var It=(n&4)!==0,_e=!It&&(e==="scroll"||e==="scrollend"),z=It?Y!==null?Y+"Capture":null:Y;It=[];for(var O=G,B;O!==null;){var et=O;if(B=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||B===null||z===null||(et=wa(O,z),et!=null&&It.push(eo(O,et,B))),_e)break;O=O.return}0<It.length&&(Y=new K(Y,Lt,null,a,tt),at.push({event:Y,listeners:It}))}}if((n&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",Y&&a!==ei&&(Lt=a.relatedTarget||a.fromElement)&&(Vt(Lt)||Lt[vt]))break t;if((K||Y)&&(Y=tt.window===tt?tt:(Y=tt.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(Lt=a.relatedTarget||a.toElement,K=G,Lt=Lt?Vt(Lt):null,Lt!==null&&(_e=u(Lt),It=Lt.tag,Lt!==_e||It!==5&&It!==27&&It!==6)&&(Lt=null)):(K=null,Lt=G),K!==Lt)){if(It=nr,et="onMouseLeave",z="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(It=bl,et="onPointerLeave",z="onPointerEnter",O="pointer"),_e=K==null?Y:ce(K),B=Lt==null?Y:ce(Lt),Y=new It(et,O+"leave",K,a,tt),Y.target=_e,Y.relatedTarget=B,et=null,Vt(tt)===G&&(It=new It(z,O+"enter",Lt,a,tt),It.target=B,It.relatedTarget=_e,et=It),_e=et,K&&Lt)e:{for(It=K,z=Lt,O=0,B=It;B;B=Bs(B))O++;for(B=0,et=z;et;et=Bs(et))B++;for(;0<O-B;)It=Bs(It),O--;for(;0<B-O;)z=Bs(z),B--;for(;O--;){if(It===z||z!==null&&It===z.alternate)break e;It=Bs(It),z=Bs(z)}It=null}else It=null;K!==null&&Ry(at,Y,K,It,!1),Lt!==null&&_e!==null&&Ry(at,_e,Lt,It,!0)}}t:{if(Y=G?ce(G):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var Et=Fm;else if(qe(Y))if(Gm)Et=rT;else{Et=eT;var Yt=tT}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&yl(G.elementType)&&(Et=Fm):Et=nT;if(Et&&(Et=Et(e,G))){si(at,Et,a,tt);break t}Yt&&Yt(e,Y,G),e==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&Vi(Y,"number",Y.value)}switch(Yt=G?ce(G):window,e){case"focusin":(qe(Yt)||Yt.contentEditable==="true")&&(ys=Yt,vh=G,Cl=null);break;case"focusout":Cl=vh=ys=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,Wm(at,a,tt);break;case"selectionchange":if(aT)break;case"keydown":case"keyup":Wm(at,a,tt)}var Rt;if(Or)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else ee?Z(e,a)&&(Nt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(v&&a.locale!=="ko"&&(ee||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ee&&(Rt=_l()):(Mr=tt,Ni="value"in Mr?Mr.value:Mr.textContent,ee=!0)),Yt=Fu(G,Nt),0<Yt.length&&(Nt=new Sl(Nt,e,null,a,tt),at.push({event:Nt,listeners:Yt}),Rt?Nt.data=Rt:(Rt=ft(a),Rt!==null&&(Nt.data=Rt)))),(Rt=p?He(e,a):ne(e,a))&&(Nt=Fu(G,"onBeforeInput"),0<Nt.length&&(Yt=new Sl("onBeforeInput","beforeinput",null,a,tt),at.push({event:Yt,listeners:Nt}),Yt.data=Rt)),BT(at,e,G,a,tt)}Ay(at,n)})}function eo(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Fu(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=wa(e,a),h!=null&&o.unshift(eo(e,h,d)),h=wa(e,n),h!=null&&o.push(eo(e,h,d))),e.tag===3)return o;e=e.return}return[]}function Bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ry(e,n,a,o,h){for(var d=n._reactName,_=[];a!==null&&a!==o;){var T=a,D=T.alternate,G=T.stateNode;if(T=T.tag,D!==null&&D===o)break;T!==5&&T!==26&&T!==27||G===null||(D=G,h?(G=wa(a,d),G!=null&&_.unshift(eo(a,G,D))):h||(G=wa(a,d),G!=null&&_.push(eo(a,G,D)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var GT=/\r\n?/g,QT=/\u0000|\uFFFD/g;function wy(e){return(typeof e=="string"?e:""+e).replace(GT,`
`).replace(QT,"")}function Cy(e,n){return n=wy(n),wy(e)===n}function Gu(){}function ve(e,n,a,o,h,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Wn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Wn(e,""+o);break;case"className":An(e,"class",o);break;case"tabIndex":An(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(e,a,o);break;case"style":pl(e,o,d);break;case"data":if(n!=="object"){An(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=os(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&ve(e,n,"name",h.name,h,null),ve(e,n,"formEncType",h.formEncType,h,null),ve(e,n,"formMethod",h.formMethod,h,null),ve(e,n,"formTarget",h.formTarget,h,null)):(ve(e,n,"encType",h.encType,h,null),ve(e,n,"method",h.method,h,null),ve(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=os(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Gu);break;case"onScroll":o!=null&&Zt("scroll",e);break;case"onScrollEnd":o!=null&&Zt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=os(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Zt("beforetoggle",e),Zt("toggle",e),dn(e,"popover",o);break;case"xlinkActuate":Ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ut(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ut(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ut(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ut(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":dn(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hh.get(a)||a,dn(e,a,o))}}function qf(e,n,a,o,h,d){switch(a){case"style":pl(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Wn(e,o):(typeof o=="number"||typeof o=="bigint")&&Wn(e,""+o);break;case"onScroll":o!=null&&Zt("scroll",e);break;case"onScrollEnd":o!=null&&Zt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zn.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=e[ct]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):dn(e,a,o)}}}function ln(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",e),Zt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,d,_,a,null)}}h&&ve(e,n,"srcSet",a.srcSet,a,null),o&&ve(e,n,"src",a.src,a,null);return;case"input":Zt("invalid",e);var T=d=_=h=null,D=null,G=null;for(o in a)if(a.hasOwnProperty(o)){var tt=a[o];if(tt!=null)switch(o){case"name":h=tt;break;case"type":_=tt;break;case"checked":D=tt;break;case"defaultChecked":G=tt;break;case"value":d=tt;break;case"defaultValue":T=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,n));break;default:ve(e,n,o,tt,a,null)}}Aa(e,d,T,D,G,_,h,!1),ls(e);return;case"select":Zt("invalid",e),o=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:ve(e,n,h,T,a,null)}n=d,a=_,e.multiple=!!o,n!=null?ti(e,!!o,n,!1):a!=null&&ti(e,!!o,a,!0);return;case"textarea":Zt("invalid",e),d=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ve(e,n,_,T,a,null)}ba(e,o,h,d),ls(e);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ve(e,n,D,o,a,null)}return;case"dialog":Zt("beforetoggle",e),Zt("toggle",e),Zt("cancel",e),Zt("close",e);break;case"iframe":case"object":Zt("load",e);break;case"video":case"audio":for(o=0;o<to.length;o++)Zt(to[o],e);break;case"image":Zt("error",e),Zt("load",e);break;case"details":Zt("toggle",e);break;case"embed":case"source":case"link":Zt("error",e),Zt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(o=a[G],o!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,G,o,a,null)}return;default:if(yl(n)){for(tt in a)a.hasOwnProperty(tt)&&(o=a[tt],o!==void 0&&qf(e,n,tt,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&ve(e,n,T,o,a,null))}function YT(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,G=null,tt=null;for(K in a){var at=a[K];if(a.hasOwnProperty(K)&&at!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=at;default:o.hasOwnProperty(K)||ve(e,n,K,null,o,at)}}for(var Y in o){var K=o[Y];if(at=a[Y],o.hasOwnProperty(Y)&&(K!=null||at!=null))switch(Y){case"type":d=K;break;case"name":h=K;break;case"checked":G=K;break;case"defaultChecked":tt=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:K!==at&&ve(e,n,Y,K,o,at)}}Ln(e,_,T,D,G,tt,d,h);return;case"select":K=_=T=Y=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:o.hasOwnProperty(d)||ve(e,n,d,null,o,D)}for(h in o)if(d=o[h],D=a[h],o.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":Y=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&ve(e,n,h,d,o,D)}n=T,a=_,o=K,Y!=null?ti(e,!!a,Y,!1):!!o!=!!a&&(n!=null?ti(e,!!a,n,!0):ti(e,!!a,a?[]:"",!1));return;case"textarea":K=Y=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ve(e,n,T,null,o,h)}for(_ in o)if(h=o[_],d=a[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":Y=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ve(e,n,_,h,o,d)}pe(e,Y,K);return;case"option":for(var Lt in a)if(Y=a[Lt],a.hasOwnProperty(Lt)&&Y!=null&&!o.hasOwnProperty(Lt))switch(Lt){case"selected":e.selected=!1;break;default:ve(e,n,Lt,null,o,Y)}for(D in o)if(Y=o[D],K=a[D],o.hasOwnProperty(D)&&Y!==K&&(Y!=null||K!=null))switch(D){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ve(e,n,D,Y,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in a)Y=a[It],a.hasOwnProperty(It)&&Y!=null&&!o.hasOwnProperty(It)&&ve(e,n,It,null,o,Y);for(G in o)if(Y=o[G],K=a[G],o.hasOwnProperty(G)&&Y!==K&&(Y!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:ve(e,n,G,Y,o,K)}return;default:if(yl(n)){for(var _e in a)Y=a[_e],a.hasOwnProperty(_e)&&Y!==void 0&&!o.hasOwnProperty(_e)&&qf(e,n,_e,void 0,o,Y);for(tt in o)Y=o[tt],K=a[tt],!o.hasOwnProperty(tt)||Y===K||Y===void 0&&K===void 0||qf(e,n,tt,Y,o,K);return}}for(var z in a)Y=a[z],a.hasOwnProperty(z)&&Y!=null&&!o.hasOwnProperty(z)&&ve(e,n,z,null,o,Y);for(at in o)Y=o[at],K=a[at],!o.hasOwnProperty(at)||Y===K||Y==null&&K==null||ve(e,n,at,Y,o,K)}var Ff=null,Gf=null;function Qu(e){return e.nodeType===9?e:e.ownerDocument}function Dy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yf=null;function KT(){var e=window.event;return e&&e.type==="popstate"?e===Yf?!1:(Yf=e,!0):(Yf=null,!1)}var My=typeof setTimeout=="function"?setTimeout:void 0,XT=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,$T=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(e){return Iy.resolve(null).then(e).catch(ZT)}:My;function ZT(e){setTimeout(function(){throw e})}function Xi(e){return e==="head"}function Vy(e,n){var a=n,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var _=e.ownerDocument;if(a&1&&no(_.documentElement),a&2&&no(_.body),a&4)for(a=_.head,no(a),_=a.firstChild;_;){var T=_.nextSibling,D=_.nodeName;_[Mt]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){e.removeChild(d),co(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);co(n)}function Kf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kf(a),St(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function JT(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Mt])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=_r(e.nextSibling),e===null)break}return null}function WT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=_r(e.nextSibling),e===null))return null;return e}function Xf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function t1(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function _r(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var $f=null;function Ny(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Oy(e,n,a){switch(n=Qu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function no(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);St(e)}var ur=new Map,Ly=new Set;function Yu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _i=ht.d;ht.d={f:e1,r:n1,D:r1,C:i1,L:a1,m:s1,X:o1,S:l1,M:u1};function e1(){var e=_i.f(),n=zu();return e||n}function n1(e){var n=Xt(e);n!==null&&n.tag===5&&n.type==="form"?ep(n):_i.r(e)}var Hs=typeof document>"u"?null:document;function Uy(e,n,a){var o=Hs;if(o&&typeof n=="string"&&n){var h=Pe(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ly.has(h)||(Ly.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ln(n,"link",e),te(n),o.head.appendChild(n)))}}function r1(e){_i.D(e),Uy("dns-prefetch",e,null)}function i1(e,n){_i.C(e,n),Uy("preconnect",e,n)}function a1(e,n,a){_i.L(e,n,a);var o=Hs;if(o&&e&&n){var h='link[rel="preload"][as="'+Pe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Pe(a.imageSizes)+'"]')):h+='[href="'+Pe(e)+'"]';var d=h;switch(n){case"style":d=qs(e);break;case"script":d=Fs(e)}ur.has(d)||(e=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),ur.set(d,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ro(d))||n==="script"&&o.querySelector(io(d))||(n=o.createElement("link"),ln(n,"link",e),te(n),o.head.appendChild(n)))}}function s1(e,n){_i.m(e,n);var a=Hs;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Pe(o)+'"][href="'+Pe(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Fs(e)}if(!ur.has(d)&&(e=E({rel:"modulepreload",href:e},n),ur.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(io(d)))return}o=a.createElement("link"),ln(o,"link",e),te(o),a.head.appendChild(o)}}}function l1(e,n,a){_i.S(e,n,a);var o=Hs;if(o&&e){var h=se(o).hoistableStyles,d=qs(e);n=n||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(ro(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},a),(a=ur.get(d))&&Zf(e,a);var D=_=o.createElement("link");te(D),ln(D,"link",e),D._p=new Promise(function(G,tt){D.onload=G,D.onerror=tt}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ku(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function o1(e,n){_i.X(e,n);var a=Hs;if(a&&e){var o=se(a).hoistableScripts,h=Fs(e),d=o.get(h);d||(d=a.querySelector(io(h)),d||(e=E({src:e,async:!0},n),(n=ur.get(h))&&Jf(e,n),d=a.createElement("script"),te(d),ln(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function u1(e,n){_i.M(e,n);var a=Hs;if(a&&e){var o=se(a).hoistableScripts,h=Fs(e),d=o.get(h);d||(d=a.querySelector(io(h)),d||(e=E({src:e,async:!0,type:"module"},n),(n=ur.get(h))&&Jf(e,n),d=a.createElement("script"),te(d),ln(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Py(e,n,a,o){var h=(h=Ct.current)?Yu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=qs(a.href),a=se(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qs(a.href);var d=se(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(ro(e)))&&!d._p&&(_.instance=d,_.state.loading=5),ur.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ur.set(e,a),d||c1(h,e,a,_.state))),n&&o===null)throw Error(s(528,""));return _}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fs(a),a=se(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function qs(e){return'href="'+Pe(e)+'"'}function ro(e){return'link[rel="stylesheet"]['+e+"]"}function zy(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function c1(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ln(n,"link",a),te(n),e.head.appendChild(n))}function Fs(e){return'[src="'+Pe(e)+'"]'}function io(e){return"script[async]"+e}function jy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Pe(a.href)+'"]');if(o)return n.instance=o,te(o),o;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),te(o),ln(o,"style",h),Ku(o,a.precedence,e),n.instance=o;case"stylesheet":h=qs(a.href);var d=e.querySelector(ro(h));if(d)return n.state.loading|=4,n.instance=d,te(d),d;o=zy(a),(h=ur.get(h))&&Zf(o,h),d=(e.ownerDocument||e).createElement("link"),te(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),ln(d,"link",o),n.state.loading|=4,Ku(d,a.precedence,e),n.instance=d;case"script":return d=Fs(a.src),(h=e.querySelector(io(d)))?(n.instance=h,te(h),h):(o=a,(h=ur.get(d))&&(o=E({},a),Jf(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),te(h),ln(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ku(o,a.precedence,e));return n.instance}function Ku(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Zf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Jf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Xu=null;function ky(e,n,a){if(Xu===null){var o=new Map,h=Xu=new Map;h.set(a,o)}else h=Xu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Mt]||d[it]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=e+_;var T=o.get(_);T?T.push(d):o.set(_,[d])}}return o}function By(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function h1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ao=null;function f1(){}function d1(e,n,a){if(ao===null)throw Error(s(475));var o=ao;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=qs(a.href),d=e.querySelector(ro(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=$u.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,te(d);return}d=e.ownerDocument||e,a=zy(a),(h=ur.get(h))&&Zf(a,h),d=d.createElement("link"),te(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),ln(d,"link",a),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=$u.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function m1(){if(ao===null)throw Error(s(475));var e=ao;return e.stylesheets&&e.count===0&&Wf(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Wf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function $u(){if(this.count--,this.count===0){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zu=null;function Wf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zu=new Map,n.forEach(g1,e),Zu=null,$u.call(e))}function g1(e,n){if(!(n.state.loading&4)){var a=Zu.get(e);if(a)var o=a.get(null);else{a=new Map,Zu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||o,d===o&&a.set(null,h),a.set(_,h),this.count++,o=$u.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var so={$$typeof:ut,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function p1(e,n,a,o,h,d,_,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function qy(e,n,a,o,h,d,_,T,D,G,tt,at){return e=new p1(e,n,a,_,T,D,G,at),n=1,d===!0&&(n|=24),d=Pn(3,null,null,n),e.current=d,d.stateNode=e,n=Nh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},Ph(d),e}function Fy(e){return e?(e=Ts,e):Ts}function Gy(e,n,a,o,h,d){h=Fy(h),o.context===null?o.context=h:o.pendingContext=h,o=Ui(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Pi(e,o,n),a!==null&&(Hn(a,e,n),Ul(a,e,n))}function Qy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function td(e,n){Qy(e,n),(e=e.alternate)&&Qy(e,n)}function Yy(e){if(e.tag===13){var n=Es(e,67108864);n!==null&&Hn(n,e,67108864),td(e,67108864)}}var Ju=!0;function y1(e,n,a,o){var h=Q.T;Q.T=null;var d=ht.p;try{ht.p=2,ed(e,n,a,o)}finally{ht.p=d,Q.T=h}}function v1(e,n,a,o){var h=Q.T;Q.T=null;var d=ht.p;try{ht.p=8,ed(e,n,a,o)}finally{ht.p=d,Q.T=h}}function ed(e,n,a,o){if(Ju){var h=nd(o);if(h===null)Hf(e,n,o,Wu,a),Xy(e,o);else if(E1(h,e,n,a,o))o.stopPropagation();else if(Xy(e,o),n&4&&-1<_1.indexOf(e)){for(;h!==null;){var d=Xt(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Vn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-Le(_);T.entanglements[1]|=D,_&=~D}kr(d),(de&6)===0&&(Uu=En()+500,Wl(0))}}break;case 13:T=Es(d,2),T!==null&&Hn(T,d,2),zu(),td(d,2)}if(d=nd(o),d===null&&Hf(e,n,o,Wu,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Hf(e,n,o,null,a)}}function nd(e){return e=tr(e),rd(e)}var Wu=null;function rd(e){if(Wu=null,e=Vt(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=f(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Wu=e,null}function Ky(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dl()){case Ea:return 2;case Ri:return 8;case $r:case mr:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var id=!1,$i=null,Zi=null,Ji=null,lo=new Map,oo=new Map,Wi=[],_1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xy(e,n){switch(e){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":lo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(n.pointerId)}}function uo(e,n,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Xt(n),n!==null&&Yy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function E1(e,n,a,o,h){switch(n){case"focusin":return $i=uo($i,e,n,a,o,h),!0;case"dragenter":return Zi=uo(Zi,e,n,a,o,h),!0;case"mouseover":return Ji=uo(Ji,e,n,a,o,h),!0;case"pointerover":var d=h.pointerId;return lo.set(d,uo(lo.get(d)||null,e,n,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,oo.set(d,uo(oo.get(d)||null,e,n,a,o,h)),!0}return!1}function $y(e){var n=Vt(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){e.blockedOn=n,j(e.priority,function(){if(a.tag===13){var o=Bn();o=wr(o);var h=Es(a,o);h!==null&&Hn(h,a,o),td(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=nd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);ei=o,a.target.dispatchEvent(o),ei=null}else return n=Xt(a),n!==null&&Yy(n),e.blockedOn=a,!1;n.shift()}return!0}function Zy(e,n,a){tc(e)&&a.delete(n)}function T1(){id=!1,$i!==null&&tc($i)&&($i=null),Zi!==null&&tc(Zi)&&(Zi=null),Ji!==null&&tc(Ji)&&(Ji=null),lo.forEach(Zy),oo.forEach(Zy)}function ec(e,n){e.blockedOn===n&&(e.blockedOn=null,id||(id=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,T1)))}var nc=null;function Jy(e){nc!==e&&(nc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(rd(o||a)===null)continue;break}var d=Xt(a);d!==null&&(e.splice(n,3),n-=3,nf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function co(e){function n(D){return ec(D,e)}$i!==null&&ec($i,e),Zi!==null&&ec(Zi,e),Ji!==null&&ec(Ji,e),lo.forEach(n),oo.forEach(n);for(var a=0;a<Wi.length;a++){var o=Wi[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Wi.length&&(a=Wi[0],a.blockedOn===null);)$y(a),a.blockedOn===null&&Wi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],_=h[ct]||null;if(typeof d=="function")_||Jy(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[ct]||null)T=_.formAction;else if(rd(h)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),Jy(a)}}}function ad(e){this._internalRoot=e}rc.prototype.render=ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Bn();Gy(a,o,e,n,null,null)},rc.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Gy(e.current,2,null,e,null,null),zu(),n[vt]=null}};function rc(e){this._internalRoot=e}rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=I();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Wi.length&&n!==0&&n<Wi[a].priority;a++);Wi.splice(a,0,e),a===0&&$y(e)}};var Wy=t.version;if(Wy!=="19.1.0")throw Error(s(527,Wy,"19.1.0"));ht.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var S1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{oe=ic.inject(S1),qt=ic}catch{}}return fo.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=gp,d=pp,_=yp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=qy(e,1,!1,null,null,a,o,h,d,_,T,null),e[vt]=n.current,Bf(e),new ad(n)},fo.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=gp,_=pp,T=yp,D=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),n=qy(e,1,!0,n,a??null,o,h,d,_,T,D,G),n.context=Fy(null),a=n.current,o=Bn(),o=wr(o),h=Ui(o),h.callback=null,Pi(a,h,o),a=o,n.current.lanes=a,gr(n,a),kr(n),e[vt]=n.current,Bf(e),new rc(n)},fo.version="19.1.0",fo}var cv;function N1(){if(cv)return od.exports;cv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),od.exports=V1(),od.exports}var O1=N1(),mo={},hv;function L1(){if(hv)return mo;hv=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.parse=f,mo.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,x){const L=new u,W=b.length;if(W<2)return L;const F=(x==null?void 0:x.decode)||E;let J=0;do{const rt=b.indexOf("=",J);if(rt===-1)break;const ut=b.indexOf(";",J),gt=ut===-1?W:ut;if(rt>gt){J=b.lastIndexOf(";",rt-1)+1;continue}const mt=m(b,J,rt),H=g(b,rt,mt),V=b.slice(mt,H);if(L[V]===void 0){let R=m(b,rt+1,gt),w=g(b,gt,R);const N=F(b.slice(R,w));L[V]=N}J=gt+1}while(J<W);return L}function m(b,x,L){do{const W=b.charCodeAt(x);if(W!==32&&W!==9)return x}while(++x<L);return L}function g(b,x,L){for(;x>L;){const W=b.charCodeAt(--x);if(W!==32&&W!==9)return x+1}return L}function y(b,x,L){const W=(L==null?void 0:L.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const F=W(x);if(!t.test(F))throw new TypeError(`argument val is invalid: ${x}`);let J=b+"="+F;if(!L)return J;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);J+="; Max-Age="+L.maxAge}if(L.domain){if(!r.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);J+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);J+="; Path="+L.path}if(L.expires){if(!A(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);J+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(J+="; HttpOnly"),L.secure&&(J+="; Secure"),L.partitioned&&(J+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":J+="; Priority=Low";break;case"medium":J+="; Priority=Medium";break;case"high":J+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":J+="; SameSite=Strict";break;case"lax":J+="; SameSite=Lax";break;case"none":J+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return J}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function A(b){return l.call(b)==="[object Date]"}return mo}L1();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q0=i=>{throw TypeError(i)},U1=(i,t,r)=>t.has(i)||q0("Cannot "+r),fd=(i,t,r)=>(U1(i,t,"read from private field"),r?r.call(i):t.get(i)),P1=(i,t,r)=>t.has(i)?q0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,r),fv="popstate";function z1(i={}){function t(l,u){let{pathname:f="/",search:m="",hash:g=""}=bi(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Co("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){let f=l.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=l.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:ua(u))}function s(l,u){Ne(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return k1(t,r,s,i)}function Jt(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Ne(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function j1(){return Math.random().toString(36).substring(2,10)}function dv(i,t){return{usr:i.state,key:i.key,idx:t}}function Co(i,t,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?bi(t):t,state:r,key:t&&t.key||s||j1()}}function ua({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function bi(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function k1(i,t,r,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let F=E(),J=F==null?null:F-y;y=F,g&&g({action:m,location:W.location,delta:J})}function b(F,J){m="PUSH";let rt=Co(W.location,F,J);r&&r(rt,F),y=E()+1;let ut=dv(rt,y),gt=W.createHref(rt);try{f.pushState(ut,"",gt)}catch(mt){if(mt instanceof DOMException&&mt.name==="DataCloneError")throw mt;l.location.assign(gt)}u&&g&&g({action:m,location:W.location,delta:1})}function x(F,J){m="REPLACE";let rt=Co(W.location,F,J);r&&r(rt,F),y=E();let ut=dv(rt,y),gt=W.createHref(rt);f.replaceState(ut,"",gt),u&&g&&g({action:m,location:W.location,delta:0})}function L(F){let J=l.location.origin!=="null"?l.location.origin:l.location.href,rt=typeof F=="string"?F:ua(F);return rt=rt.replace(/ $/,"%20"),Jt(J,`No window.location.(origin|href) available to create URL for href: ${rt}`),new URL(rt,J)}let W={get action(){return m},get location(){return i(l,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(fv,A),g=F,()=>{l.removeEventListener(fv,A),g=null}},createHref(F){return t(l,F)},createURL:L,encodeLocation(F){let J=L(F);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:b,replace:x,go(F){return f.go(F)}};return W}var vo,mv=class{constructor(i){if(P1(this,vo,new Map),i)for(let[t,r]of i)this.set(t,r)}get(i){if(fd(this,vo).has(i))return fd(this,vo).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,t){fd(this,vo).set(i,t)}};vo=new WeakMap;var B1=new Set(["lazy","caseSensitive","path","id","index","children"]);function H1(i){return B1.has(i)}var q1=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function F1(i){return q1.has(i)}function G1(i){return i.index===!0}function Sc(i,t,r=[],s={}){return i.map((l,u)=>{let f=[...r,String(u)],m=typeof l.id=="string"?l.id:f.join("-");if(Jt(l.index!==!0||!l.children,"Cannot specify children on an index route"),Jt(!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),G1(l)){let g={...l,...t(l),id:m};return s[m]=g,g}else{let g={...l,...t(l),id:m,children:void 0};return s[m]=g,l.children&&(g.children=Sc(l.children,t,f,s)),g}})}function na(i,t,r="/"){return dc(i,t,r,!1)}function dc(i,t,r,s){let l=typeof t=="string"?bi(t):t,u=dr(l.pathname||"/",r);if(u==null)return null;let f=F0(i);Y1(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=iS(u);m=nS(f[g],y,s)}return m}function Q1(i,t){let{route:r,pathname:s,params:l}=i;return{id:r.id,pathname:s,params:l,data:t[r.id],handle:r.handle}}function F0(i,t=[],r=[],s=""){let l=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Jt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Hr([s,g.relativePath]),E=r.concat(g);u.children&&u.children.length>0&&(Jt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),F0(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:tS(y,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,f);else for(let g of G0(u.path))l(u,f,g)}),t}function G0(i){let t=i.split("/");if(t.length===0)return[];let[r,...s]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=G0(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Y1(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:eS(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var K1=/^:[\w-]+$/,X1=3,$1=2,Z1=1,J1=10,W1=-2,gv=i=>i==="*";function tS(i,t){let r=i.split("/"),s=r.length;return r.some(gv)&&(s+=W1),t&&(s+=$1),r.filter(l=>!gv(l)).reduce((l,u)=>l+(K1.test(u)?X1:u===""?Z1:J1),s)}function eS(i,t){return i.length===t.length&&i.slice(0,-1).every((s,l)=>s===t[l])?i[i.length-1]-t[t.length-1]:0}function nS(i,t,r=!1){let{routesMeta:s}=i,l={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=Ac({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),b=g.route;if(!A&&y&&r&&!s[s.length-1].route.index&&(A=Ac({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(l,A.params),f.push({params:l,pathname:Hr([u,A.pathname]),pathnameBase:lS(Hr([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=Hr([u,A.pathnameBase]))}return f}function Ac(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=rS(i.path,i.caseSensitive,i.end),l=t.match(r);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:A},b)=>{if(E==="*"){let L=m[b]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const x=m[b];return A&&!x?y[E]=void 0:y[E]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function rS(i,t=!1,r=!0){Ne(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function iS(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ne(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function dr(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function aS(i,t="/"){let{pathname:r,search:s="",hash:l=""}=typeof i=="string"?bi(i):i;return{pathname:r?r.startsWith("/")?r:sS(r,t):t,search:oS(s),hash:uS(l)}}function sS(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function dd(i,t,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q0(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Wd(i){let t=Q0(i);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function tm(i,t,r,s=!1){let l;typeof i=="string"?l=bi(i):(l={...i},Jt(!l.pathname||!l.pathname.includes("?"),dd("?","pathname","search",l)),Jt(!l.pathname||!l.pathname.includes("#"),dd("#","pathname","hash",l)),Jt(!l.search||!l.search.includes("#"),dd("#","search","hash",l)));let u=i===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=r;else{let A=t.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),A-=1;l.pathname=b.join("/")}m=A>=0?t[A]:"/"}let g=aS(l,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Hr=i=>i.join("/").replace(/\/\/+/g,"/"),lS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),oS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,uS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,bc=class{constructor(i,t,r,s=!1){this.status=i,this.statusText=t||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Do(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Y0=["POST","PUT","PATCH","DELETE"],cS=new Set(Y0),hS=["GET",...Y0],fS=new Set(hS),dS=new Set([301,302,303,307,308]),mS=new Set([307,308]),md={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},go={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},em=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pS=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),K0="remix-router-transitions",X0=Symbol("ResetLoaderData");function yS(i){const t=i.window?i.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Jt(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.hydrationRouteProperties||[],l=i.mapRouteProperties||pS,u={},f=Sc(i.routes,l,void 0,u),m,g=i.basename||"/",y=i.dataStrategy||SS,E={unstable_middleware:!1,...i.future},A=null,b=new Set,x=null,L=null,W=null,F=i.hydrationData!=null,J=na(f,i.history.location,g),rt=!1,ut=null;if(J==null&&!i.patchRoutesOnNavigation){let I=cr(404,{pathname:i.history.location.pathname}),{matches:j,route:q}=Cv(f);J=j,ut={[q.id]:I}}J&&!i.hydrationData&&Tn(J,f,i.history.location.pathname).active&&(J=null);let gt;if(J)if(J.some(I=>I.route.lazy))gt=!1;else if(!J.some(I=>I.route.loader))gt=!0;else{let I=i.hydrationData?i.hydrationData.loaderData:null,j=i.hydrationData?i.hydrationData.errors:null;if(j){let q=J.findIndex(it=>j[it.route.id]!==void 0);gt=J.slice(0,q+1).every(it=>!wd(it.route,I,j))}else gt=J.every(q=>!wd(q.route,I,j))}else{gt=!1,J=[];let I=Tn(null,f,i.history.location.pathname);I.active&&I.matches&&(rt=!0,J=I.matches)}let mt,H={historyAction:i.history.action,location:i.history.location,matches:J,initialized:gt,navigation:md,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||ut,fetchers:new Map,blockers:new Map},V="POP",R=!1,w,N=!1,U=new Map,P=null,C=!1,Bt=!1,Kt=new Set,Q=new Map,ht=0,yt=-1,Pt=new Map,M=new Set,nt=new Map,dt=new Map,lt=new Set,At=new Map,kt,Ct=null;function Oe(){if(A=i.history.listen(({action:I,location:j,delta:q})=>{if(kt){kt(),kt=void 0;return}Ne(At.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let it=Di({currentLocation:H.location,nextLocation:j,historyAction:I});if(it&&q!=null){let ct=new Promise(vt=>{kt=vt});i.history.go(q*-1),Xn(it,{state:"blocked",location:j,proceed(){Xn(it,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),ct.then(()=>i.history.go(q))},reset(){let vt=new Map(H.blockers);vt.set(it,go),Ae({blockers:vt})}});return}return _n(I,j)}),r){NS(t,U);let I=()=>OS(t,U);t.addEventListener("pagehide",I),P=()=>t.removeEventListener("pagehide",I)}return H.initialized||_n("POP",H.location,{initialHydration:!0}),mt}function ge(){A&&A(),P&&P(),b.clear(),w&&w.abort(),H.fetchers.forEach((I,j)=>Le(j)),H.blockers.forEach((I,j)=>Zr(j))}function Qn(I){return b.add(I),()=>b.delete(I)}function Ae(I,j={}){H={...H,...I};let q=[],it=[];H.fetchers.forEach((ct,vt)=>{ct.state==="idle"&&(lt.has(vt)?q.push(vt):it.push(vt))}),lt.forEach(ct=>{!H.fetchers.has(ct)&&!Q.has(ct)&&q.push(ct)}),[...b].forEach(ct=>ct(H,{deletedFetchers:q,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),q.forEach(ct=>Le(ct)),it.forEach(ct=>H.fetchers.delete(ct))}function hn(I,j,{flushSync:q}={}){var bt,Mt;let it=H.actionData!=null&&H.navigation.formMethod!=null&&Fn(H.navigation.formMethod)&&H.navigation.state==="loading"&&((bt=I.state)==null?void 0:bt._isRedirect)!==!0,ct;j.actionData?Object.keys(j.actionData).length>0?ct=j.actionData:ct=null:it?ct=H.actionData:ct=null;let vt=j.loaderData?Rv(H.loaderData,j.loaderData,j.matches||[],j.errors):H.loaderData,Dt=H.blockers;Dt.size>0&&(Dt=new Map(Dt),Dt.forEach((St,Vt)=>Dt.set(Vt,go)));let _t=R===!0||H.navigation.formMethod!=null&&Fn(H.navigation.formMethod)&&((Mt=I.state)==null?void 0:Mt._isRedirect)!==!0;m&&(f=m,m=void 0),C||V==="POP"||(V==="PUSH"?i.history.push(I,I.state):V==="REPLACE"&&i.history.replace(I,I.state));let Tt;if(V==="POP"){let St=U.get(H.location.pathname);St&&St.has(I.pathname)?Tt={currentLocation:H.location,nextLocation:I}:U.has(I.pathname)&&(Tt={currentLocation:I,nextLocation:H.location})}else if(N){let St=U.get(H.location.pathname);St?St.add(I.pathname):(St=new Set([I.pathname]),U.set(H.location.pathname,St)),Tt={currentLocation:H.location,nextLocation:I}}Ae({...j,actionData:ct,loaderData:vt,historyAction:V,location:I,initialized:!0,navigation:md,revalidation:"idle",restoreScrollPosition:xi(I,j.matches||H.matches),preventScrollReset:_t,blockers:Dt},{viewTransitionOpts:Tt,flushSync:q===!0}),V="POP",R=!1,N=!1,C=!1,Bt=!1,Ct==null||Ct.resolve(),Ct=null}async function Tr(I,j){if(typeof I=="number"){i.history.go(I);return}let q=Rd(H.location,H.matches,g,I,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:it,submission:ct,error:vt}=pv(!1,q,j),Dt=H.location,_t=Co(H.location,it,j&&j.state);_t={..._t,...i.history.encodeLocation(_t)};let Tt=j&&j.replace!=null?j.replace:void 0,bt="PUSH";Tt===!0?bt="REPLACE":Tt===!1||ct!=null&&Fn(ct.formMethod)&&ct.formAction===H.location.pathname+H.location.search&&(bt="REPLACE");let Mt=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,St=(j&&j.flushSync)===!0,Vt=Di({currentLocation:Dt,nextLocation:_t,historyAction:bt});if(Vt){Xn(Vt,{state:"blocked",location:_t,proceed(){Xn(Vt,{state:"proceeding",proceed:void 0,reset:void 0,location:_t}),Tr(I,j)},reset(){let Xt=new Map(H.blockers);Xt.set(Vt,go),Ae({blockers:Xt})}});return}await _n(bt,_t,{submission:ct,pendingError:vt,preventScrollReset:Mt,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:St})}function Xr(){Ct||(Ct=LS()),Ci(),Ae({revalidation:"loading"});let I=Ct.promise;return H.navigation.state==="submitting"?I:H.navigation.state==="idle"?(_n(H.historyAction,H.location,{startUninterruptedRevalidation:!0}),I):(_n(V||H.historyAction,H.navigation.location,{overrideNavigation:H.navigation,enableViewTransition:N===!0}),I)}async function _n(I,j,q){w&&w.abort(),w=null,V=I,C=(q&&q.startUninterruptedRevalidation)===!0,gr(H.location,H.matches),R=(q&&q.preventScrollReset)===!0,N=(q&&q.enableViewTransition)===!0;let it=m||f,ct=q&&q.overrideNavigation,vt=q!=null&&q.initialHydration&&H.matches&&H.matches.length>0&&!rt?H.matches:na(it,j,g),Dt=(q&&q.flushSync)===!0;if(vt&&H.initialized&&!Bt&&DS(H.location,j)&&!(q&&q.submission&&Fn(q.submission.formMethod))){hn(j,{matches:vt},{flushSync:Dt});return}let _t=Tn(vt,it,j.pathname);if(_t.active&&_t.matches&&(vt=_t.matches),!vt){let{error:se,notFoundMatches:te,route:Qt}=Jr(j.pathname);hn(j,{matches:te,loaderData:{},errors:{[Qt.id]:se}},{flushSync:Dt});return}w=new AbortController;let Tt=Gs(i.history,j,w.signal,q&&q.submission),bt=new mv(i.unstable_getContext?await i.unstable_getContext():void 0),Mt;if(q&&q.pendingError)Mt=[Xa(vt).route.id,{type:"error",error:q.pendingError}];else if(q&&q.submission&&Fn(q.submission.formMethod)){let se=await _a(Tt,j,q.submission,vt,bt,_t.active,q&&q.initialHydration===!0,{replace:q.replace,flushSync:Dt});if(se.shortCircuited)return;if(se.pendingActionResult){let[te,Qt]=se.pendingActionResult;if(qn(Qt)&&Do(Qt.error)&&Qt.error.status===404){w=null,hn(j,{matches:se.matches,loaderData:{},errors:{[te]:Qt.error}});return}}vt=se.matches||vt,Mt=se.pendingActionResult,ct=gd(j,q.submission),Dt=!1,_t.active=!1,Tt=Gs(i.history,Tt.url,Tt.signal)}let{shortCircuited:St,matches:Vt,loaderData:Xt,errors:ce}=await as(Tt,j,vt,bt,_t.active,ct,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,q&&q.initialHydration===!0,Dt,Mt);St||(w=null,hn(j,{matches:Vt||vt,...wv(Mt),loaderData:Xt,errors:ce}))}async function _a(I,j,q,it,ct,vt,Dt,_t={}){Ci();let Tt=IS(j,q);if(Ae({navigation:Tt},{flushSync:_t.flushSync===!0}),vt){let St=await Rr(it,j.pathname,I.signal);if(St.type==="aborted")return{shortCircuited:!0};if(St.type==="error"){let Vt=Xa(St.partialMatches).route.id;return{matches:St.partialMatches,pendingActionResult:[Vt,{type:"error",error:St.error}]}}else if(St.matches)it=St.matches;else{let{notFoundMatches:Vt,error:Xt,route:ce}=Jr(j.pathname);return{matches:Vt,pendingActionResult:[ce.id,{type:"error",error:Xt}]}}}let bt,Mt=_o(it,j);if(!Mt.route.action&&!Mt.route.lazy)bt={type:"error",error:cr(405,{method:I.method,pathname:j.pathname,routeId:Mt.route.id})};else{let St=$s(l,u,I,it,Mt,Dt?[]:s,ct),Vt=await Yn(I,St,ct,null);if(bt=Vt[Mt.route.id],!bt){for(let Xt of it)if(Vt[Xt.route.id]){bt=Vt[Xt.route.id];break}}if(I.signal.aborted)return{shortCircuited:!0}}if($a(bt)){let St;return _t&&_t.replace!=null?St=_t.replace:St=Sv(bt.response.headers.get("Location"),new URL(I.url),g)===H.location.pathname+H.location.search,await mr(I,bt,!0,{submission:q,replace:St}),{shortCircuited:!0}}if(qn(bt)){let St=Xa(it,Mt.route.id);return(_t&&_t.replace)!==!0&&(V="PUSH"),{matches:it,pendingActionResult:[St.route.id,bt,Mt.route.id]}}return{matches:it,pendingActionResult:[Mt.route.id,bt]}}async function as(I,j,q,it,ct,vt,Dt,_t,Tt,bt,Mt,St){let Vt=vt||gd(j,Dt),Xt=Dt||_t||xv(Vt),ce=!C&&!bt;if(ct){if(ce){let Ue=En(St);Ae({navigation:Vt,...Ue!==void 0?{actionData:Ue}:{}},{flushSync:Mt})}let Ut=await Rr(q,j.pathname,I.signal);if(Ut.type==="aborted")return{shortCircuited:!0};if(Ut.type==="error"){let Ue=Xa(Ut.partialMatches).route.id;return{matches:Ut.partialMatches,loaderData:{},errors:{[Ue]:Ut.error}}}else if(Ut.matches)q=Ut.matches;else{let{error:Ue,notFoundMatches:On,route:wn}=Jr(j.pathname);return{matches:On,loaderData:{},errors:{[wn.id]:Ue}}}}let se=m||f,{dsMatches:te,revalidatingFetchers:Qt}=yv(I,it,l,u,i.history,H,q,Xt,j,bt?[]:s,bt===!0,Bt,Kt,lt,nt,M,se,g,St);if(yt=++ht,!i.dataStrategy&&!te.some(Ut=>Ut.shouldLoad)&&Qt.length===0){let Ut=Ar();return hn(j,{matches:q,loaderData:{},errors:St&&qn(St[1])?{[St[0]]:St[1].error}:null,...wv(St),...Ut?{fetchers:new Map(H.fetchers)}:{}},{flushSync:Mt}),{shortCircuited:!0}}if(ce){let Ut={};if(!ct){Ut.navigation=Vt;let Ue=En(St);Ue!==void 0&&(Ut.actionData=Ue)}Qt.length>0&&(Ut.fetchers=dl(Qt)),Ae(Ut,{flushSync:Mt})}Qt.forEach(Ut=>{Kn(Ut.key),Ut.controller&&Q.set(Ut.key,Ut.controller)});let Zn=()=>Qt.forEach(Ut=>Kn(Ut.key));w&&w.signal.addEventListener("abort",Zn);let{loaderResults:Be,fetcherResults:Sn}=await wi(te,Qt,I,it);if(I.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",Zn),Qt.forEach(Ut=>Q.delete(Ut.key));let en=ac(Be);if(en)return await mr(I,en.result,!0,{replace:Tt}),{shortCircuited:!0};if(en=ac(Sn),en)return M.add(en.key),await mr(I,en.result,!0,{replace:Tt}),{shortCircuited:!0};let{loaderData:Cr,errors:Nn}=bv(H,q,Be,St,Qt,Sn);bt&&H.errors&&(Nn={...H.errors,...Nn});let Ii=Ar(),dn=br(yt),An=Ii||dn||Qt.length>0;return{matches:q,loaderData:Cr,errors:Nn,...An?{fetchers:new Map(H.fetchers)}:{}}}function En(I){if(I&&!qn(I[1]))return{[I[0]]:I[1].data};if(H.actionData)return Object.keys(H.actionData).length===0?null:H.actionData}function dl(I){return I.forEach(j=>{let q=H.fetchers.get(j.key),it=po(void 0,q?q.data:void 0);H.fetchers.set(j.key,it)}),new Map(H.fetchers)}async function Ea(I,j,q,it){Kn(I);let ct=(it&&it.flushSync)===!0,vt=m||f,Dt=Rd(H.location,H.matches,g,q,j,it==null?void 0:it.relative),_t=na(vt,Dt,g),Tt=Tn(_t,vt,Dt);if(Tt.active&&Tt.matches&&(_t=Tt.matches),!_t){qt(I,j,cr(404,{pathname:Dt}),{flushSync:ct});return}let{path:bt,submission:Mt,error:St}=pv(!0,Dt,it);if(St){qt(I,j,St,{flushSync:ct});return}let Vt=_o(_t,bt),Xt=new mv(i.unstable_getContext?await i.unstable_getContext():void 0),ce=(it&&it.preventScrollReset)===!0;if(Mt&&Fn(Mt.formMethod)){await Ri(I,j,bt,Vt,_t,Xt,Tt.active,ct,ce,Mt);return}nt.set(I,{routeId:j,path:bt}),await $r(I,j,bt,Vt,_t,Xt,Tt.active,ct,ce,Mt)}async function Ri(I,j,q,it,ct,vt,Dt,_t,Tt,bt){Ci(),nt.delete(I);function Mt(Ee){if(!Ee.route.action&&!Ee.route.lazy){let Jn=cr(405,{method:bt.formMethod,pathname:q,routeId:j});return qt(I,j,Jn,{flushSync:_t}),!0}return!1}if(!Dt&&Mt(it))return;let St=H.fetchers.get(I);oe(I,VS(bt,St),{flushSync:_t});let Vt=new AbortController,Xt=Gs(i.history,q,Vt.signal,bt);if(Dt){let Ee=await Rr(ct,q,Xt.signal,I);if(Ee.type==="aborted")return;if(Ee.type==="error"){qt(I,j,Ee.error,{flushSync:_t});return}else if(Ee.matches){if(ct=Ee.matches,it=_o(ct,q),Mt(it))return}else{qt(I,j,cr(404,{pathname:q}),{flushSync:_t});return}}Q.set(I,Vt);let ce=ht,se=$s(l,u,Xt,ct,it,s,vt),Qt=(await Yn(Xt,se,vt,I))[it.route.id];if(Xt.signal.aborted){Q.get(I)===Vt&&Q.delete(I);return}if(lt.has(I)){if($a(Qt)||qn(Qt)){oe(I,ea(void 0));return}}else{if($a(Qt))if(Q.delete(I),yt>ce){oe(I,ea(void 0));return}else return M.add(I),oe(I,po(bt)),mr(Xt,Qt,!1,{fetcherSubmission:bt,preventScrollReset:Tt});if(qn(Qt)){qt(I,j,Qt.error);return}}let Zn=H.navigation.location||H.location,Be=Gs(i.history,Zn,Vt.signal),Sn=m||f,en=H.navigation.state!=="idle"?na(Sn,H.navigation.location,g):H.matches;Jt(en,"Didn't find any matches after fetcher action");let Cr=++ht;Pt.set(I,Cr);let Nn=po(bt,Qt.data);H.fetchers.set(I,Nn);let{dsMatches:Ii,revalidatingFetchers:dn}=yv(Be,vt,l,u,i.history,H,en,bt,Zn,s,!1,Bt,Kt,lt,nt,M,Sn,g,[it.route.id,Qt]);dn.filter(Ee=>Ee.key!==I).forEach(Ee=>{let Jn=Ee.key,Wr=H.fetchers.get(Jn),nn=po(void 0,Wr?Wr.data:void 0);H.fetchers.set(Jn,nn),Kn(Jn),Ee.controller&&Q.set(Jn,Ee.controller)}),Ae({fetchers:new Map(H.fetchers)});let An=()=>dn.forEach(Ee=>Kn(Ee.key));Vt.signal.addEventListener("abort",An);let{loaderResults:Ut,fetcherResults:Ue}=await wi(Ii,dn,Be,vt);if(Vt.signal.aborted)return;Vt.signal.removeEventListener("abort",An),Pt.delete(I),Q.delete(I),dn.forEach(Ee=>Q.delete(Ee.key));let On=ac(Ut);if(On)return mr(Be,On.result,!1,{preventScrollReset:Tt});if(On=ac(Ue),On)return M.add(On.key),mr(Be,On.result,!1,{preventScrollReset:Tt});let{loaderData:wn,errors:Dr}=bv(H,en,Ut,void 0,dn,Ue);if(H.fetchers.has(I)){let Ee=ea(Qt.data);H.fetchers.set(I,Ee)}br(Cr),H.navigation.state==="loading"&&Cr>yt?(Jt(V,"Expected pending action"),w&&w.abort(),hn(H.navigation.location,{matches:en,loaderData:wn,errors:Dr,fetchers:new Map(H.fetchers)})):(Ae({errors:Dr,loaderData:Rv(H.loaderData,wn,en,Dr),fetchers:new Map(H.fetchers)}),Bt=!1)}async function $r(I,j,q,it,ct,vt,Dt,_t,Tt,bt){let Mt=H.fetchers.get(I);oe(I,po(bt,Mt?Mt.data:void 0),{flushSync:_t});let St=new AbortController,Vt=Gs(i.history,q,St.signal);if(Dt){let Qt=await Rr(ct,q,Vt.signal,I);if(Qt.type==="aborted")return;if(Qt.type==="error"){qt(I,j,Qt.error,{flushSync:_t});return}else if(Qt.matches)ct=Qt.matches,it=_o(ct,q);else{qt(I,j,cr(404,{pathname:q}),{flushSync:_t});return}}Q.set(I,St);let Xt=ht,ce=$s(l,u,Vt,ct,it,s,vt),te=(await Yn(Vt,ce,vt,I))[it.route.id];if(Q.get(I)===St&&Q.delete(I),!Vt.signal.aborted){if(lt.has(I)){oe(I,ea(void 0));return}if($a(te))if(yt>Xt){oe(I,ea(void 0));return}else{M.add(I),await mr(Vt,te,!1,{preventScrollReset:Tt});return}if(qn(te)){qt(I,j,te.error);return}oe(I,ea(te.data))}}async function mr(I,j,q,{submission:it,fetcherSubmission:ct,preventScrollReset:vt,replace:Dt}={}){j.response.headers.has("X-Remix-Revalidate")&&(Bt=!0);let _t=j.response.headers.get("Location");Jt(_t,"Expected a Location header on the redirect Response"),_t=Sv(_t,new URL(I.url),g);let Tt=Co(H.location,_t,{_isRedirect:!0});if(r){let ce=!1;if(j.response.headers.has("X-Remix-Reload-Document"))ce=!0;else if(em.test(_t)){const se=i.history.createURL(_t);ce=se.origin!==t.location.origin||dr(se.pathname,g)==null}if(ce){Dt?t.location.replace(_t):t.location.assign(_t);return}}w=null;let bt=Dt===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Mt,formAction:St,formEncType:Vt}=H.navigation;!it&&!ct&&Mt&&St&&Vt&&(it=xv(H.navigation));let Xt=it||ct;if(mS.has(j.response.status)&&Xt&&Fn(Xt.formMethod))await _n(bt,Tt,{submission:{...Xt,formAction:_t},preventScrollReset:vt||R,enableViewTransition:q?N:void 0});else{let ce=gd(Tt,it);await _n(bt,Tt,{overrideNavigation:ce,fetcherSubmission:ct,preventScrollReset:vt||R,enableViewTransition:q?N:void 0})}}async function Yn(I,j,q,it){let ct,vt={};try{ct=await AS(y,I,j,it,q,!1)}catch(Dt){return j.filter(_t=>_t.shouldLoad).forEach(_t=>{vt[_t.route.id]={type:"error",error:Dt}}),vt}for(let[Dt,_t]of Object.entries(ct))if(xS(_t)){let Tt=_t.result;vt[Dt]={type:"redirect",response:wS(Tt,I,Dt,j,g)}}else vt[Dt]=await RS(_t);return vt}async function wi(I,j,q,it){let ct=Yn(q,I,it,null),vt=Promise.all(j.map(async Tt=>{if(Tt.matches&&Tt.match&&Tt.request&&Tt.controller){let Mt=(await Yn(Tt.request,Tt.matches,it,Tt.key))[Tt.match.route.id];return{[Tt.key]:Mt}}else return Promise.resolve({[Tt.key]:{type:"error",error:cr(404,{pathname:Tt.path})}})})),Dt=await ct,_t=(await vt).reduce((Tt,bt)=>Object.assign(Tt,bt),{});return{loaderResults:Dt,fetcherResults:_t}}function Ci(){Bt=!0,nt.forEach((I,j)=>{Q.has(j)&&Kt.add(j),Kn(j)})}function oe(I,j,q={}){H.fetchers.set(I,j),Ae({fetchers:new Map(H.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function qt(I,j,q,it={}){let ct=Xa(H.matches,j);Le(I),Ae({errors:{[ct.route.id]:q},fetchers:new Map(H.fetchers)},{flushSync:(it&&it.flushSync)===!0})}function fn(I){return dt.set(I,(dt.get(I)||0)+1),lt.has(I)&&lt.delete(I),H.fetchers.get(I)||gS}function Le(I){let j=H.fetchers.get(I);Q.has(I)&&!(j&&j.state==="loading"&&Pt.has(I))&&Kn(I),nt.delete(I),Pt.delete(I),M.delete(I),lt.delete(I),Kt.delete(I),H.fetchers.delete(I)}function ss(I){let j=(dt.get(I)||0)-1;j<=0?(dt.delete(I),lt.add(I)):dt.set(I,j),Ae({fetchers:new Map(H.fetchers)})}function Kn(I){let j=Q.get(I);j&&(j.abort(),Q.delete(I))}function Sr(I){for(let j of I){let q=fn(j),it=ea(q.data);H.fetchers.set(j,it)}}function Ar(){let I=[],j=!1;for(let q of M){let it=H.fetchers.get(q);Jt(it,`Expected fetcher: ${q}`),it.state==="loading"&&(M.delete(q),I.push(q),j=!0)}return Sr(I),j}function br(I){let j=[];for(let[q,it]of Pt)if(it<I){let ct=H.fetchers.get(q);Jt(ct,`Expected fetcher: ${q}`),ct.state==="loading"&&(Kn(q),Pt.delete(q),j.push(q))}return Sr(j),j.length>0}function Vn(I,j){let q=H.blockers.get(I)||go;return At.get(I)!==j&&At.set(I,j),q}function Zr(I){H.blockers.delete(I),At.delete(I)}function Xn(I,j){let q=H.blockers.get(I)||go;Jt(q.state==="unblocked"&&j.state==="blocked"||q.state==="blocked"&&j.state==="blocked"||q.state==="blocked"&&j.state==="proceeding"||q.state==="blocked"&&j.state==="unblocked"||q.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${q.state} -> ${j.state}`);let it=new Map(H.blockers);it.set(I,j),Ae({blockers:it})}function Di({currentLocation:I,nextLocation:j,historyAction:q}){if(At.size===0)return;At.size>1&&Ne(!1,"A router only supports one blocker at a time");let it=Array.from(At.entries()),[ct,vt]=it[it.length-1],Dt=H.blockers.get(ct);if(!(Dt&&Dt.state==="proceeding")&&vt({currentLocation:I,nextLocation:j,historyAction:q}))return ct}function Jr(I){let j=cr(404,{pathname:I}),q=m||f,{matches:it,route:ct}=Cv(q);return{notFoundMatches:it,route:ct,error:j}}function Ta(I,j,q){if(x=I,W=j,L=q||null,!F&&H.navigation===md){F=!0;let it=xi(H.location,H.matches);it!=null&&Ae({restoreScrollPosition:it})}return()=>{x=null,W=null,L=null}}function $n(I,j){return L&&L(I,j.map(it=>Q1(it,H.loaderData)))||I.key}function gr(I,j){if(x&&W){let q=$n(I,j);x[q]=W()}}function xi(I,j){if(x){let q=$n(I,j),it=x[q];if(typeof it=="number")return it}return null}function Tn(I,j,q){if(i.patchRoutesOnNavigation)if(I){if(Object.keys(I[0].params).length>0)return{active:!0,matches:dc(j,q,g,!0)}}else return{active:!0,matches:dc(j,q,g,!0)||[]};return{active:!1,matches:null}}async function Rr(I,j,q,it){if(!i.patchRoutesOnNavigation)return{type:"success",matches:I};let ct=I;for(;;){let vt=m==null,Dt=m||f,_t=u;try{await i.patchRoutesOnNavigation({signal:q,path:j,matches:ct,fetcherKey:it,patch:(Mt,St)=>{q.aborted||vv(Mt,St,Dt,_t,l)}})}catch(Mt){return{type:"error",error:Mt,partialMatches:ct}}finally{vt&&!q.aborted&&(f=[...f])}if(q.aborted)return{type:"aborted"};let Tt=na(Dt,j,g);if(Tt)return{type:"success",matches:Tt};let bt=dc(Dt,j,g,!0);if(!bt||ct.length===bt.length&&ct.every((Mt,St)=>Mt.route.id===bt[St].route.id))return{type:"success",matches:null};ct=bt}}function wr(I){u={},m=Sc(I,l,void 0,u)}function Mi(I,j){let q=m==null;vv(I,j,m||f,u,l),q&&(f=[...f],Ae({}))}return mt={get basename(){return g},get future(){return E},get state(){return H},get routes(){return f},get window(){return t},initialize:Oe,subscribe:Qn,enableScrollRestoration:Ta,navigate:Tr,fetch:Ea,revalidate:Xr,createHref:I=>i.history.createHref(I),encodeLocation:I=>i.history.encodeLocation(I),getFetcher:fn,deleteFetcher:ss,dispose:ge,getBlocker:Vn,deleteBlocker:Zr,patchRoutes:Mi,_internalFetchControllers:Q,_internalSetRoutes:wr},mt}function vS(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Rd(i,t,r,s,l,u){let f,m;if(l){f=[];for(let y of t)if(f.push(y),y.route.id===l){m=y;break}}else f=t,m=t[t.length-1];let g=tm(s||".",Wd(f),dr(i.pathname,r)||i.pathname,u==="path");if(s==null&&(g.search=i.search,g.hash=i.hash),(s==null||s===""||s===".")&&m){let y=nm(g.search);if(m.route.index&&!y)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&y){let E=new URLSearchParams(g.search),A=E.getAll("index");E.delete("index"),A.filter(x=>x).forEach(x=>E.append("index",x));let b=E.toString();g.search=b?`?${b}`:""}}return r!=="/"&&(g.pathname=g.pathname==="/"?r:Hr([r,g.pathname])),ua(g)}function pv(i,t,r){if(!r||!vS(r))return{path:t};if(r.formMethod&&!MS(r.formMethod))return{path:t,error:cr(405,{method:r.formMethod})};let s=()=>({path:t,error:cr(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),f=e_(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Fn(u))return s();let A=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,[x,L])=>`${b}${x}=${L}
`,""):String(r.body);return{path:t,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:void 0,text:A}}}else if(r.formEncType==="application/json"){if(!Fn(u))return s();try{let A=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:A,text:void 0}}}catch{return s()}}}Jt(typeof FormData=="function","FormData is not available in this environment");let m,g;if(r.formData)m=Dd(r.formData),g=r.formData;else if(r.body instanceof FormData)m=Dd(r.body),g=r.body;else if(r.body instanceof URLSearchParams)m=r.body,g=Av(m);else if(r.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(r.body),g=Av(m)}catch{return s()}let y={formMethod:u,formAction:f,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Fn(y.formMethod))return{path:t,submission:y};let E=bi(t);return i&&E.search&&nm(E.search)&&m.append("index",""),E.search=`?${m}`,{path:ua(E),submission:y}}function yv(i,t,r,s,l,u,f,m,g,y,E,A,b,x,L,W,F,J,rt){var P;let ut=rt?qn(rt[1])?rt[1].error:rt[1].data:void 0,gt=l.createURL(u.location),mt=l.createURL(g),H;if(E&&u.errors){let C=Object.keys(u.errors)[0];H=f.findIndex(Bt=>Bt.route.id===C)}else if(rt&&qn(rt[1])){let C=rt[0];H=f.findIndex(Bt=>Bt.route.id===C)-1}let V=rt?rt[1].statusCode:void 0,R=V&&V>=400,w={currentUrl:gt,currentParams:((P=u.matches[0])==null?void 0:P.params)||{},nextUrl:mt,nextParams:f[0].params,...m,actionResult:ut,actionStatus:V},N=f.map((C,Bt)=>{let{route:Kt}=C,Q=null;if(H!=null&&Bt>H?Q=!1:Kt.lazy?Q=!0:Kt.loader==null?Q=!1:E?Q=wd(Kt,u.loaderData,u.errors):_S(u.loaderData,u.matches[Bt],C)&&(Q=!0),Q!==null)return Cd(r,s,i,C,y,t,Q);let ht=R?!1:A||gt.pathname+gt.search===mt.pathname+mt.search||gt.search!==mt.search||ES(u.matches[Bt],C),yt={...w,defaultShouldRevalidate:ht},Pt=Rc(C,yt);return Cd(r,s,i,C,y,t,Pt,yt)}),U=[];return L.forEach((C,Bt)=>{if(E||!f.some(nt=>nt.route.id===C.routeId)||x.has(Bt))return;let Kt=na(F,C.path,J);if(!Kt){U.push({key:Bt,routeId:C.routeId,path:C.path,matches:null,match:null,request:null,controller:null});return}if(W.has(Bt))return;let Q=u.fetchers.get(Bt),ht=_o(Kt,C.path),yt=new AbortController,Pt=Gs(l,C.path,yt.signal),M=null;if(b.has(Bt))b.delete(Bt),M=$s(r,s,Pt,Kt,ht,y,t);else if(Q&&Q.state!=="idle"&&Q.data===void 0)A&&(M=$s(r,s,Pt,Kt,ht,y,t));else{let nt={...w,defaultShouldRevalidate:R?!1:A};Rc(ht,nt)&&(M=$s(r,s,Pt,Kt,ht,y,t,nt))}M&&U.push({key:Bt,routeId:C.routeId,path:C.path,matches:M,match:ht,request:Pt,controller:yt})}),{dsMatches:N,revalidatingFetchers:U}}function wd(i,t,r){if(i.lazy)return!0;if(!i.loader)return!1;let s=t!=null&&t[i.id]!==void 0,l=r!=null&&r[i.id]!==void 0;return!s&&l?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!l}function _S(i,t,r){let s=!t||r.route.id!==t.route.id,l=!i.hasOwnProperty(r.route.id);return s||l}function ES(i,t){let r=i.route.path;return i.pathname!==t.pathname||r!=null&&r.endsWith("*")&&i.params["*"]!==t.params["*"]}function Rc(i,t){if(i.route.shouldRevalidate){let r=i.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function vv(i,t,r,s,l){let u;if(i){let g=s[i];Jt(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=r;let f=t.filter(g=>!u.some(y=>$0(g,y))),m=Sc(f,l,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...m)}function $0(i,t){return"id"in i&&"id"in t&&i.id===t.id?!0:i.index===t.index&&i.path===t.path&&i.caseSensitive===t.caseSensitive?(!i.children||i.children.length===0)&&(!t.children||t.children.length===0)?!0:i.children.every((r,s)=>{var l;return(l=t.children)==null?void 0:l.some(u=>$0(r,u))}):!1}var _v=new WeakMap,Z0=({key:i,route:t,manifest:r,mapRouteProperties:s})=>{let l=r[t.id];if(Jt(l,"No route found in manifest"),!l.lazy||typeof l.lazy!="object")return;let u=l.lazy[i];if(!u)return;let f=_v.get(l);f||(f={},_v.set(l,f));let m=f[i];if(m)return m;let g=(async()=>{let y=H1(i),A=l[i]!==void 0&&i!=="hasErrorBoundary";if(y)Ne(!y,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),f[i]=Promise.resolve();else if(A)Ne(!1,`Route "${l.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let b=await u();b!=null&&(Object.assign(l,{[i]:b}),Object.assign(l,s(l)))}typeof l.lazy=="object"&&(l.lazy[i]=void 0,Object.values(l.lazy).every(b=>b===void 0)&&(l.lazy=void 0))})();return f[i]=g,g},Ev=new WeakMap;function TS(i,t,r,s,l){let u=r[i.id];if(Jt(u,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let E=Ev.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let A=(async()=>{Jt(typeof i.lazy=="function","No lazy route function found");let b=await i.lazy(),x={};for(let L in b){let W=b[L];if(W===void 0)continue;let F=F1(L),rt=u[L]!==void 0&&L!=="hasErrorBoundary";F?Ne(!F,"Route property "+L+" is not a supported property to be returned from a lazy route function. This property will be ignored."):rt?Ne(!rt,`Route "${u.id}" has a static property "${L}" defined but its lazy function is also returning a value for this property. The lazy route property "${L}" will be ignored.`):x[L]=W}Object.assign(u,x),Object.assign(u,{...s(u),lazy:void 0})})();return Ev.set(u,A),A.catch(()=>{}),{lazyRoutePromise:A,lazyHandlerPromise:A}}let f=Object.keys(i.lazy),m=[],g;for(let E of f){if(l&&l.includes(E))continue;let A=Z0({key:E,route:i,manifest:r,mapRouteProperties:s});A&&(m.push(A),E===t&&(g=A))}let y=m.length>0?Promise.all(m).then(()=>{}):void 0;return y==null||y.catch(()=>{}),g==null||g.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:g}}async function Tv(i){let t=i.matches.filter(l=>l.shouldLoad),r={};return(await Promise.all(t.map(l=>l.resolve()))).forEach((l,u)=>{r[t[u].route.id]=l}),r}async function SS(i){return i.matches.some(t=>t.route.unstable_middleware)?J0(i,!1,()=>Tv(i),(t,r)=>({[r]:{type:"error",result:t}})):Tv(i)}async function J0(i,t,r,s){let{matches:l,request:u,params:f,context:m}=i,g={handlerResult:void 0};try{let y=l.flatMap(A=>A.route.unstable_middleware?A.route.unstable_middleware.map(b=>[A.route.id,b]):[]),E=await W0({request:u,params:f,context:m},y,t,g,r);return t?E:g.handlerResult}catch(y){if(!g.middlewareError)throw y;let E=await s(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,E):E}}async function W0(i,t,r,s,l,u=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let m=t[u];if(!m)return s.handlerResult=await l(),s.handlerResult;let[g,y]=m,E=!1,A,b=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await W0(i,t,r,s,l,u+1)};try{let x=await y({request:i.request,params:i.params,context:i.context},b);return E?x===void 0?A:x:b()}catch(x){throw s.middlewareError?s.middlewareError.error!==x&&(s.middlewareError={routeId:g,error:x}):s.middlewareError={routeId:g,error:x},x}}function t_(i,t,r,s,l){let u=Z0({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:i}),f=TS(s.route,Fn(r.method)?"action":"loader",t,i,l);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function Cd(i,t,r,s,l,u,f,m=null){let g=!1,y=t_(i,t,r,s,l);return{...s,_lazyPromises:y,shouldLoad:f,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(E){return g=!0,m?typeof E=="boolean"?Rc(s,{...m,defaultShouldRevalidate:E}):Rc(s,m):f},resolve(E){return g||f||E&&r.method==="GET"&&(s.route.lazy||s.route.loader)?bS({request:r,match:s,lazyHandlerPromise:y==null?void 0:y.handler,lazyRoutePromise:y==null?void 0:y.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function $s(i,t,r,s,l,u,f,m=null){return s.map(g=>g.route.id!==l.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:t_(i,t,r,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Cd(i,t,r,g,u,f,!0,m))}async function AS(i,t,r,s,l,u){r.some(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware})&&await Promise.all(r.map(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware}));let f={request:t,params:r[0].params,context:l,matches:r},g=await i({...f,fetcherKey:s,unstable_runClientMiddleware:y=>{let E=f;return J0(E,!1,()=>y({...E,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(A,b)=>({[b]:{type:"error",result:A}}))}});try{await Promise.all(r.flatMap(y=>{var E,A;return[(E=y._lazyPromises)==null?void 0:E.handler,(A=y._lazyPromises)==null?void 0:A.route]}))}catch{}return g}async function bS({request:i,match:t,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:l,scopedContext:u}){let f,m,g=Fn(i.method),y=g?"action":"loader",E=A=>{let b,x=new Promise((F,J)=>b=J);m=()=>b(),i.signal.addEventListener("abort",m);let L=F=>typeof A!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${t.route.id}]`)):A({request:i,params:t.params,context:u},...F!==void 0?[F]:[]),W=(async()=>{try{return{type:"data",result:await(l?l(J=>L(J)):L())}}catch(F){return{type:"error",result:F}}})();return Promise.race([W,x])};try{let A=g?t.route.action:t.route.loader;if(r||s)if(A){let b,[x]=await Promise.all([E(A).catch(L=>{b=L}),r,s]);if(b!==void 0)throw b;f=x}else{await r;let b=g?t.route.action:t.route.loader;if(b)[f]=await Promise.all([E(b),s]);else if(y==="action"){let x=new URL(i.url),L=x.pathname+x.search;throw cr(405,{method:i.method,pathname:L,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(A)f=await E(A);else{let b=new URL(i.url),x=b.pathname+b.search;throw cr(404,{pathname:x})}}catch(A){return{type:"error",result:A}}finally{m&&i.signal.removeEventListener("abort",m)}return f}async function RS(i){var s,l,u,f,m,g;let{result:t,type:r}=i;if(n_(t)){let y;try{let E=t.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?t.body==null?y=null:y=await t.json():y=await t.text()}catch(E){return{type:"error",error:E}}return r==="error"?{type:"error",error:new bc(t.status,t.statusText,y),statusCode:t.status,headers:t.headers}:{type:"data",data:y,statusCode:t.status,headers:t.headers}}return r==="error"?Dv(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new bc(((u=t.init)==null?void 0:u.status)||500,void 0,t.data),statusCode:Do(t)?t.status:void 0,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Do(t)?t.status:void 0}:Dv(t)?{type:"data",data:t.data,statusCode:(m=t.init)==null?void 0:m.status,headers:(g=t.init)!=null&&g.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function wS(i,t,r,s,l){let u=i.headers.get("Location");if(Jt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!em.test(u)){let f=s.slice(0,s.findIndex(m=>m.route.id===r)+1);u=Rd(new URL(t.url),f,l,u),i.headers.set("Location",u)}return i}function Sv(i,t,r){if(em.test(i)){let s=i,l=s.startsWith("//")?new URL(t.protocol+s):new URL(s),u=dr(l.pathname,r)!=null;if(l.origin===t.origin&&u)return l.pathname+l.search+l.hash}return i}function Gs(i,t,r,s){let l=i.createURL(e_(t)).toString(),u={signal:r};if(s&&Fn(s.formMethod)){let{formMethod:f,formEncType:m}=s;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(s.json)):m==="text/plain"?u.body=s.text:m==="application/x-www-form-urlencoded"&&s.formData?u.body=Dd(s.formData):u.body=s.formData}return new Request(l,u)}function Dd(i){let t=new URLSearchParams;for(let[r,s]of i.entries())t.append(r,typeof s=="string"?s:s.name);return t}function Av(i){let t=new FormData;for(let[r,s]of i.entries())t.append(r,s);return t}function CS(i,t,r,s=!1,l=!1){let u={},f=null,m,g=!1,y={},E=r&&qn(r[1])?r[1].error:void 0;return i.forEach(A=>{if(!(A.route.id in t))return;let b=A.route.id,x=t[b];if(Jt(!$a(x),"Cannot handle redirect results in processLoaderData"),qn(x)){let L=x.error;if(E!==void 0&&(L=E,E=void 0),f=f||{},l)f[b]=L;else{let W=Xa(i,b);f[W.route.id]==null&&(f[W.route.id]=L)}s||(u[b]=X0),g||(g=!0,m=Do(x.error)?x.error.status:500),x.headers&&(y[b]=x.headers)}else u[b]=x.data,x.statusCode&&x.statusCode!==200&&!g&&(m=x.statusCode),x.headers&&(y[b]=x.headers)}),E!==void 0&&r&&(f={[r[0]]:E},r[2]&&(u[r[2]]=void 0)),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:y}}function bv(i,t,r,s,l,u){let{loaderData:f,errors:m}=CS(t,r,s);return l.filter(g=>!g.matches||g.matches.some(y=>y.shouldLoad)).forEach(g=>{let{key:y,match:E,controller:A}=g,b=u[y];if(Jt(b,"Did not find corresponding fetcher result"),!(A&&A.signal.aborted))if(qn(b)){let x=Xa(i.matches,E==null?void 0:E.route.id);m&&m[x.route.id]||(m={...m,[x.route.id]:b.error}),i.fetchers.delete(y)}else if($a(b))Jt(!1,"Unhandled fetcher revalidation redirect");else{let x=ea(b.data);i.fetchers.set(y,x)}}),{loaderData:f,errors:m}}function Rv(i,t,r,s){let l=Object.entries(t).filter(([,u])=>u!==X0).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of r){let f=u.route.id;if(!t.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(l[f]=i[f]),s&&s.hasOwnProperty(f))break}return l}function wv(i){return i?qn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Xa(i,t){return(t?i.slice(0,i.findIndex(s=>s.route.id===t)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function Cv(i){let t=i.length===1?i[0]:i.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function cr(i,{pathname:t,routeId:r,method:s,type:l,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(f="Bad Request",s&&t&&r?m=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:l==="invalid-body"&&(m="Unable to encode submission body")):i===403?(f="Forbidden",m=`Route "${r}" does not match URL "${t}"`):i===404?(f="Not Found",m=`No route matches URL "${t}"`):i===405&&(f="Method Not Allowed",s&&t&&r?m=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(m=`Invalid request method "${s.toUpperCase()}"`)),new bc(i||500,f,new Error(m),!0)}function ac(i){let t=Object.entries(i);for(let r=t.length-1;r>=0;r--){let[s,l]=t[r];if($a(l))return{key:s,result:l}}}function e_(i){let t=typeof i=="string"?bi(i):i;return ua({...t,hash:""})}function DS(i,t){return i.pathname!==t.pathname||i.search!==t.search?!1:i.hash===""?t.hash!=="":i.hash===t.hash?!0:t.hash!==""}function xS(i){return n_(i.result)&&dS.has(i.result.status)}function qn(i){return i.type==="error"}function $a(i){return(i&&i.type)==="redirect"}function Dv(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function n_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function MS(i){return fS.has(i.toUpperCase())}function Fn(i){return cS.has(i.toUpperCase())}function nm(i){return new URLSearchParams(i).getAll("index").some(t=>t==="")}function _o(i,t){let r=typeof t=="string"?bi(t).search:t.search;if(i[i.length-1].route.index&&nm(r||""))return i[i.length-1];let s=Q0(i);return s[s.length-1]}function xv(i){let{formMethod:t,formAction:r,formEncType:s,text:l,formData:u,json:f}=i;if(!(!t||!r||!s)){if(l!=null)return{formMethod:t,formAction:r,formEncType:s,formData:void 0,json:void 0,text:l};if(u!=null)return{formMethod:t,formAction:r,formEncType:s,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:t,formAction:r,formEncType:s,formData:void 0,json:f,text:void 0}}}function gd(i,t){return t?{state:"loading",location:i,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function IS(i,t){return{state:"submitting",location:i,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function po(i,t){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function VS(i,t){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:t?t.data:void 0}}function ea(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function NS(i,t){try{let r=i.sessionStorage.getItem(K0);if(r){let s=JSON.parse(r);for(let[l,u]of Object.entries(s||{}))u&&Array.isArray(u)&&t.set(l,new Set(u||[]))}}catch{}}function OS(i,t){if(t.size>0){let r={};for(let[s,l]of t)r[s]=[...l];try{i.sessionStorage.setItem(K0,JSON.stringify(r))}catch(s){Ne(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function LS(){let i,t,r=new Promise((s,l)=>{i=async u=>{s(u);try{await r}catch{}},t=async u=>{l(u);try{await r}catch{}}});return{promise:r,resolve:i,reject:t}}var es=X.createContext(null);es.displayName="DataRouter";var Po=X.createContext(null);Po.displayName="DataRouterState";var rm=X.createContext({isTransitioning:!1});rm.displayName="ViewTransition";var r_=X.createContext(new Map);r_.displayName="Fetchers";var US=X.createContext(null);US.displayName="Await";var Kr=X.createContext(null);Kr.displayName="Navigation";var Hc=X.createContext(null);Hc.displayName="Location";var Er=X.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var im=X.createContext(null);im.displayName="RouteError";function PS(i,{relative:t}={}){Jt(zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=X.useContext(Kr),{hash:l,pathname:u,search:f}=jo(i,{relative:t}),m=u;return r!=="/"&&(m=u==="/"?r:Hr([r,u])),s.createHref({pathname:m,search:f,hash:l})}function zo(){return X.useContext(Hc)!=null}function ns(){return Jt(zo(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Hc).location}var i_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a_(i){X.useContext(Kr).static||X.useLayoutEffect(i)}function zS(){let{isDataRoute:i}=X.useContext(Er);return i?tA():jS()}function jS(){Jt(zo(),"useNavigate() may be used only in the context of a <Router> component.");let i=X.useContext(es),{basename:t,navigator:r}=X.useContext(Kr),{matches:s}=X.useContext(Er),{pathname:l}=ns(),u=JSON.stringify(Wd(s)),f=X.useRef(!1);return a_(()=>{f.current=!0}),X.useCallback((g,y={})=>{if(Ne(f.current,i_),!f.current)return;if(typeof g=="number"){r.go(g);return}let E=tm(g,JSON.parse(u),l,y.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Hr([t,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[t,r,u,l,i])}var kS=X.createContext(null);function BS(i){let t=X.useContext(Er).outlet;return t&&X.createElement(kS.Provider,{value:i},t)}function HS(){let{matches:i}=X.useContext(Er),t=i[i.length-1];return t?t.params:{}}function jo(i,{relative:t}={}){let{matches:r}=X.useContext(Er),{pathname:s}=ns(),l=JSON.stringify(Wd(r));return X.useMemo(()=>tm(i,JSON.parse(l),s,t==="path"),[i,l,s,t])}function qS(i,t,r,s){Jt(zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=X.useContext(Kr),{matches:f}=X.useContext(Er),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let rt=A&&A.path||"";s_(y,!A||rt.endsWith("*")||rt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${rt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${rt}"> to <Route path="${rt==="/"?"*":`${rt}/*`}">.`)}let b=ns(),x;x=b;let L=x.pathname||"/",W=L;if(E!=="/"){let rt=E.replace(/^\//,"").split("/");W="/"+L.replace(/^\//,"").split("/").slice(rt.length).join("/")}let F=!u&&r&&r.matches&&r.matches.length>0?r.matches:na(i,{pathname:W});return Ne(A||F!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ne(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),KS(F&&F.map(rt=>Object.assign({},rt,{params:Object.assign({},g,rt.params),pathname:Hr([E,l.encodeLocation?l.encodeLocation(rt.pathname).pathname:rt.pathname]),pathnameBase:rt.pathnameBase==="/"?E:Hr([E,l.encodeLocation?l.encodeLocation(rt.pathnameBase).pathname:rt.pathnameBase])})),f,r,s)}function FS(){let i=WS(),t=Do(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=X.createElement(X.Fragment,null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),r?X.createElement("pre",{style:l},r):null,f)}var GS=X.createElement(FS,null),QS=class extends X.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?X.createElement(Er.Provider,{value:this.props.routeContext},X.createElement(im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YS({routeContext:i,match:t,children:r}){let s=X.useContext(es);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(Er.Provider,{value:i},r)}function KS(i,t=[],r=null,s=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let l=i,u=r==null?void 0:r.errors;if(u!=null){let g=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Jt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,m=-1;if(r)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:A}=r,b=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||b){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,E)=>{let A,b=!1,x=null,L=null;r&&(A=u&&y.route.id?u[y.route.id]:void 0,x=y.route.errorElement||GS,f&&(m<0&&E===0?(s_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,L=null):m===E&&(b=!0,L=y.route.hydrateFallbackElement||null)));let W=t.concat(l.slice(0,E+1)),F=()=>{let J;return A?J=x:b?J=L:y.route.Component?J=X.createElement(y.route.Component,null):y.route.element?J=y.route.element:J=g,X.createElement(YS,{match:y,routeContext:{outlet:g,matches:W,isDataRoute:r!=null},children:J})};return r&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?X.createElement(QS,{location:r.location,revalidation:r.revalidation,component:x,error:A,children:F(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):F()},null)}function am(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XS(i){let t=X.useContext(es);return Jt(t,am(i)),t}function $S(i){let t=X.useContext(Po);return Jt(t,am(i)),t}function ZS(i){let t=X.useContext(Er);return Jt(t,am(i)),t}function sm(i){let t=ZS(i),r=t.matches[t.matches.length-1];return Jt(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function JS(){return sm("useRouteId")}function WS(){var s;let i=X.useContext(im),t=$S("useRouteError"),r=sm("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[r]}function tA(){let{router:i}=XS("useNavigate"),t=sm("useNavigate"),r=X.useRef(!1);return a_(()=>{r.current=!0}),X.useCallback(async(l,u={})=>{Ne(r.current,i_),r.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...u}))},[i,t])}var Mv={};function s_(i,t,r){!t&&!Mv[i]&&(Mv[i]=!0,Ne(!1,r))}var Iv={};function Vv(i,t){!i&&!Iv[t]&&(Iv[t]=!0,console.warn(t))}function eA(i){let t={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&Ne(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:X.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&Ne(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:X.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&Ne(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:X.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),t}var nA=["HydrateFallback","hydrateFallbackElement"],rA=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",t(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}};function iA({router:i,flushSync:t}){let[r,s]=X.useState(i.state),[l,u]=X.useState(),[f,m]=X.useState({isTransitioning:!1}),[g,y]=X.useState(),[E,A]=X.useState(),[b,x]=X.useState(),L=X.useRef(new Map),W=X.useCallback((ut,{deletedFetchers:gt,flushSync:mt,viewTransitionOpts:H})=>{ut.fetchers.forEach((R,w)=>{R.data!==void 0&&L.current.set(w,R.data)}),gt.forEach(R=>L.current.delete(R)),Vv(mt===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let V=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(Vv(H==null||V,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!H||!V){t&&mt?t(()=>s(ut)):X.startTransition(()=>s(ut));return}if(t&&mt){t(()=>{E&&(g&&g.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let R=i.window.document.startViewTransition(()=>{t(()=>s(ut))});R.finished.finally(()=>{t(()=>{y(void 0),A(void 0),u(void 0),m({isTransitioning:!1})})}),t(()=>A(R));return}E?(g&&g.resolve(),E.skipTransition(),x({state:ut,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(u(ut),m({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[i.window,t,E,g]);X.useLayoutEffect(()=>i.subscribe(W),[i,W]),X.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new rA)},[f]),X.useEffect(()=>{if(g&&l&&i.window){let ut=l,gt=g.promise,mt=i.window.document.startViewTransition(async()=>{X.startTransition(()=>s(ut)),await gt});mt.finished.finally(()=>{y(void 0),A(void 0),u(void 0),m({isTransitioning:!1})}),A(mt)}},[l,g,i.window]),X.useEffect(()=>{g&&l&&r.location.key===l.location.key&&g.resolve()},[g,E,r.location,l]),X.useEffect(()=>{!f.isTransitioning&&b&&(u(b.state),m({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),x(void 0))},[f.isTransitioning,b]);let F=X.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:ut=>i.navigate(ut),push:(ut,gt,mt)=>i.navigate(ut,{state:gt,preventScrollReset:mt==null?void 0:mt.preventScrollReset}),replace:(ut,gt,mt)=>i.navigate(ut,{replace:!0,state:gt,preventScrollReset:mt==null?void 0:mt.preventScrollReset})}),[i]),J=i.basename||"/",rt=X.useMemo(()=>({router:i,navigator:F,static:!1,basename:J}),[i,F,J]);return X.createElement(X.Fragment,null,X.createElement(es.Provider,{value:rt},X.createElement(Po.Provider,{value:r},X.createElement(r_.Provider,{value:L.current},X.createElement(rm.Provider,{value:f},X.createElement(oA,{basename:J,location:r.location,navigationType:r.historyAction,navigator:F},X.createElement(aA,{routes:i.routes,future:i.future,state:r})))))),null)}var aA=X.memo(sA);function sA({routes:i,future:t,state:r}){return qS(i,void 0,r,t)}function lA(i){return BS(i.context)}function oA({basename:i="/",children:t=null,location:r,navigationType:s="POP",navigator:l,static:u=!1}){Jt(!zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=X.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof r=="string"&&(r=bi(r));let{pathname:g="/",search:y="",hash:E="",state:A=null,key:b="default"}=r,x=X.useMemo(()=>{let L=dr(g,f);return L==null?null:{location:{pathname:L,search:y,hash:E,state:A,key:b},navigationType:s}},[f,g,y,E,A,b,s]);return Ne(x!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:X.createElement(Kr.Provider,{value:m},X.createElement(Hc.Provider,{children:t,value:x}))}var mc="get",gc="application/x-www-form-urlencoded";function qc(i){return i!=null&&typeof i.tagName=="string"}function uA(i){return qc(i)&&i.tagName.toLowerCase()==="button"}function cA(i){return qc(i)&&i.tagName.toLowerCase()==="form"}function hA(i){return qc(i)&&i.tagName.toLowerCase()==="input"}function fA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function dA(i,t){return i.button===0&&(!t||t==="_self")&&!fA(i)}var sc=null;function mA(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var gA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pd(i){return i!=null&&!gA.has(i)?(Ne(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gc}"`),null):i}function pA(i,t){let r,s,l,u,f;if(cA(i)){let m=i.getAttribute("action");s=m?dr(m,t):null,r=i.getAttribute("method")||mc,l=pd(i.getAttribute("enctype"))||gc,u=new FormData(i)}else if(uA(i)||hA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?dr(g,t):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||mc,l=pd(i.getAttribute("formenctype"))||pd(m.getAttribute("enctype"))||gc,u=new FormData(m,i),!mA()){let{name:y,type:E,value:A}=i;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,A)}}else{if(qc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=mc,s=null,l=gc,f=i}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:u,body:f}}function lm(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function yA(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function _A(i,t,r){let s=await Promise.all(i.map(async l=>{let u=t.routes[l.route.id];if(u){let f=await yA(u,r);return f.links?f.links():[]}return[]}));return AA(s.flat(1).filter(vA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Nv(i,t,r,s,l,u){let f=(g,y)=>r[y]?g.route.id!==r[y].route.id:!0,m=(g,y)=>{var E;return r[y].pathname!==g.pathname||((E=r[y].route.path)==null?void 0:E.endsWith("*"))&&r[y].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{var A;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((A=r[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function EA(i,t,{includeHydrateFallback:r}={}){return TA(i.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function TA(i){return[...new Set(i)]}function SA(i){let t={},r=Object.keys(i).sort();for(let s of r)t[s]=i[s];return t}function AA(i,t){let r=new Set;return new Set(t),i.reduce((s,l)=>{let u=JSON.stringify(SA(l));return r.has(u)||(r.add(u),s.push({key:u,link:l})),s},[])}var bA=new Set([100,101,204,205]);function RA(i,t){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname="_root.data":t&&dr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function l_(){let i=X.useContext(es);return lm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function wA(){let i=X.useContext(Po);return lm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var om=X.createContext(void 0);om.displayName="FrameworkContext";function o_(){let i=X.useContext(om);return lm(i,"You must render this element inside a <HydratedRouter> element"),i}function CA(i,t){let r=X.useContext(om),[s,l]=X.useState(!1),[u,f]=X.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=t,b=X.useRef(null);X.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let W=J=>{J.forEach(rt=>{f(rt.isIntersecting)})},F=new IntersectionObserver(W,{threshold:.5});return b.current&&F.observe(b.current),()=>{F.disconnect()}}},[i]),X.useEffect(()=>{if(s){let W=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(W)}}},[s]);let x=()=>{l(!0)},L=()=>{l(!1),f(!1)};return r?i!=="intent"?[u,b,{}]:[u,b,{onFocus:yo(m,x),onBlur:yo(g,L),onMouseEnter:yo(y,x),onMouseLeave:yo(E,L),onTouchStart:yo(A,x)}]:[!1,b,{}]}function yo(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function DA({page:i,...t}){let{router:r}=l_(),s=X.useMemo(()=>na(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?X.createElement(MA,{page:i,matches:s,...t}):null}function xA(i){let{manifest:t,routeModules:r}=o_(),[s,l]=X.useState([]);return X.useEffect(()=>{let u=!1;return _A(i,t,r).then(f=>{u||l(f)}),()=>{u=!0}},[i,t,r]),s}function MA({page:i,matches:t,...r}){let s=ns(),{manifest:l,routeModules:u}=o_(),{basename:f}=l_(),{loaderData:m,matches:g}=wA(),y=X.useMemo(()=>Nv(i,t,g,l,s,"data"),[i,t,g,l,s]),E=X.useMemo(()=>Nv(i,t,g,l,s,"assets"),[i,t,g,l,s]),A=X.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let L=new Set,W=!1;if(t.forEach(J=>{var ut;let rt=l.routes[J.route.id];!rt||!rt.hasLoader||(!y.some(gt=>gt.route.id===J.route.id)&&J.route.id in m&&((ut=u[J.route.id])!=null&&ut.shouldRevalidate)||rt.hasClientLoader?W=!0:L.add(J.route.id))}),L.size===0)return[];let F=RA(i,f);return W&&L.size>0&&F.searchParams.set("_routes",t.filter(J=>L.has(J.route.id)).map(J=>J.route.id).join(",")),[F.pathname+F.search]},[f,m,s,l,y,t,i,u]),b=X.useMemo(()=>EA(E,l),[E,l]),x=xA(E);return X.createElement(X.Fragment,null,A.map(L=>X.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...r})),b.map(L=>X.createElement("link",{key:L,rel:"modulepreload",href:L,...r})),x.map(({key:L,link:W})=>X.createElement("link",{key:L,...W})))}function IA(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var u_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u_&&(window.__reactRouterVersion="7.5.3")}catch{}function VA(i,t){return yS({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:z1({window:t==null?void 0:t.window}),hydrationData:NA(),routes:i,mapRouteProperties:eA,hydrationRouteProperties:nA,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function NA(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:OA(i.errors)}),i}function OA(i){if(!i)return null;let t=Object.entries(i),r={};for(let[s,l]of t)if(l&&l.__type==="RouteErrorResponse")r[s]=new bc(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let u=window[l.__subType];if(typeof u=="function")try{let f=new u(l.message);f.stack="",r[s]=f}catch{}}if(r[s]==null){let u=new Error(l.message);u.stack="",r[s]=u}}else r[s]=l;return r}var c_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,um=X.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:A,...b},x){let{basename:L}=X.useContext(Kr),W=typeof y=="string"&&c_.test(y),F,J=!1;if(typeof y=="string"&&W&&(F=y,u_))try{let w=new URL(window.location.href),N=y.startsWith("//")?new URL(w.protocol+y):new URL(y),U=dr(N.pathname,L);N.origin===w.origin&&U!=null?y=U+N.search+N.hash:J=!0}catch{Ne(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let rt=PS(y,{relative:l}),[ut,gt,mt]=CA(s,b),H=PA(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:l,viewTransition:A});function V(w){t&&t(w),w.defaultPrevented||H(w)}let R=X.createElement("a",{...b,...mt,href:F||rt,onClick:J||u?t:V,ref:IA(x,gt),target:g,"data-discover":!W&&r==="render"?"true":void 0});return ut&&!W?X.createElement(X.Fragment,null,R,X.createElement(DA,{page:rt})):R});um.displayName="Link";var Ei=X.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let A=jo(f,{relative:y.relative}),b=ns(),x=X.useContext(Po),{navigator:L,basename:W}=X.useContext(Kr),F=x!=null&&HA(A)&&m===!0,J=L.encodeLocation?L.encodeLocation(A).pathname:A.pathname,rt=b.pathname,ut=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(rt=rt.toLowerCase(),ut=ut?ut.toLowerCase():null,J=J.toLowerCase()),ut&&W&&(ut=dr(ut,W)||ut);const gt=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let mt=rt===J||!l&&rt.startsWith(J)&&rt.charAt(gt)==="/",H=ut!=null&&(ut===J||!l&&ut.startsWith(J)&&ut.charAt(J.length)==="/"),V={isActive:mt,isPending:H,isTransitioning:F},R=mt?t:void 0,w;typeof s=="function"?w=s(V):w=[s,mt?"active":null,H?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(V):u;return X.createElement(um,{...y,"aria-current":R,className:w,ref:E,style:N,to:f,viewTransition:m},typeof g=="function"?g(V):g)});Ei.displayName="NavLink";var LA=X.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:l,state:u,method:f=mc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:A,...b},x)=>{let L=kA(),W=BA(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&c_.test(m),rt=ut=>{if(g&&g(ut),ut.defaultPrevented)return;ut.preventDefault();let gt=ut.nativeEvent.submitter,mt=(gt==null?void 0:gt.getAttribute("formmethod"))||f;L(gt||ut.currentTarget,{fetcherKey:t,method:mt,navigate:r,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:A})};return X.createElement("form",{ref:x,method:F,action:W,onSubmit:s?g:rt,...b,"data-discover":!J&&i==="render"?"true":void 0})});LA.displayName="Form";function UA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h_(i){let t=X.useContext(es);return Jt(t,UA(i)),t}function PA(i,{target:t,replace:r,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=zS(),g=ns(),y=jo(i,{relative:u});return X.useCallback(E=>{if(dA(E,t)){E.preventDefault();let A=r!==void 0?r:ua(g)===ua(y);m(i,{replace:A,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[g,m,y,r,s,t,i,l,u,f])}var zA=0,jA=()=>`__${String(++zA)}__`;function kA(){let{router:i}=h_("useSubmit"),{basename:t}=X.useContext(Kr),r=JS();return X.useCallback(async(s,l={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=pA(s,t);if(l.navigate===!1){let E=l.fetcherKey||jA();await i.fetch(E,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,r])}function BA(i,{relative:t}={}){let{basename:r}=X.useContext(Kr),s=X.useContext(Er);Jt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...jo(i||".",{relative:t})},f=ns();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Hr([r,u.pathname])),ua(u)}function HA(i,t={}){let r=X.useContext(rm);Jt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=h_("useViewTransitionState"),l=jo(i,{relative:t.relative});if(!r.isTransitioning)return!1;let u=dr(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=dr(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Ac(l.pathname,f)!=null||Ac(l.pathname,u)!=null}new TextEncoder;[...bA];const Ov=i=>{let t;const r=new Set,s=(y,E)=>{const A=typeof y=="function"?y(t):y;if(!Object.is(A,t)){const b=t;t=E??(typeof A!="object"||A===null)?A:Object.assign({},t,A),r.forEach(x=>x(t,b))}},l=()=>t,m={setState:s,getState:l,getInitialState:()=>g,subscribe:y=>(r.add(y),()=>r.delete(y))},g=t=i(s,l,m);return m},qA=i=>i?Ov(i):Ov,FA=i=>i;function GA(i,t=FA){const r=iv.useSyncExternalStore(i.subscribe,()=>t(i.getState()),()=>t(i.getInitialState()));return iv.useDebugValue(r),r}const Lv=i=>{const t=qA(i),r=s=>GA(t,s);return Object.assign(r,t),r},cm=i=>i?Lv(i):Lv,hr=cm(i=>({productList:[],categoryList:[],productsToRender:[],setProductList:t=>i(r=>({productList:t})),setCategoryList:t=>i(r=>({categoryList:t})),setProductsToRender:t=>i(r=>({productsToRender:t}))})),Ja=cm(i=>({isAdmin:!1,isEditing:!1,toggleAdmin:()=>i(t=>({isAdmin:!t.isAdmin}))})),Zs=cm(i=>({cart:[],addCartItem:t=>i(r=>({cart:[...r.cart,t]})),plusQuantity:t=>i(r=>{const s=r.cart.findIndex(l=>l.id===t);return s!==-1?(r.cart[s].quantity++,{cart:[...r.cart]}):{cart:[...r.cart,{id:t,quantity:1}]}}),emptyCart:()=>i({cart:[]})})),QA="/toy-store-page/assets/mdi_child-toy-XXu6ojVw.svg",YA="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M16.8361%206.5C17.3961%205.32%2018.6041%204.5%2020.0001%204.5H28.0001C29.3961%204.5%2030.6021%205.32%2031.1641%206.5C32.5301%206.512%2033.5961%206.574%2034.5481%206.946C35.6845%207.39054%2036.6729%208.14602%2037.4001%209.126C38.1341%2010.114%2038.4801%2011.38%2038.9521%2013.122L40.4361%2018.566L40.9961%2020.248L41.0441%2020.308C42.8461%2022.616%2041.9881%2026.048%2040.2721%2032.91C39.1801%2037.276%2038.6361%2039.458%2037.0081%2040.73C35.3801%2042%2033.1301%2042%2028.6301%2042H19.3701C14.8701%2042%2012.6201%2042%2010.9921%2040.73C9.36406%2039.458%208.81807%2037.276%207.72807%2032.91C6.01207%2026.048%205.15407%2022.616%206.95607%2020.308L7.00407%2020.248L7.56407%2018.566L9.04807%2013.122C9.52207%2011.38%209.86807%2010.112%2010.6001%209.124C11.3275%208.14476%2012.3159%207.38999%2013.4521%206.946C14.4041%206.574%2015.4681%206.51%2016.8361%206.5ZM16.8401%209.506C15.5161%209.52%2014.9841%209.57%2014.5441%209.742C13.932%209.98136%2013.3997%2010.3882%2013.0081%2010.916C12.6561%2011.39%2012.4481%2012.052%2011.8681%2014.186L10.7281%2018.364C12.7681%2018%2015.5561%2018%2019.3681%2018H28.6301C32.4441%2018%2035.2301%2018%2037.2701%2018.36L36.1321%2014.182C35.5521%2012.048%2035.3441%2011.386%2034.9921%2010.912C34.6004%2010.3842%2034.0681%209.97736%2033.4561%209.738C33.0161%209.566%2032.4841%209.516%2031.1601%209.502C30.8761%2010.0997%2030.4285%2010.6046%2029.8692%2010.9583C29.3099%2011.3119%2028.6618%2011.4997%2028.0001%2011.5H20.0001C19.3386%2011.4999%2018.6906%2011.3124%2018.1313%2010.9591C17.572%2010.6059%2017.1243%2010.1033%2016.8401%209.506Z'%20fill='white'/%3e%3c/svg%3e",KA=()=>{const i=Ja(l=>l.isAdmin),t=Ja(l=>l.toggleAdmin),r=Zs(l=>l.cart),s=()=>{t()};return $.jsxs("header",{className:"header",children:[$.jsxs(Ei,{to:"/",className:"logo",children:[$.jsx("h1",{children:"TOYS AM I"}),$.jsx("img",{src:QA,alt:"TOYS AM I LOGOTYP"})]}),$.jsx(Ei,{to:"/products",className:"all-toys",children:"Alla Leksaker"}),i?$.jsx(Ei,{to:"/products/addnew",children:"Lägg till ny produkt"}):"",i?$.jsx("button",{onClick:s,children:"Logga ut"}):$.jsxs(Ei,{to:"/cart",className:"cart-icon",children:[$.jsx("img",{src:YA,alt:"cart"}),r.length>0?$.jsx("p",{className:"cart-counter",children:r.reduce((l,u)=>l+u.quantity,0)}):""]})]})},XA=()=>$.jsxs("footer",{children:[$.jsxs("p",{children:["© ",new Date().getFullYear()," Toy Store. All rights reserved."]}),$.jsx(um,{to:"/Login",children:"Lägg till/Ändra på sidan"})]});function $A(){return $.jsxs($.Fragment,{children:[$.jsx(KA,{}),$.jsx(lA,{}),$.jsx(XA,{})]})}const ZA=()=>$.jsx("div",{className:"hero",children:$.jsx(Ei,{to:"/products",children:"KOLLA IN VÅRA LEKSAKER!"})}),JA=()=>{};var Uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=function(i){const t=[];let r=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},WA=function(i){const t=[];let r=0,s=0;for(;r<i.length;){const l=i[r++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[r++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[r++],f=i[r++],m=i[r++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[r++],f=i[r++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},d_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const u=i[l],f=l+1<i.length,m=f?i[l+1]:0,g=l+2<i.length,y=g?i[l+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,x=y&63;g||(x=64,f||(b=64)),s.push(r[E],r[A],r[b],r[x])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(f_(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):WA(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const u=r[i.charAt(l++)],m=l<i.length?r[i.charAt(l)]:0;++l;const y=l<i.length?r[i.charAt(l)]:64;++l;const A=l<i.length?r[i.charAt(l)]:64;if(++l,u==null||m==null||y==null||A==null)throw new t2;const b=u<<2|m>>4;if(s.push(b),y!==64){const x=m<<4&240|y>>2;if(s.push(x),A!==64){const L=y<<6&192|A;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class t2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e2=function(i){const t=f_(i);return d_.encodeByteArray(t,!0)},wc=function(i){return e2(i).replace(/\./g,"")},n2=function(i){try{return d_.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=()=>r2().__FIREBASE_DEFAULTS__,a2=()=>{if(typeof process>"u"||typeof Uv>"u")return;const i=Uv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},s2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&n2(i[1]);return t&&JSON.parse(t)},hm=()=>{try{return JA()||i2()||a2()||s2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},l2=i=>{var t,r;return(r=(t=hm())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},o2=i=>{const t=l2(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),s]:[t.substring(0,r),s]},m_=()=>{var i;return(i=hm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=t||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[wc(JSON.stringify(r)),wc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f2(){var i;const t=(i=hm())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d2(){return!f2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m2(){try{return typeof indexedDB=="object"}catch{return!1}}function g2(){return new Promise((i,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="FirebaseError";class ol extends Error{constructor(t,r,s){super(r),this.code=t,this.customData=s,this.name=p2,Object.setPrototypeOf(this,ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,g_.prototype.create)}}class g_{constructor(t,r,s){this.service=t,this.serviceName=r,this.errors=s}create(t,...r){const s=r[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?y2(u,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new ol(l,m,s)}}function y2(i,t){return i.replace(v2,(r,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const v2=/\{\$([^}]+)}/g;function Cc(i,t){if(i===t)return!0;const r=Object.keys(i),s=Object.keys(t);for(const l of r){if(!s.includes(l))return!1;const u=i[l],f=t[l];if(Pv(u)&&Pv(f)){if(!Cc(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function Pv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(i){return i&&i._delegate?i._delegate:i}class xo{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const s=new u2;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(T2(t))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=Ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ka){return this.instances.has(t)}getOptions(t=Ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(l)}return l}onInit(t,r){var s;const l=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&t(f,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:E2(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ka){return this.component?this.component.multipleInstances?t:Ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E2(i){return i===Ka?void 0:i}function T2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new _2(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ae||(ae={}));const A2={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},b2=ae.INFO,R2={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},w2=(i,t,...r)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),l=R2[t];if(l)console[l](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class p_{constructor(t){this.name=t,this._logLevel=b2,this._logHandler=w2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?A2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const C2=(i,t)=>t.some(r=>i instanceof r);let zv,jv;function D2(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x2(){return jv||(jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y_=new WeakMap,xd=new WeakMap,v_=new WeakMap,yd=new WeakMap,fm=new WeakMap;function M2(i){const t=new Promise((r,s)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{r(ia(i.result)),l()},f=()=>{s(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&y_.set(r,i)}).catch(()=>{}),fm.set(t,i),t}function I2(i){if(xd.has(i))return;const t=new Promise((r,s)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{r(),l()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});xd.set(i,t)}let Md={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return xd.get(i);if(t==="objectStoreNames")return i.objectStoreNames||v_.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ia(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function V2(i){Md=i(Md)}function N2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const s=i.call(vd(this),t,...r);return v_.set(s,t.sort?t.sort():[t]),ia(s)}:x2().includes(i)?function(...t){return i.apply(vd(this),t),ia(y_.get(this))}:function(...t){return ia(i.apply(vd(this),t))}}function O2(i){return typeof i=="function"?N2(i):(i instanceof IDBTransaction&&I2(i),C2(i,D2())?new Proxy(i,Md):i)}function ia(i){if(i instanceof IDBRequest)return M2(i);if(yd.has(i))return yd.get(i);const t=O2(i);return t!==i&&(yd.set(i,t),fm.set(t,i)),t}const vd=i=>fm.get(i);function L2(i,t,{blocked:r,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(i,t),m=ia(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ia(f.result),g.oldVersion,g.newVersion,ia(f.transaction),g)}),r&&f.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const U2=["get","getKey","getAll","getAllKeys","count"],P2=["put","add","delete","clear"],_d=new Map;function kv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(_d.get(t))return _d.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,l=P2.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||U2.includes(r)))return;const u=async function(f,...m){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[r](...m),l&&g.done]))[0]};return _d.set(t,u),u}V2(i=>({...i,get:(t,r,s)=>kv(t,r)||i.get(t,r,s),has:(t,r)=>!!kv(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(j2(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function j2(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Id="@firebase/app",Bv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new p_("@firebase/app"),k2="@firebase/app-compat",B2="@firebase/analytics-compat",H2="@firebase/analytics",q2="@firebase/app-check-compat",F2="@firebase/app-check",G2="@firebase/auth",Q2="@firebase/auth-compat",Y2="@firebase/database",K2="@firebase/data-connect",X2="@firebase/database-compat",$2="@firebase/functions",Z2="@firebase/functions-compat",J2="@firebase/installations",W2="@firebase/installations-compat",tb="@firebase/messaging",eb="@firebase/messaging-compat",nb="@firebase/performance",rb="@firebase/performance-compat",ib="@firebase/remote-config",ab="@firebase/remote-config-compat",sb="@firebase/storage",lb="@firebase/storage-compat",ob="@firebase/firestore",ub="@firebase/vertexai",cb="@firebase/firestore-compat",hb="firebase",fb="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="[DEFAULT]",db={[Id]:"fire-core",[k2]:"fire-core-compat",[H2]:"fire-analytics",[B2]:"fire-analytics-compat",[F2]:"fire-app-check",[q2]:"fire-app-check-compat",[G2]:"fire-auth",[Q2]:"fire-auth-compat",[Y2]:"fire-rtdb",[K2]:"fire-data-connect",[X2]:"fire-rtdb-compat",[$2]:"fire-fn",[Z2]:"fire-fn-compat",[J2]:"fire-iid",[W2]:"fire-iid-compat",[tb]:"fire-fcm",[eb]:"fire-fcm-compat",[nb]:"fire-perf",[rb]:"fire-perf-compat",[ib]:"fire-rc",[ab]:"fire-rc-compat",[sb]:"fire-gcs",[lb]:"fire-gcs-compat",[ob]:"fire-fst",[cb]:"fire-fst-compat",[ub]:"fire-vertex","fire-js":"fire-js",[hb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Map,mb=new Map,Nd=new Map;function Hv(i,t){try{i.container.addComponent(t)}catch(r){Ti.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function xc(i){const t=i.name;if(Nd.has(t))return Ti.debug(`There were multiple attempts to register component ${t}.`),!1;Nd.set(t,i);for(const r of Dc.values())Hv(r,i);for(const r of mb.values())Hv(r,i);return!0}function gb(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function pb(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new g_("app","Firebase",yb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t,r,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=fb;function __(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Vd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw aa.create("bad-app-name",{appName:String(l)});if(r||(r=m_()),!r)throw aa.create("no-options");const u=Dc.get(l);if(u){if(Cc(r,u.options)&&Cc(s,u.config))return u;throw aa.create("duplicate-app",{appName:l})}const f=new S2(l);for(const g of Nd.values())f.addComponent(g);const m=new vb(r,s,f);return Dc.set(l,m),m}function Eb(i=Vd){const t=Dc.get(i);if(!t&&i===Vd&&m_())return __();if(!t)throw aa.create("no-app",{appName:i});return t}function Js(i,t,r){var s;let l=(s=db[i])!==null&&s!==void 0?s:i;r&&(l+=`-${r}`);const u=l.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${t}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ti.warn(m.join(" "));return}xc(new xo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebase-heartbeat-database",Sb=1,Mo="firebase-heartbeat-store";let Ed=null;function E_(){return Ed||(Ed=L2(Tb,Sb,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Mo)}catch(r){console.warn(r)}}}}).catch(i=>{throw aa.create("idb-open",{originalErrorMessage:i.message})})),Ed}async function Ab(i){try{const r=(await E_()).transaction(Mo),s=await r.objectStore(Mo).get(T_(i));return await r.done,s}catch(t){if(t instanceof ol)Ti.warn(t.message);else{const r=aa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ti.warn(r.message)}}}async function qv(i,t){try{const s=(await E_()).transaction(Mo,"readwrite");await s.objectStore(Mo).put(t,T_(i)),await s.done}catch(r){if(r instanceof ol)Ti.warn(r.message);else{const s=aa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ti.warn(s.message)}}}function T_(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=1024,Rb=30;class wb{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Db(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Fv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>Rb){const f=xb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ti.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Fv(),{heartbeatsToSend:s,unsentEntries:l}=Cb(this._heartbeatsCache.heartbeats),u=wc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Ti.warn(r),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function Cb(i,t=bb){const r=[];let s=i.slice();for(const l of i){const u=r.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Gv(r)>t){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),Gv(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class Db{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m2()?g2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Ab(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return qv(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return qv(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function Gv(i){return wc(JSON.stringify({version:2,heartbeats:i})).length}function xb(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(i){xc(new xo("platform-logger",t=>new z2(t),"PRIVATE")),xc(new xo("heartbeat",t=>new wb(t),"PRIVATE")),Js(Id,Bv,i),Js(Id,Bv,"esm2017"),Js("fire-js","")}Mb("");var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sa,S_;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,R){function w(){}w.prototype=R.prototype,V.D=R.prototype,V.prototype=new w,V.prototype.constructor=V,V.C=function(N,U,P){for(var C=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)C[Bt-2]=arguments[Bt];return R.prototype[U].apply(N,C)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,R,w){w||(w=0);var N=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)N[U]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(U=0;16>U;++U)N[U]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=V.g[0],w=V.g[1],U=V.g[2];var P=V.g[3],C=R+(P^w&(U^P))+N[0]+3614090360&4294967295;R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+N[1]+3905402710&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+N[2]+606105819&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+N[3]+3250441966&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(P^w&(U^P))+N[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+N[5]+1200080426&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+N[6]+2821735955&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+N[7]+4249261313&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(P^w&(U^P))+N[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+N[9]+2336552879&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+N[10]+4294925233&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+N[11]+2304563134&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(P^w&(U^P))+N[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+N[13]+4254626195&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+N[14]+2792965006&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+N[15]+1236535329&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(U^P&(w^U))+N[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+N[6]+3225465664&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+N[11]+643717713&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+N[0]+3921069994&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(U^P&(w^U))+N[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+N[10]+38016083&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+N[15]+3634488961&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+N[4]+3889429448&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(U^P&(w^U))+N[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+N[14]+3275163606&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+N[3]+4107603335&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+N[8]+1163531501&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(U^P&(w^U))+N[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+N[2]+4243563512&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+N[7]+1735328473&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+N[12]+2368359562&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(w^U^P)+N[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+N[8]+2272392833&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+N[11]+1839030562&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+N[14]+4259657740&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(w^U^P)+N[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+N[4]+1272893353&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+N[7]+4139469664&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+N[10]+3200236656&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(w^U^P)+N[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+N[0]+3936430074&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+N[3]+3572445317&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+N[6]+76029189&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(w^U^P)+N[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+N[12]+3873151461&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+N[15]+530742520&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+N[2]+3299628645&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(U^(w|~P))+N[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+N[7]+1126891415&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+N[14]+2878612391&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+N[5]+4237533241&4294967295,w=U+(C<<21&4294967295|C>>>11),C=R+(U^(w|~P))+N[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+N[3]+2399980690&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+N[10]+4293915773&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+N[1]+2240044497&4294967295,w=U+(C<<21&4294967295|C>>>11),C=R+(U^(w|~P))+N[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+N[15]+4264355552&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+N[6]+2734768916&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+N[13]+1309151649&4294967295,w=U+(C<<21&4294967295|C>>>11),C=R+(U^(w|~P))+N[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+N[11]+3174756917&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+N[2]+718787259&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(U+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+U&4294967295,V.g[3]=V.g[3]+P&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var w=R-this.blockSize,N=this.B,U=this.h,P=0;P<R;){if(U==0)for(;P<=w;)l(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<R;)if(N[U++]=V.charCodeAt(P++),U==this.blockSize){l(this,N),U=0;break}}else for(;P<R;)if(N[U++]=V[P++],U==this.blockSize){l(this,N),U=0;break}}this.h=U,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var w=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=w&255,w/=256;for(this.u(V),V=Array(16),R=w=0;4>R;++R)for(var N=0;32>N;N+=8)V[w++]=this.g[R]>>>N&255;return V};function u(V,R){var w=m;return Object.prototype.hasOwnProperty.call(w,V)?w[V]:w[V]=R(V)}function f(V,R){this.h=R;for(var w=[],N=!0,U=V.length-1;0<=U;U--){var P=V[U]|0;N&&P==R||(w[U]=P,N=!1)}this.g=w}var m={};function g(V){return-128<=V&&128>V?u(V,function(R){return new f([R|0],0>R?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return A;if(0>V)return F(y(-V));for(var R=[],w=1,N=0;V>=w;N++)R[N]=V/w|0,w*=4294967296;return new f(R,0)}function E(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return F(E(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(R,8)),N=A,U=0;U<V.length;U+=8){var P=Math.min(8,V.length-U),C=parseInt(V.substring(U,U+P),R);8>P?(P=y(Math.pow(R,P)),N=N.j(P).add(y(C))):(N=N.j(w),N=N.add(y(C)))}return N}var A=g(0),b=g(1),x=g(16777216);i=f.prototype,i.m=function(){if(W(this))return-F(this).m();for(var V=0,R=1,w=0;w<this.g.length;w++){var N=this.i(w);V+=(0<=N?N:4294967296+N)*R,R*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(L(this))return"0";if(W(this))return"-"+F(this).toString(V);for(var R=y(Math.pow(V,6)),w=this,N="";;){var U=gt(w,R).g;w=J(w,U.j(R));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(V);if(w=U,L(w))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function L(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function W(V){return V.h==-1}i.l=function(V){return V=J(this,V),W(V)?-1:L(V)?0:1};function F(V){for(var R=V.g.length,w=[],N=0;N<R;N++)w[N]=~V.g[N];return new f(w,~V.h).add(b)}i.abs=function(){return W(this)?F(this):this},i.add=function(V){for(var R=Math.max(this.g.length,V.g.length),w=[],N=0,U=0;U<=R;U++){var P=N+(this.i(U)&65535)+(V.i(U)&65535),C=(P>>>16)+(this.i(U)>>>16)+(V.i(U)>>>16);N=C>>>16,P&=65535,C&=65535,w[U]=C<<16|P}return new f(w,w[w.length-1]&-2147483648?-1:0)};function J(V,R){return V.add(F(R))}i.j=function(V){if(L(this)||L(V))return A;if(W(this))return W(V)?F(this).j(F(V)):F(F(this).j(V));if(W(V))return F(this.j(F(V)));if(0>this.l(x)&&0>V.l(x))return y(this.m()*V.m());for(var R=this.g.length+V.g.length,w=[],N=0;N<2*R;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var U=0;U<V.g.length;U++){var P=this.i(N)>>>16,C=this.i(N)&65535,Bt=V.i(U)>>>16,Kt=V.i(U)&65535;w[2*N+2*U]+=C*Kt,rt(w,2*N+2*U),w[2*N+2*U+1]+=P*Kt,rt(w,2*N+2*U+1),w[2*N+2*U+1]+=C*Bt,rt(w,2*N+2*U+1),w[2*N+2*U+2]+=P*Bt,rt(w,2*N+2*U+2)}for(N=0;N<R;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=R;N<2*R;N++)w[N]=0;return new f(w,0)};function rt(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function ut(V,R){this.g=V,this.h=R}function gt(V,R){if(L(R))throw Error("division by zero");if(L(V))return new ut(A,A);if(W(V))return R=gt(F(V),R),new ut(F(R.g),F(R.h));if(W(R))return R=gt(V,F(R)),new ut(F(R.g),R.h);if(30<V.g.length){if(W(V)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var w=b,N=R;0>=N.l(V);)w=mt(w),N=mt(N);var U=H(w,1),P=H(N,1);for(N=H(N,2),w=H(w,2);!L(N);){var C=P.add(N);0>=C.l(V)&&(U=U.add(w),P=C),N=H(N,1),w=H(w,1)}return R=J(V,U.j(R)),new ut(U,R)}for(U=A;0<=V.l(R);){for(w=Math.max(1,Math.floor(V.m()/R.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=y(w),C=P.j(R);W(C)||0<C.l(V);)w-=N,P=y(w),C=P.j(R);L(P)&&(P=b),U=U.add(P),V=J(V,C)}return new ut(U,V)}i.A=function(V){return gt(this,V).h},i.and=function(V){for(var R=Math.max(this.g.length,V.g.length),w=[],N=0;N<R;N++)w[N]=this.i(N)&V.i(N);return new f(w,this.h&V.h)},i.or=function(V){for(var R=Math.max(this.g.length,V.g.length),w=[],N=0;N<R;N++)w[N]=this.i(N)|V.i(N);return new f(w,this.h|V.h)},i.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),w=[],N=0;N<R;N++)w[N]=this.i(N)^V.i(N);return new f(w,this.h^V.h)};function mt(V){for(var R=V.g.length+1,w=[],N=0;N<R;N++)w[N]=V.i(N)<<1|V.i(N-1)>>>31;return new f(w,V.h)}function H(V,R){var w=R>>5;R%=32;for(var N=V.g.length-w,U=[],P=0;P<N;P++)U[P]=0<R?V.i(P+w)>>>R|V.i(P+w+1)<<32-R:V.i(P+w);return new f(U,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,S_=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,sa=f}).apply(typeof Qv<"u"?Qv:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A_,Eo,b_,pc,Od,R_,w_,C_;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=r(this);function l(c,p){if(p)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var k=c[S];if(!(k in v))break t;v=v[k]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,S=!1,k={next:function(){if(!S&&v<c.length){var Z=v++;return{value:p(Z,c[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,v){return c.call.apply(c.bind,arguments)}function A(c,p,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,S),c.apply(p,k)}}return function(){return c.apply(p,arguments)}}function b(c,p,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,b.apply(null,arguments)}function x(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function L(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,k,Z){for(var ft=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)ft[ee-2]=arguments[ee];return p.prototype[k].apply(S,ft)}}function W(c){const p=c.length;if(0<p){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function F(c,p){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const k=c.length||0,Z=S.length||0;c.length=k+Z;for(let ft=0;ft<Z;ft++)c[k+ft]=S[ft]}else c.push(S)}}class J{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function rt(c){return/^[\s\xa0]*$/.test(c)}function ut(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function gt(c){return gt[" "](c),c}gt[" "]=function(){};var mt=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function H(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function V(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function R(c){const p={};for(const v in c)p[v]=c[v];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,p){let v,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(v in S)c[v]=S[v];for(let Z=0;Z<w.length;Z++)v=w[Z],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function U(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function P(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Pt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Bt{constructor(){this.h=this.g=null}add(p,v){const S=Kt.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Kt=new J(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,yt=!1,Pt=new Bt,M=()=>{const c=m.Promise.resolve(void 0);ht=()=>{c.then(nt)}};var nt=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){P(v)}var p=Kt;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}yt=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function kt(c,p){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(mt){t:{try{gt(p.nodeName);var k=!0;break t}catch{}k=!1}k||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ct[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&kt.aa.h.call(this)}}L(kt,lt);var Ct={2:"touch",3:"pen",4:"mouse"};kt.prototype.h=function(){kt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),ge=0;function Qn(c,p,v,S,k){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=k,this.key=++ge,this.da=this.fa=!1}function Ae(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function hn(c){this.src=c,this.g={},this.h=0}hn.prototype.add=function(c,p,v,S,k){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var ft=Xr(c,p,S,k);return-1<ft?(p=c[ft],v||(p.fa=!1)):(p=new Qn(p,this.src,Z,!!S,k),p.fa=v,c.push(p)),p};function Tr(c,p){var v=p.type;if(v in c.g){var S=c.g[v],k=Array.prototype.indexOf.call(S,p,void 0),Z;(Z=0<=k)&&Array.prototype.splice.call(S,k,1),Z&&(Ae(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Xr(c,p,v,S){for(var k=0;k<c.length;++k){var Z=c[k];if(!Z.da&&Z.listener==p&&Z.capture==!!v&&Z.ha==S)return k}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),_a={};function as(c,p,v,S,k){if(Array.isArray(p)){for(var Z=0;Z<p.length;Z++)as(c,p[Z],v,S,k);return null}return v=Ci(v),c&&c[Oe]?c.K(p,v,y(S)?!!S.capture:!1,k):En(c,p,v,!1,S,k)}function En(c,p,v,S,k,Z){if(!p)throw Error("Invalid event type");var ft=y(k)?!!k.capture:!!k,ee=Yn(c);if(ee||(c[_n]=ee=new hn(c)),v=ee.add(p,v,S,ft,Z),v.proxy)return v;if(S=dl(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)At||(k=ft),k===void 0&&(k=!1),c.addEventListener(p.toString(),S,k);else if(c.attachEvent)c.attachEvent($r(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function dl(){function c(v){return p.call(c.src,c.listener,v)}const p=mr;return c}function Ea(c,p,v,S,k){if(Array.isArray(p))for(var Z=0;Z<p.length;Z++)Ea(c,p[Z],v,S,k);else S=y(S)?!!S.capture:!!S,v=Ci(v),c&&c[Oe]?(c=c.i,p=String(p).toString(),p in c.g&&(Z=c.g[p],v=Xr(Z,v,S,k),-1<v&&(Ae(Z[v]),Array.prototype.splice.call(Z,v,1),Z.length==0&&(delete c.g[p],c.h--)))):c&&(c=Yn(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Xr(p,v,S,k)),(v=-1<c?p[c]:null)&&Ri(v))}function Ri(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Oe])Tr(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent($r(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=Yn(p))?(Tr(v,c),v.h==0&&(v.src=null,p[_n]=null)):Ae(c)}}}function $r(c){return c in _a?_a[c]:_a[c]="on"+c}function mr(c,p){if(c.da)c=!0;else{p=new kt(p,this);var v=c.listener,S=c.ha||c.src;c.fa&&Ri(c),c=v.call(S,p)}return c}function Yn(c){return c=c[_n],c instanceof hn?c:null}var wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ci(c){return typeof c=="function"?c:(c[wi]||(c[wi]=function(p){return c.handleEvent(p)}),c[wi])}function oe(){dt.call(this),this.i=new hn(this),this.M=this,this.F=null}L(oe,dt),oe.prototype[Oe]=!0,oe.prototype.removeEventListener=function(c,p,v,S){Ea(this,c,p,v,S)};function qt(c,p){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new lt(p,c);else if(p instanceof lt)p.target=p.target||c;else{var k=p;p=new lt(S,c),N(p,k)}if(k=!0,v)for(var Z=v.length-1;0<=Z;Z--){var ft=p.g=v[Z];k=fn(ft,S,!0,p)&&k}if(ft=p.g=c,k=fn(ft,S,!0,p)&&k,k=fn(ft,S,!1,p)&&k,v)for(Z=0;Z<v.length;Z++)ft=p.g=v[Z],k=fn(ft,S,!1,p)&&k}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],S=0;S<v.length;S++)Ae(v[S]);delete c.g[p],c.h--}}this.F=null},oe.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},oe.prototype.L=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function fn(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var k=!0,Z=0;Z<p.length;++Z){var ft=p[Z];if(ft&&!ft.da&&ft.capture==v){var ee=ft.listener,He=ft.ha||ft.src;ft.fa&&Tr(c.i,ft),k=ee.call(He,S)!==!1&&k}}return k&&!S.defaultPrevented}function Le(c,p,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function ss(c){c.g=Le(()=>{c.g=null,c.i&&(c.i=!1,ss(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Kn extends dt{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ss(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(c){dt.call(this),this.h=c,this.g={}}L(Sr,dt);var Ar=[];function br(c){H(c.g,function(p,v){this.g.hasOwnProperty(v)&&Ri(p)},c),c.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),br(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,Zr=m.JSON.parse,Xn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Di(){}Di.prototype.h=null;function Jr(c){return c.h||(c.h=c.i())}function Ta(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){lt.call(this,"d")}L(gr,lt);function xi(){lt.call(this,"c")}L(xi,lt);var Tn={},Rr=null;function wr(){return Rr=Rr||new oe}Tn.La="serverreachability";function Mi(c){lt.call(this,Tn.La,c)}L(Mi,lt);function I(c){const p=wr();qt(p,new Mi(p))}Tn.STAT_EVENT="statevent";function j(c,p){lt.call(this,Tn.STAT_EVENT,c),this.stat=p}L(j,lt);function q(c){const p=wr();qt(p,new j(p,c))}Tn.Ma="timingevent";function it(c,p){lt.call(this,Tn.Ma,c),this.size=p}L(it,lt);function ct(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function vt(){this.g=!0}vt.prototype.xa=function(){this.g=!1};function Dt(c,p,v,S,k,Z){c.info(function(){if(c.g)if(Z)for(var ft="",ee=Z.split("&"),He=0;He<ee.length;He++){var ne=ee[He].split("=");if(1<ne.length){var $e=ne[0];ne=ne[1];var qe=$e.split("_");ft=2<=qe.length&&qe[1]=="type"?ft+($e+"="+ne+"&"):ft+($e+"=redacted&")}}else ft=null;else ft=Z;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+p+`
`+v+`
`+ft})}function _t(c,p,v,S,k,Z,ft){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+p+`
`+v+`
`+Z+" "+ft})}function Tt(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Mt(c,v)+(S?" "+S:"")})}function bt(c,p){c.info(function(){return"TIMEOUT: "+p})}vt.prototype.info=function(){};function Mt(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var k=S[1];if(Array.isArray(k)&&!(1>k.length)){var Z=k[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ft=1;ft<k.length;ft++)k[ft]=""}}}}return Vn(v)}catch{return p}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xt;function ce(){}L(ce,Di),ce.prototype.g=function(){return new XMLHttpRequest},ce.prototype.i=function(){return{}},Xt=new ce;function se(c,p,v,S){this.j=c,this.i=p,this.l=v,this.R=S||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new te}function te(){this.i=null,this.g="",this.h=!1}var Qt={},Zn={};function Be(c,p,v){c.L=1,c.v=ba(Ln(p)),c.m=v,c.P=!0,Sn(c,null)}function Sn(c,p){c.F=Date.now(),Nn(c),c.A=Ln(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),vl(v.i,"t",S),c.C=0,v=c.j.J,c.h=new te,c.g=eu(c.j,v?p:null,!c.m),0<c.O&&(c.M=new Kn(b(c.Y,c,c.g),c.O)),p=c.U,v=c.g,S=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(Ar[0]=k.toString()),k=Ar);for(var Z=0;Z<k.length;Z++){var ft=as(v,k[Z],S||p.handleEvent,!1,p.h||p);if(!ft)break;p.g[ft.key]=ft}p=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),I(),Dt(c.i,c.u,c.A,c.l,c.R,c.m)}se.prototype.ca=function(c){c=c.target;const p=this.M;p&&nr(c)==3?p.j():this.Y(c)},se.prototype.Y=function(c){try{if(c==this.g)t:{const qe=nr(this.g);var p=this.g.Ba();const si=this.g.Z();if(!(3>qe)&&(qe!=3||this.g&&(this.h.h||this.g.oa()||Yo(this.g)))){this.J||qe!=4||p==7||(p==8||0>=si?I(3):I(2)),dn(this);var v=this.g.Z();this.X=v;e:if(en(this)){var S=Yo(this.g);c="";var k=S.length,Z=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),An(this);var ft="";break e}this.h.i=new m.TextDecoder}for(p=0;p<k;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(Z&&p==k-1)});S.length=0,this.h.g+=c,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=v==200,_t(this.i,this.u,this.A,this.l,this.R,qe,v),this.o){if(this.T&&!this.K){e:{if(this.g){var ee,He=this.g;if((ee=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(ee)){var ne=ee;break e}}ne=null}if(v=ne)Tt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ue(this,v);else{this.o=!1,this.s=3,q(12),Ut(this),An(this);break t}}if(this.P){v=!0;let rn;for(;!this.J&&this.C<ft.length;)if(rn=Cr(this,ft),rn==Zn){qe==4&&(this.s=4,q(14),v=!1),Tt(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Qt){this.s=4,q(15),Tt(this.i,this.l,ft,"[Invalid Chunk]"),v=!1;break}else Tt(this.i,this.l,rn,null),Ue(this,rn);if(en(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||ft.length!=0||this.h.h||(this.s=1,q(16),v=!1),this.o=this.o&&v,!v)Tt(this.i,this.l,ft,"[Invalid Chunked Response]"),Ut(this),An(this);else if(0<ft.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),Va($e),$e.M=!0,q(11))}}else Tt(this.i,this.l,ft,null),Ue(this,ft);qe==4&&Ut(this),this.o&&!this.J&&(qe==4?Jo(this.j,this):(this.o=!1,Nn(this)))}else dh(this.g),v==400&&0<ft.indexOf("Unknown SID")?(this.s=3,q(12)):(this.s=0,q(13)),Ut(this),An(this)}}}catch{}finally{}};function en(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cr(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Zn:(v=Number(p.substring(v,S)),isNaN(v)?Qt:(S+=1,S+v>p.length?Zn:(p=p.slice(S,S+v),c.C=S+v,p)))}se.prototype.cancel=function(){this.J=!0,Ut(this)};function Nn(c){c.S=Date.now()+c.I,Ii(c,c.I)}function Ii(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ct(b(c.ba,c),p)}function dn(c){c.B&&(m.clearTimeout(c.B),c.B=null)}se.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bt(this.i,this.A),this.L!=2&&(I(),q(17)),Ut(this),this.s=2,An(this)):Ii(this,this.S-c)};function An(c){c.j.G==0||c.J||Jo(c.j,c)}function Ut(c){dn(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,br(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Ue(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Jn(v.h,c))){if(!c.K&&Jn(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)gs(v),ds(v);else break t;Al(v),q(18)}}else v.za=k[1],0<v.za-v.T&&37500>k[2]&&v.F&&v.v==0&&!v.C&&(v.C=ct(b(v.Za,v),6e3));if(1>=Ee(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ai(v,11)}else if((c.K||v.g==c)&&gs(v),!rt(p))for(k=v.Da.g.parse(p),p=0;p<k.length;p++){let ne=k[p];if(v.T=ne[0],ne=ne[1],v.G==2)if(ne[0]=="c"){v.K=ne[1],v.ia=ne[2];const $e=ne[3];$e!=null&&(v.la=$e,v.j.info("VER="+v.la));const qe=ne[4];qe!=null&&(v.Aa=qe,v.j.info("SVER="+v.Aa));const si=ne[5];si!=null&&typeof si=="number"&&0<si&&(S=1.5*si,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const rn=c.g;if(rn){const Lr=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lr){var Z=S.h;Z.g||Lr.indexOf("spdy")==-1&&Lr.indexOf("quic")==-1&&Lr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Wr(Z,Z.h),Z.h=null))}if(S.D){const Rl=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(S.ya=Rl,pe(S.I,S.D,Rl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ft=c;if(S.qa=tu(S,S.J?S.ia:null,S.W),ft.K){nn(S.h,ft);var ee=ft,He=S.L;He&&(ee.I=He),ee.B&&(dn(ee),Nn(ee)),S.g=ft}else $o(S);0<v.i.length&&ms(v)}else ne[0]!="stop"&&ne[0]!="close"||ai(v,7);else v.G==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?ai(v,7):Tl(v):ne[0]!="noop"&&v.l&&v.l.ta(ne),v.v=0)}}I(4)}catch{}}var On=class{constructor(c,p){this.g=c,this.map=p}};function wn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ee(c){return c.h?1:c.g?c.g.size:0}function Jn(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Wr(c,p){c.g?c.g.add(p):c.h=p}function nn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}wn.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ml(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return W(c.i)}function uh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,S=0;S<v;S++)p.push(c[S]);return p}p=[],v=0;for(S in c)p[v++]=c[S];return p}function ls(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const S in c)p[v++]=S;return p}}}function gl(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=ls(c),S=uh(c),k=S.length,Z=0;Z<k;Z++)p.call(void 0,S[Z],v&&v[Z],c)}var Sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ch(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),k=null;if(0<=S){var Z=c[v].substring(0,S);k=c[v].substring(S+1)}else Z=c[v];p(Z,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Pe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pe){this.h=c.h,Aa(this,c.j),this.o=c.o,this.g=c.g,Vi(this,c.s),this.l=c.l;var p=c.i,v=new ei;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),ti(this,v),this.m=c.m}else c&&(p=String(c).match(Sa))?(this.h=!1,Aa(this,p[1]||"",!0),this.o=Wn(p[2]||""),this.g=Wn(p[3]||"",!0),Vi(this,p[4]),this.l=Wn(p[5]||"",!0),ti(this,p[6]||"",!0),this.m=Wn(p[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}Pe.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Ra(p,pl,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ra(p,pl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ra(v,v.charAt(0)=="/"?hh:yl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ra(v,os)),c.join("")};function Ln(c){return new Pe(c)}function Aa(c,p,v){c.j=v?Wn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Vi(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function ti(c,p,v){p instanceof ei?(c.i=p,Go(c.i,c.h)):(v||(p=Ra(p,fh)),c.i=new ei(p,c.h))}function pe(c,p,v){c.i.set(p,v)}function ba(c){return pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Wn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ra(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,Fo),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Fo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pl=/[#\/\?@]/g,yl=/[#\?:]/g,hh=/[#\?]/g,fh=/[#\?@]/g,os=/#/g;function ei(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function tr(c){c.g||(c.g=new Map,c.h=0,c.i&&ch(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}i=ei.prototype,i.add=function(c,p){tr(this),this.i=null,c=xr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function ni(c,p){tr(c),p=xr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function ri(c,p){return tr(c),p=xr(c,p),c.g.has(p)}i.forEach=function(c,p){tr(this),this.g.forEach(function(v,S){v.forEach(function(k){c.call(p,k,S,this)},this)},this)},i.na=function(){tr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let S=0;S<p.length;S++){const k=c[S];for(let Z=0;Z<k.length;Z++)v.push(p[S])}return v},i.V=function(c){tr(this);let p=[];if(typeof c=="string")ri(this,c)&&(p=p.concat(this.g.get(xr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},i.set=function(c,p){return tr(this),this.i=null,c=xr(this,c),ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function vl(c,p,v){ni(c,p),0<v.length&&(c.i=null,c.g.set(xr(c,p),W(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var S=p[v];const Z=encodeURIComponent(String(S)),ft=this.V(S);for(S=0;S<ft.length;S++){var k=Z;ft[S]!==""&&(k+="="+encodeURIComponent(String(ft[S]))),c.push(k)}}return this.i=c.join("&")};function xr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Go(c,p){p&&!c.j&&(tr(c),c.i=null,c.g.forEach(function(v,S){var k=S.toLowerCase();S!=k&&(ni(this,S),vl(this,k,v))},c)),c.j=p}function wa(c,p){const v=new vt;if(m.Image){const S=new Image;S.onload=x(er,v,"TestLoadImage: loaded",!0,p,S),S.onerror=x(er,v,"TestLoadImage: error",!1,p,S),S.onabort=x(er,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=x(er,v,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function pr(c,p){const v=new vt,S=new AbortController,k=setTimeout(()=>{S.abort(),er(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(Z=>{clearTimeout(k),Z.ok?er(v,"TestPingServer: ok",!0,p):er(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),er(v,"TestPingServer: error",!1,p)})}function er(c,p,v,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(v)}catch{}}function Ca(){this.g=new Xn}function Mr(c,p,v){const S=v||"";try{gl(c,function(k,Z){let ft=k;y(k)&&(ft=Vn(k)),p.push(S+Z+"="+encodeURIComponent(ft))})}catch(k){throw p.push(S+"type="+encodeURIComponent("_badmap")),k}}function Ni(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Ni,Di),Ni.prototype.g=function(){return new ii(this.l,this.j)},Ni.prototype.i=function(c){return function(){return c}}({});function ii(c,p){oe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(ii,oe),i=ii.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Vr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_l(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _l(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ir(this):Vr(this),this.readyState==3&&_l(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},i.Qa=function(c){this.g&&(this.response=c,Ir(this))},i.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Vr(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Vr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function El(c){let p="";return H(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Xe(c,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=El(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):pe(c,p,v))}function he(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(he,oe);var us=/^https?$/i,Da=["POST","PUT"];i=he.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xt.g(),this.v=this.o?Jr(this.o):Jr(Xt),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Z){Qo(this,Z);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)v.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())v.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),k=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Da,p,void 0))||S||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ft]of v)this.g.setRequestHeader(Z,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Qo(this,Z)}};function Qo(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,cs(c),Nr(c)}function cs(c){c.A||(c.A=!0,qt(c,"complete"),qt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qt(this,"complete"),qt(this,"abort"),Nr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),he.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?hs(this):this.bb())},i.bb=function(){hs(this)};function hs(c){if(c.h&&typeof f<"u"&&(!c.v[1]||nr(c)!=4||c.Z()!=2)){if(c.u&&nr(c)==4)Le(c.Ea,0,c);else if(qt(c,"readystatechange"),nr(c)==4){c.h=!1;try{const ft=c.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=ft===0){var k=String(c.D).match(Sa)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),S=!us.test(k?k.toLowerCase():"")}v=S}if(v)qt(c,"complete"),qt(c,"success");else{c.m=6;try{var Z=2<nr(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",cs(c)}}finally{Nr(c)}}}}function Nr(c,p){if(c.g){xa(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||qt(c,"ready");try{v.onreadystatechange=S}catch{}}}function xa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function nr(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Zr(p)}};function Yo(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function dh(c){const p={};c=(c.g&&2<=nr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(rt(c[S]))continue;var v=U(c[S]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=p[k]||[];p[k]=Z,Z.push(v)}V(p,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function fs(c){this.Aa=0,this.i=[],this.j=new vt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,c),this.cb=Ma("retryDelaySeedMs",1e4,c),this.Wa=Ma("forwardChannelMaxRetries",2,c),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wn(c&&c.concurrentRequestLimit),this.Da=new Ca,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=fs.prototype,i.la=8,i.G=1,i.connect=function(c,p,v,S){q(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=tu(this,null,this.W),ms(this)};function Tl(c){if(Ko(c),c.G==3){var p=c.U++,v=Ln(c.I);if(pe(v,"SID",c.K),pe(v,"RID",p),pe(v,"TYPE","terminate"),Ia(c,v),p=new se(c,c.j,p),p.L=2,p.v=ba(Ln(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=eu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Nn(p)}Wo(c)}function ds(c){c.g&&(Va(c),c.g.cancel(),c.g=null)}function Ko(c){ds(c),c.u&&(m.clearTimeout(c.u),c.u=null),gs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ms(c){if(!Dr(c.h)&&!c.s){c.s=!0;var p=c.Ga;ht||M(),yt||(ht(),yt=!0),Pt.add(p,c),c.B=0}}function mh(c,p){return Ee(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ct(b(c.Ga,c,p),bl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new se(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=R(Z),N(Z,this.S)):Z=this.S),this.m!==null||this.O||(k.H=Z,Z=null),this.P)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Xo(this,k,p),v=Ln(this.I),pe(v,"RID",c),pe(v,"CVER",22),this.D&&pe(v,"X-HTTP-Session-Id",this.D),Ia(this,v),Z&&(this.O?p="headers="+encodeURIComponent(String(El(Z)))+"&"+p:this.m&&Xe(v,this.m,Z)),Wr(this.h,k),this.Ua&&pe(v,"TYPE","init"),this.P?(pe(v,"$req",p),pe(v,"SID","null"),k.T=!0,Be(k,v,null)):Be(k,v,p),this.G=2}}else this.G==3&&(c?Sl(this,c):this.i.length==0||Dr(this.h)||Sl(this))};function Sl(c,p){var v;p?v=p.l:v=c.U++;const S=Ln(c.I);pe(S,"SID",c.K),pe(S,"RID",v),pe(S,"AID",c.T),Ia(c,S),c.m&&c.o&&Xe(S,c.m,c.o),v=new se(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Xo(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Wr(c.h,v),Be(v,S,p)}function Ia(c,p){c.H&&H(c.H,function(v,S){pe(p,S,v)}),c.l&&gl({},function(v,S){pe(p,S,v)})}function Xo(c,p,v){v=Math.min(c.i.length,v);var S=c.l?b(c.l.Na,c.l,c):null;t:{var k=c.i;let Z=-1;for(;;){const ft=["count="+v];Z==-1?0<v?(Z=k[0].g,ft.push("ofs="+Z)):Z=0:ft.push("ofs="+Z);let ee=!0;for(let He=0;He<v;He++){let ne=k[He].g;const $e=k[He].map;if(ne-=Z,0>ne)Z=Math.max(0,k[He].g-100),ee=!1;else try{Mr($e,ft,"req"+ne+"_")}catch{S&&S($e)}}if(ee){S=ft.join("&");break t}}}return c=c.i.splice(0,v),p.D=c,S}function $o(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ht||M(),yt||(ht(),yt=!0),Pt.add(p,c),c.v=0}}function Al(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ct(b(c.Fa,c),bl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Zo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ct(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,q(10),ds(this),Zo(this))};function Va(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Zo(c){c.g=new se(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Ln(c.qa);pe(p,"RID","rpc"),pe(p,"SID",c.K),pe(p,"AID",c.T),pe(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&pe(p,"TO",c.ja),pe(p,"TYPE","xmlhttp"),Ia(c,p),c.m&&c.o&&Xe(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ba(Ln(p)),v.m=null,v.P=!0,Sn(v,c)}i.Za=function(){this.C!=null&&(this.C=null,ds(this),Al(this),q(19))};function gs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Jo(c,p){var v=null;if(c.g==p){gs(c),Va(c),c.g=null;var S=2}else if(Jn(c.h,p))v=p.D,nn(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var k=c.B;S=wr(),qt(S,new it(S,v)),ms(c)}else $o(c);else if(k=p.s,k==3||k==0&&0<p.X||!(S==1&&mh(c,p)||S==2&&Al(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),k){case 1:ai(c,5);break;case 4:ai(c,10);break;case 3:ai(c,6);break;default:ai(c,2)}}}function bl(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function ai(c,p){if(c.j.info("Error code "+p),p==2){var v=b(c.fb,c),S=c.Xa;const k=!S;S=new Pe(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Aa(S,"https"),ba(S),k?wa(S.toString(),v):pr(S.toString(),v)}else q(2);c.G=0,c.l&&c.l.sa(p),Wo(c),Ko(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),q(2)):(this.j.info("Failed to ping google.com"),q(1))};function Wo(c){if(c.G=0,c.ka=[],c.l){const p=ml(c.h);(p.length!=0||c.i.length!=0)&&(F(c.ka,p),F(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function tu(c,p,v){var S=v instanceof Pe?Ln(v):new Pe(v);if(S.g!="")p&&(S.g=p+"."+S.g),Vi(S,S.s);else{var k=m.location;S=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;var Z=new Pe(null);S&&Aa(Z,S),p&&(Z.g=p),k&&Vi(Z,k),v&&(Z.l=v),S=Z}return v=c.D,p=c.ya,v&&p&&pe(S,v,p),pe(S,"VER",c.la),Ia(c,S),S}function eu(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new he(new Ni({eb:v})):new he(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}i=nu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ps(){}ps.prototype.g=function(c,p){return new bn(c,p)};function bn(c,p){oe.call(this),this.g=new fs(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!rt(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!rt(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Or(this)}L(bn,oe),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Tl(this.g)},bn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Vn(c),c=v);p.i.push(new On(p.Ya++,c)),p.G==3&&ms(p)},bn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,bn.aa.N.call(this)};function ru(c){gr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}L(ru,gr);function iu(){xi.call(this),this.status=1}L(iu,xi);function Or(c){this.g=c}L(Or,nu),Or.prototype.ua=function(){qt(this.g,"a")},Or.prototype.ta=function(c){qt(this.g,new ru(c))},Or.prototype.sa=function(c){qt(this.g,new iu)},Or.prototype.ra=function(){qt(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,C_=function(){return new ps},w_=function(){return wr()},R_=Tn,Od={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,pc=St,Vt.COMPLETE="complete",b_=Vt,Ta.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",oe.prototype.listen=oe.prototype.K,Eo=Ta,he.prototype.listenOnce=he.prototype.L,he.prototype.getLastError=he.prototype.Ka,he.prototype.getLastErrorCode=he.prototype.Ba,he.prototype.getStatus=he.prototype.Z,he.prototype.getResponseJson=he.prototype.Oa,he.prototype.getResponseText=he.prototype.oa,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Ha,A_=he}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const Yv="@firebase/firestore",Kv="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new p_("@firebase/firestore");function Qs(){return Wa.logLevel}function pt(i,...t){if(Wa.logLevel<=ae.DEBUG){const r=t.map(dm);Wa.debug(`Firestore (${ul}): ${i}`,...r)}}function Si(i,...t){if(Wa.logLevel<=ae.ERROR){const r=t.map(dm);Wa.error(`Firestore (${ul}): ${i}`,...r)}}function tl(i,...t){if(Wa.logLevel<=ae.WARN){const r=t.map(dm);Wa.warn(`Firestore (${ul}): ${i}`,...r)}}function dm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(i,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,D_(i,s,r)}function D_(i,t,r){let s=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw Si(s),new Error(s)}function fe(i,t,r,s){let l="Unexpected state";typeof r=="string"?l=r:s=r,i||D_(t,l,s)}function jt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends ol{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ib{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(yn.UNAUTHENTICATED))}shutdown(){}}class Vb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Nb{constructor(t){this.t=t,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){fe(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,r(g)):Promise.resolve();let u=new la;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new la,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},m=g=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new la)}},0),f()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(fe(typeof s.accessToken=="string",31837,{l:s}),new x_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return fe(t===null||typeof t=="string",2055,{h:t}),new yn(t)}}class Ob{constructor(t,r,s){this.P=t,this.T=r,this.I=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lb{constructor(t,r,s){this.P=t,this.T=r,this.I=s}getToken(){return Promise.resolve(new Ob(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ub{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pb(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){fe(this.o===void 0,3512);const s=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const l=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(fe(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Xv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Pb(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<r&&(s+=t.charAt(l[u]%62))}return s}}function Gt(i,t){return i<t?-1:i>t?1:0}function Ld(i,t){let r=0;for(;r<i.length&&r<t.length;){const s=i.codePointAt(r),l=t.codePointAt(r);if(s!==l){if(s<128&&l<128)return Gt(s,l);{const u=M_(),f=zb(u.encode($v(i,r)),u.encode($v(t,r)));return f!==0?f:Gt(s,l)}}r+=s>65535?2:1}return Gt(i.length,t.length)}function $v(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function zb(i,t){for(let r=0;r<i.length&&r<t.length;++r)if(i[r]!==t[r])return Gt(i[r],t[r]);return Gt(i.length,t.length)}function el(i,t,r){return i.length===t.length&&i.every((s,l)=>r(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=-62135596800,Jv=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(t){return Ye.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor((t-1e3*r)*Jv);return new Ye(r,s)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new wt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new wt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<Zv)throw new wt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jv}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Zv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static fromTimestamp(t){return new zt(t)}static min(){return new zt(new Ye(0,0))}static max(){return new zt(new Ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__name__";class Br{constructor(t,r,s){r===void 0?r=0:r>t.length&&Ot(637,{offset:r,range:t.length}),s===void 0?s=t.length-r:s>t.length-r&&Ot(1746,{length:s,range:t.length-r}),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return Br.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Br?t.forEach(s=>{r.push(s)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let l=0;l<s;l++){const u=Br.compareSegments(t.get(l),r.get(l));if(u!==0)return u}return Gt(t.length,r.length)}static compareSegments(t,r){const s=Br.isNumericId(t),l=Br.isNumericId(r);return s&&!l?-1:!s&&l?1:s&&l?Br.extractNumericId(t).compare(Br.extractNumericId(r)):Ld(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sa.fromString(t.substring(4,t.length-2))}}class Re extends Br{construct(t,r,s){return new Re(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new wt(ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new Re(r)}static emptyPath(){return new Re([])}}const jb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Br{construct(t,r,s){return new un(t,r,s)}static isValidIdentifier(t){return jb.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new un([Wv])}static fromServerFormat(t){const r=[];let s="",l=0;const u=()=>{if(s.length===0)throw new wt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let f=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new wt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new wt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(u(),l++)}if(u(),f)throw new wt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new un(r)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.path=t}static fromPath(t){return new xt(Re.fromString(t))}static fromName(t){return new xt(Re.fromString(t).popFirst(5))}static empty(){return new xt(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Re.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xt(new Re(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=-1;function kb(i,t){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=zt.fromTimestamp(s===1e9?new Ye(r+1,0):new Ye(r,s));return new ha(l,xt.empty(),t)}function Bb(i){return new ha(i.readTime,i.key,Io)}class ha{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new ha(zt.min(),xt.empty(),Io)}static max(){return new ha(zt.max(),xt.empty(),Io)}}function Hb(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=xt.comparator(i.documentKey,t.documentKey),r!==0?r:Gt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(i){if(i.code!==ot.FAILED_PRECONDITION||i.message!==qb)throw i;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new st((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,l)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof st?r:st.resolve(r)}catch(r){return st.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):st.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):st.reject(r)}static resolve(t){return new st((r,s)=>{r(t)})}static reject(t){return new st((r,s)=>{s(t)})}static waitFor(t){return new st((r,s)=>{let l=0,u=0,f=!1;t.forEach(m=>{++l,m.next(()=>{++u,f&&u===l&&r()},g=>s(g))}),f=!0,u===l&&r()})}static or(t){let r=st.resolve(!1);for(const s of t)r=r.next(l=>l?st.resolve(l):s());return r}static forEach(t,r){const s=[];return t.forEach((l,u)=>{s.push(r.call(this,l,u))}),this.waitFor(s)}static mapArray(t,r){return new st((s,l)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;r(t[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>l(E))}})}static doWhile(t,r){return new st((s,l)=>{const u=()=>{t()===!0?r().next(()=>{u()},l):s()};u()})}}function Gb(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function hl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>r.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Fc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=-1;function Gc(i){return i==null}function Mc(i){return i===0&&1/i==-1/0}function Qb(i){return typeof i=="number"&&Number.isInteger(i)&&!Mc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="";function Yb(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=t0(t)),t=Kb(i.get(r),t);return t0(t)}function Kb(i,t){let r=t;const s=i.length;for(let l=0;l<s;l++){const u=i.charAt(l);switch(u){case"\0":r+="";break;case V_:r+="";break;default:r+=u}}return r}function t0(i){return i+V_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function ya(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function N_(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t,r){this.comparator=t,this.root=r||on.EMPTY}insert(t,r){return new Ce(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new Ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,s)=>(t(r,s),!1))}toString(){const t=[];return this.inorderTraversal((r,s)=>(t.push(`${r}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new oc(this.root,t,this.comparator,!0)}}class oc{constructor(t,r,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=r?s(t.key,r):1,r&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,r,s,l,u){this.key=t,this.value=r,this.color=s??on.RED,this.left=l??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,l,u){return new on(t??this.key,r??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,r,s),null):u===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return on.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ot(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ot(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot(57766)}get value(){throw Ot(16141)}get color(){throw Ot(16727)}get left(){throw Ot(29726)}get right(){throw Ot(36894)}copy(t,r,s,l,u){return this}insert(t,r,s){return new on(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.comparator=t,this.data=new Ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,s)=>(t(r),!1))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new n0(this.data.getIterator())}getIteratorFrom(t){return new n0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(s=>{r=r.add(s)}),r}isEqual(t){if(!(t instanceof Ke)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Ke(this.comparator);return r.data=t,r}}class n0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.fields=t,t.sort(un.comparator)}static empty(){return new Gn([])}unionWith(t){let r=new Ke(un.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new Gn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return el(this.fields,t.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new O_("Invalid base64 string: "+u):u}}(t);return new cn(r)}static fromUint8Array(t){const r=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(t);return new cn(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const Xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(i){if(fe(!!i,39018),typeof i=="string"){let t=0;const r=Xb.exec(i);if(fe(!!r,46558,{timestamp:i}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ve(i.seconds),nanos:Ve(i.nanos)}}function Ve(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function da(i){return typeof i=="string"?cn.fromBase64String(i):cn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="server_timestamp",U_="__type__",P_="__previous_value__",z_="__local_write_time__";function gm(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[U_])===null||r===void 0?void 0:r.stringValue)===L_}function Qc(i){const t=i.mapValue.fields[P_];return gm(t)?Qc(t):t}function Vo(i){const t=fa(i.mapValue.fields[z_].timestampValue);return new Ye(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t,r,s,l,u,f,m,g,y){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Ic="(default)";class No{constructor(t,r){this.projectId=t,this.database=r||Ic}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(t){return t instanceof No&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="__type__",Zb="__max__",uc={mapValue:{}},k_="__vector__",Vc="value";function ma(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?gm(i)?4:Wb(i)?9007199254740991:Jb(i)?10:11:Ot(28295,{value:i})}function Qr(i,t){if(i===t)return!0;const r=ma(i);if(r!==ma(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Vo(i).isEqual(Vo(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=fa(l.timestampValue),m=fa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(l,u){return da(l.bytesValue).isEqual(da(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(l,u){return Ve(l.geoPointValue.latitude)===Ve(u.geoPointValue.latitude)&&Ve(l.geoPointValue.longitude)===Ve(u.geoPointValue.longitude)}(i,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return Ve(l.integerValue)===Ve(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Ve(l.doubleValue),m=Ve(u.doubleValue);return f===m?Mc(f)===Mc(m):isNaN(f)&&isNaN(m)}return!1}(i,t);case 9:return el(i.arrayValue.values||[],t.arrayValue.values||[],Qr);case 10:case 11:return function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(e0(f)!==e0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Qr(f[g],m[g])))return!1;return!0}(i,t);default:return Ot(52216,{left:i})}}function Oo(i,t){return(i.values||[]).find(r=>Qr(r,t))!==void 0}function nl(i,t){if(i===t)return 0;const r=ma(i),s=ma(t);if(r!==s)return Gt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Gt(i.booleanValue,t.booleanValue);case 2:return function(u,f){const m=Ve(u.integerValue||u.doubleValue),g=Ve(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,t);case 3:return r0(i.timestampValue,t.timestampValue);case 4:return r0(Vo(i),Vo(t));case 5:return Ld(i.stringValue,t.stringValue);case 6:return function(u,f){const m=da(u),g=da(f);return m.compareTo(g)}(i.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Gt(m[y],g[y]);if(E!==0)return E}return Gt(m.length,g.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Gt(Ve(u.latitude),Ve(f.latitude));return m!==0?m:Gt(Ve(u.longitude),Ve(f.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return i0(i.arrayValue,t.arrayValue);case 10:return function(u,f){var m,g,y,E;const A=u.fields||{},b=f.fields||{},x=(m=A[Vc])===null||m===void 0?void 0:m.arrayValue,L=(g=b[Vc])===null||g===void 0?void 0:g.arrayValue,W=Gt(((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return W!==0?W:i0(x,L)}(i.mapValue,t.mapValue);case 11:return function(u,f){if(u===uc.mapValue&&f===uc.mapValue)return 0;if(u===uc.mapValue)return 1;if(f===uc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const b=Ld(g[A],E[A]);if(b!==0)return b;const x=nl(m[g[A]],y[E[A]]);if(x!==0)return x}return Gt(g.length,E.length)}(i.mapValue,t.mapValue);default:throw Ot(23264,{Pe:r})}}function r0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Gt(i,t);const r=fa(i),s=fa(t),l=Gt(r.seconds,s.seconds);return l!==0?l:Gt(r.nanos,s.nanos)}function i0(i,t){const r=i.values||[],s=t.values||[];for(let l=0;l<r.length&&l<s.length;++l){const u=nl(r[l],s[l]);if(u)return u}return Gt(r.length,s.length)}function rl(i){return Ud(i)}function Ud(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=fa(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return da(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return xt.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",l=!0;for(const u of r.values||[])l?l=!1:s+=",",s+=Ud(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${Ud(r.fields[f])}`;return l+"}"}(i.mapValue):Ot(61005,{value:i})}function yc(i){switch(ma(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qc(i);return t?16+yc(t):16;case 5:return 2*i.stringValue.length;case 6:return da(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,u)=>l+yc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let l=0;return ya(s.fields,(u,f)=>{l+=u.length+yc(f)}),l}(i.mapValue);default:throw Ot(13486,{value:i})}}function Pd(i){return!!i&&"integerValue"in i}function pm(i){return!!i&&"arrayValue"in i}function a0(i){return!!i&&"nullValue"in i}function s0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vc(i){return!!i&&"mapValue"in i}function Jb(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[j_])===null||r===void 0?void 0:r.stringValue)===k_}function Ao(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return ya(i.mapValue.fields,(r,s)=>t.mapValue.fields[r]=Ao(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Ao(i.arrayValue.values[r]);return t}return Object.assign({},i)}function Wb(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Zb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.value=t}static empty(){return new In({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!vc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ao(r)}setAll(t){let r=un.emptyPath(),s={},l=[];t.forEach((f,m)=>{if(!r.isImmediateParentOf(m)){const g=this.getFieldsMap(r);this.applyChanges(g,s,l),s={},l=[],r=m.popLast()}f?s[m.lastSegment()]=Ao(f):l.push(m.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,s,l)}delete(t){const r=this.field(t.popLast());vc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Qr(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=r.mapValue.fields[t.get(s)];vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,s){ya(r,(l,u)=>t[l]=u);for(const l of s)delete t[l]}clone(){return new In(Ao(this.value))}}function B_(i){const t=[];return ya(i.fields,(r,s)=>{const l=new un([r]);if(vc(s)){const u=B_(s.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)}),new Gn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,r,s,l,u,f,m){this.key=t,this.documentType=r,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new vn(t,0,zt.min(),zt.min(),zt.min(),In.empty(),0)}static newFoundDocument(t,r,s,l){return new vn(t,1,r,zt.min(),s,l,0)}static newNoDocument(t,r){return new vn(t,2,r,zt.min(),zt.min(),In.empty(),0)}static newUnknownDocument(t,r){return new vn(t,3,r,zt.min(),zt.min(),In.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,r){this.position=t,this.inclusive=r}}function l0(i,t,r){let s=0;for(let l=0;l<i.position.length;l++){const u=t[l],f=i.position[l];if(u.field.isKeyField()?s=xt.comparator(xt.fromName(f.referenceValue),r.key):s=nl(f,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function o0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Qr(i.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,r="asc"){this.field=t,this.dir=r}}function tR(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H_=class{};class Qe extends H_{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,s):new nR(t,r,s):r==="array-contains"?new aR(t,s):r==="in"?new sR(t,s):r==="not-in"?new lR(t,s):r==="array-contains-any"?new oR(t,s):new Qe(t,r,s)}static createKeyFieldInFilter(t,r,s){return r==="in"?new rR(t,s):new iR(t,s)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(nl(r,this.value)):r!==null&&ma(this.value)===ma(r)&&this.matchesComparison(nl(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends H_{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new Yr(t,r)}matches(t){return q_(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function q_(i){return i.op==="and"}function F_(i){return eR(i)&&q_(i)}function eR(i){for(const t of i.filters)if(t instanceof Yr)return!1;return!0}function zd(i){if(i instanceof Qe)return i.field.canonicalString()+i.op.toString()+rl(i.value);if(F_(i))return i.filters.map(t=>zd(t)).join(",");{const t=i.filters.map(r=>zd(r)).join(",");return`${i.op}(${t})`}}function G_(i,t){return i instanceof Qe?function(s,l){return l instanceof Qe&&s.op===l.op&&s.field.isEqual(l.field)&&Qr(s.value,l.value)}(i,t):i instanceof Yr?function(s,l){return l instanceof Yr&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((u,f,m)=>u&&G_(f,l.filters[m]),!0):!1}(i,t):void Ot(19439)}function Q_(i){return i instanceof Qe?function(r){return`${r.field.canonicalString()} ${r.op} ${rl(r.value)}`}(i):i instanceof Yr?function(r){return r.op.toString()+" {"+r.getFilters().map(Q_).join(" ,")+"}"}(i):"Filter"}class nR extends Qe{constructor(t,r,s){super(t,r,s),this.key=xt.fromName(s.referenceValue)}matches(t){const r=xt.comparator(t.key,this.key);return this.matchesComparison(r)}}class rR extends Qe{constructor(t,r){super(t,"in",r),this.keys=Y_("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class iR extends Qe{constructor(t,r){super(t,"not-in",r),this.keys=Y_("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function Y_(i,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>xt.fromName(s.referenceValue))}class aR extends Qe{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return pm(r)&&Oo(r.arrayValue,this.value)}}class sR extends Qe{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Oo(this.value.arrayValue,r)}}class lR extends Qe{constructor(t,r){super(t,"not-in",r)}matches(t){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Oo(this.value.arrayValue,r)}}class oR extends Qe{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!pm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Oo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,r=null,s=[],l=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function u0(i,t=null,r=[],s=[],l=null,u=null,f=null){return new uR(i,t,r,s,l,u,f)}function ym(i){const t=jt(i);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(s=>zd(s)).join(","),r+="|ob:",r+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Gc(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>rl(s)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>rl(s)).join(",")),t.Ie=r}return t.Ie}function vm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!tR(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!G_(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!o0(i.startAt,t.startAt)&&o0(i.endAt,t.endAt)}function jd(i){return xt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,r=null,s=[],l=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function cR(i,t,r,s,l,u,f,m){return new Yc(i,t,r,s,l,u,f,m)}function K_(i){return new Yc(i)}function c0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function hR(i){return i.collectionGroup!==null}function bo(i){const t=jt(i);if(t.Ee===null){t.Ee=[];const r=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),r.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ke(un.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Oc(u,s))}),r.has(un.keyField().canonicalString())||t.Ee.push(new Oc(un.keyField(),s))}return t.Ee}function qr(i){const t=jt(i);return t.de||(t.de=fR(t,bo(i))),t.de}function fR(i,t){if(i.limitType==="F")return u0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new Oc(l.field,u)});const r=i.endAt?new Nc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Nc(i.startAt.position,i.startAt.inclusive):null;return u0(i.path,i.collectionGroup,t,i.filters,i.limit,r,s)}}function kd(i,t,r){return new Yc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function Kc(i,t){return vm(qr(i),qr(t))&&i.limitType===t.limitType}function X_(i){return`${ym(qr(i))}|lt:${i.limitType}`}function Ys(i){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>Q_(l)).join(", ")}]`),Gc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>rl(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>rl(l)).join(",")),`Target(${s})`}(qr(i))}; limitType=${i.limitType})`}function Xc(i,t){return t.isFoundDocument()&&function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):xt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,t)&&function(s,l){for(const u of bo(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(i,t)&&function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0}(i,t)&&function(s,l){return!(s.startAt&&!function(f,m,g){const y=l0(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,bo(s),l)||s.endAt&&!function(f,m,g){const y=l0(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,bo(s),l))}(i,t)}function dR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function $_(i){return(t,r)=>{let s=!1;for(const l of bo(i)){const u=mR(l,t,r);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function mR(i,t,r){const s=i.field.isKeyField()?xt.comparator(t.key,r.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?nl(g,y):Ot(42886)}(i.field,t,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ot(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,r){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,r]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ya(this.inner,(r,s)=>{for(const[l,u]of s)t(l,u)})}isEmpty(){return N_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new Ce(xt.comparator);function Ai(){return gR}const Z_=new Ce(xt.comparator);function To(...i){let t=Z_;for(const r of i)t=t.insert(r.key,r);return t}function J_(i){let t=Z_;return i.forEach((r,s)=>t=t.insert(r,s.overlayedDocument)),t}function Za(){return Ro()}function W_(){return Ro()}function Ro(){return new rs(i=>i.toString(),(i,t)=>i.isEqual(t))}const pR=new Ce(xt.comparator),yR=new Ke(xt.comparator);function Wt(...i){let t=yR;for(const r of i)t=t.add(r);return t}const vR=new Ke(Gt);function _R(){return vR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(t)?"-0":t}}function tE(i){return{integerValue:""+i}}function ER(i,t){return Qb(t)?tE(t):_m(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this._=void 0}}function TR(i,t,r){return i instanceof Lc?function(l,u){const f={fields:{[U_]:{stringValue:L_},[z_]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&gm(u)&&(u=Qc(u)),u&&(f.fields[P_]=u),{mapValue:f}}(r,t):i instanceof Lo?nE(i,t):i instanceof Uo?rE(i,t):function(l,u){const f=eE(l,u),m=h0(f)+h0(l.Re);return Pd(f)&&Pd(l.Re)?tE(m):_m(l.serializer,m)}(i,t)}function SR(i,t,r){return i instanceof Lo?nE(i,t):i instanceof Uo?rE(i,t):r}function eE(i,t){return i instanceof Uc?function(s){return Pd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Lc extends $c{}class Lo extends $c{constructor(t){super(),this.elements=t}}function nE(i,t){const r=iE(t);for(const s of i.elements)r.some(l=>Qr(l,s))||r.push(s);return{arrayValue:{values:r}}}class Uo extends $c{constructor(t){super(),this.elements=t}}function rE(i,t){let r=iE(t);for(const s of i.elements)r=r.filter(l=>!Qr(l,s));return{arrayValue:{values:r}}}class Uc extends $c{constructor(t,r){super(),this.serializer=t,this.Re=r}}function h0(i){return Ve(i.integerValue||i.doubleValue)}function iE(i){return pm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function AR(i,t){return i.field.isEqual(t.field)&&function(s,l){return s instanceof Lo&&l instanceof Lo||s instanceof Uo&&l instanceof Uo?el(s.elements,l.elements,Qr):s instanceof Uc&&l instanceof Uc?Qr(s.Re,l.Re):s instanceof Lc&&l instanceof Lc}(i.transform,t.transform)}class bR{constructor(t,r){this.version=t,this.transformResults=r}}class Fr{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Fr}static exists(t){return new Fr(void 0,t)}static updateTime(t){return new Fr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _c(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Zc{}function aE(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new lE(i.key,Fr.none()):new ko(i.key,i.data,Fr.none());{const r=i.data,s=In.empty();let l=new Ke(un.comparator);for(let u of t.fields)if(!l.has(u)){let f=r.field(u);f===null&&u.length>1&&(u=u.popLast(),f=r.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new va(i.key,s,new Gn(l.toArray()),Fr.none())}}function RR(i,t,r){i instanceof ko?function(l,u,f){const m=l.value.clone(),g=d0(l.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,t,r):i instanceof va?function(l,u,f){if(!_c(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=d0(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(sE(l)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,t,r):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,r)}function wo(i,t,r,s){return i instanceof ko?function(u,f,m,g){if(!_c(u.precondition,f))return m;const y=u.value.clone(),E=m0(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,t,r,s):i instanceof va?function(u,f,m,g){if(!_c(u.precondition,f))return m;const y=m0(u.fieldTransforms,g,f),E=f.data;return E.setAll(sE(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,t,r,s):function(u,f,m){return _c(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,t,r)}function wR(i,t){let r=null;for(const s of i.fieldTransforms){const l=t.data.field(s.field),u=eE(s.transform,l||null);u!=null&&(r===null&&(r=In.empty()),r.set(s.field,u))}return r||null}function f0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&el(s,l,(u,f)=>AR(u,f))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class ko extends Zc{constructor(t,r,s,l=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class va extends Zc{constructor(t,r,s,l,u=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function sE(i){const t=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);t.set(r,s)}}),t}function d0(i,t,r){const s=new Map;fe(i.length===r.length,32656,{Ve:r.length,me:i.length});for(let l=0;l<r.length;l++){const u=i[l],f=u.transform,m=t.data.field(u.field);s.set(u.field,SR(f,m,r[l]))}return s}function m0(i,t,r){const s=new Map;for(const l of i){const u=l.transform,f=r.data.field(l.field);s.set(l.field,TR(u,f,t))}return s}class lE extends Zc{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CR extends Zc{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t,r,s,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&RR(u,t,s[l])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=wo(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=wo(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=W_();return this.mutations.forEach(l=>{const u=t.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=r.has(l.key)?null:m;const g=aE(f,m);g!==null&&s.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(zt.min())}),s}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Wt())}isEqual(t){return this.batchId===t.batchId&&el(this.mutations,t.mutations,(r,s)=>f0(r,s))&&el(this.baseMutations,t.baseMutations,(r,s)=>f0(r,s))}}class Em{constructor(t,r,s,l){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(t,r,s){fe(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return pR}();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new Em(t,r,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,ie;function IR(i){switch(i){case ot.OK:return Ot(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return Ot(15467,{code:i})}}function oE(i){if(i===void 0)return Si("GRPC error has no .code"),ot.UNKNOWN;switch(i){case ke.OK:return ot.OK;case ke.CANCELLED:return ot.CANCELLED;case ke.UNKNOWN:return ot.UNKNOWN;case ke.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case ke.INTERNAL:return ot.INTERNAL;case ke.UNAVAILABLE:return ot.UNAVAILABLE;case ke.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case ke.NOT_FOUND:return ot.NOT_FOUND;case ke.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case ke.ABORTED:return ot.ABORTED;case ke.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case ke.DATA_LOSS:return ot.DATA_LOSS;default:return Ot(39323,{code:i})}}(ie=ke||(ke={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new sa([4294967295,4294967295],0);function g0(i){const t=M_().encode(i),r=new S_;return r.update(t),new Uint8Array(r.digest())}function p0(i){const t=new DataView(i.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new sa([r,s],0),new sa([l,u],0)]}class Tm{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new So(`Invalid padding: ${r}`);if(s<0)throw new So(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${s}`);if(t.length===0&&r!==0)throw new So(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=sa.fromNumber(this.pe)}we(t,r,s){let l=t.add(r.multiply(sa.fromNumber(s)));return l.compare(VR)===1&&(l=new sa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=g0(t),[s,l]=p0(r);for(let u=0;u<this.hashCount;u++){const f=this.we(s,l,u);if(!this.be(f))return!1}return!0}static create(t,r,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Tm(u,l,r);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const r=g0(t),[s,l]=p0(r);for(let u=0;u<this.hashCount;u++){const f=this.we(s,l,u);this.Se(f)}}Se(t){const r=Math.floor(t/8),s=t%8;this.bitmap[r]|=1<<s}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,r,s,l,u){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const l=new Map;return l.set(t,Bo.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new Jc(zt.min(),l,new Ce(Gt),Ai(),Wt())}}class Bo{constructor(t,r,s,l,u){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new Bo(s,r,Wt(),Wt(),Wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,r,s,l){this.De=t,this.removedTargetIds=r,this.key=s,this.ve=l}}class uE{constructor(t,r){this.targetId=t,this.Ce=r}}class cE{constructor(t,r,s=cn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=l}}class y0{constructor(){this.Fe=0,this.Me=v0(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Wt(),r=Wt(),s=Wt();return this.Me.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:Ot(38017,{changeType:u})}}),new Bo(this.xe,this.Oe,t,r,s)}Qe(){this.Ne=!1,this.Me=v0()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,fe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class NR{constructor(t){this.ze=t,this.je=new Map,this.He=Ai(),this.Je=cc(),this.Ye=cc(),this.Ze=new Ce(Gt)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const s=this.rt(r);switch(t.state){case 0:this.it(r)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(r);break;case 3:this.it(r)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),s.ke(t.resumeToken));break;default:Ot(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((s,l)=>{this.it(l)&&r(l)})}ot(t){const r=t.targetId,s=t.Ce.count,l=this._t(r);if(l){const u=l.target;if(jd(u))if(s===0){const f=new xt(u.path);this.tt(r,f,vn.newNoDocument(f,zt.min()))}else fe(s===1,20013,{expectedCount:s});else{const f=this.ut(r);if(f!==s){const m=this.ct(t),g=m?this.lt(m,t,f):1;if(g!==0){this.st(r);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,y)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=r;let f,m;try{f=da(s).toUint8Array()}catch(g){if(g instanceof O_)return tl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Tm(f,l,u)}catch(g){return tl(g instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(t,r,s){return r.Ce.count===s-this.Tt(t,r.targetId)?0:2}Tt(t,r){const s=this.ze.getRemoteKeysForTarget(r);let l=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(r,u,null),l++)}),l}It(t){const r=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&jd(m.target)){const g=new xt(m.target.path);this.Et(g).has(f)||this.dt(f,g)||this.tt(f,g,vn.newNoDocument(g,t))}u.Le&&(r.set(f,u.qe()),u.Qe())}});let s=Wt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const l=new Jc(t,r,this.Ze,this.He,s);return this.He=Ai(),this.Je=cc(),this.Ye=cc(),this.Ze=new Ce(Gt),l}et(t,r){if(!this.it(t))return;const s=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,s),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,r)?l.$e(r,1):l.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),s&&(this.He=this.He.insert(r,s))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new y0,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Ke(Gt),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Ke(Gt),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||pt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new y0),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function cc(){return new Ce(xt.comparator)}function v0(){return new Ce(xt.comparator)}const OR={asc:"ASCENDING",desc:"DESCENDING"},LR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UR={and:"AND",or:"OR"};class PR{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Bd(i,t){return i.useProto3Json||Gc(t)?t:{value:t}}function Pc(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function zR(i,t){return Pc(i,t.toTimestamp())}function Gr(i){return fe(!!i,49232),zt.fromTimestamp(function(r){const s=fa(r);return new Ye(s.seconds,s.nanos)}(i))}function Sm(i,t){return Hd(i,t).canonicalString()}function Hd(i,t){const r=function(l){return new Re(["projects",l.projectId,"databases",l.database])}(i).child("documents");return t===void 0?r:r.child(t)}function fE(i){const t=Re.fromString(i);return fe(yE(t),10190,{key:t.toString()}),t}function qd(i,t){return Sm(i.databaseId,t.path)}function Td(i,t){const r=fE(t);if(r.get(1)!==i.databaseId.projectId)throw new wt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new wt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new xt(mE(r))}function dE(i,t){return Sm(i.databaseId,t)}function jR(i){const t=fE(i);return t.length===4?Re.emptyPath():mE(t)}function Fd(i){return new Re(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function mE(i){return fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function _0(i,t,r){return{name:qd(i,t),fields:r.value.mapValue.fields}}function kR(i,t){let r;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ot(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(fe(E===void 0||typeof E=="string",58123),cn.fromBase64String(E||"")):(fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),cn.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?ot.UNKNOWN:oE(y.code);return new wt(E,y.message||"")}(f);r=new cE(s,l,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Td(i,s.document.name),u=Gr(s.document.updateTime),f=s.document.createTime?Gr(s.document.createTime):zt.min(),m=new In({mapValue:{fields:s.document.fields}}),g=vn.newFoundDocument(l,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];r=new Ec(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Td(i,s.document),u=s.readTime?Gr(s.readTime):zt.min(),f=vn.newNoDocument(l,u),m=s.removedTargetIds||[];r=new Ec([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Td(i,s.document),u=s.removedTargetIds||[];r=new Ec([],u,l,null)}else{if(!("filter"in t))return Ot(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new MR(l,u),m=s.targetId;r=new uE(m,f)}}return r}function BR(i,t){let r;if(t instanceof ko)r={update:_0(i,t.key,t.value)};else if(t instanceof lE)r={delete:qd(i,t.key)};else if(t instanceof va)r={update:_0(i,t.key,t.data),updateMask:$R(t.fieldMask)};else{if(!(t instanceof CR))return Ot(16599,{ft:t.type});r={verify:qd(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Lc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Lo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Uo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uc)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ot(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(r.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:zR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ot(27497)}(i,t.precondition)),r}function HR(i,t){return i&&i.length>0?(fe(t!==void 0,14353),i.map(r=>function(l,u){let f=l.updateTime?Gr(l.updateTime):Gr(u);return f.isEqual(zt.min())&&(f=Gr(u)),new bR(f,l.transformResults||[])}(r,t))):[]}function qR(i,t){return{documents:[dE(i,t.path)]}}function FR(i,t){const r={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=dE(i,l);const u=function(y){if(y.length!==0)return pE(Yr.create(y,"and"))}(t.filters);u&&(r.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(b){return{field:Ks(b.field),direction:YR(b.dir)}}(E))}(t.orderBy);f&&(r.structuredQuery.orderBy=f);const m=Bd(i,t.limit);return m!==null&&(r.structuredQuery.limit=m),t.startAt&&(r.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:r,parent:l}}function GR(i){let t=jR(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){fe(s===1,65062);const E=r.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];r.where&&(u=function(A){const b=gE(A);return b instanceof Yr&&F_(b)?b.getFilters():[b]}(r.where));let f=[];r.orderBy&&(f=function(A){return A.map(b=>function(L){return new Oc(Xs(L.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(b))}(r.orderBy));let m=null;r.limit&&(m=function(A){let b;return b=typeof A=="object"?A.value:A,Gc(b)?null:b}(r.limit));let g=null;r.startAt&&(g=function(A){const b=!!A.before,x=A.values||[];return new Nc(x,b)}(r.startAt));let y=null;return r.endAt&&(y=function(A){const b=!A.before,x=A.values||[];return new Nc(x,b)}(r.endAt)),cR(t,l,f,u,m,"F",g,y)}function QR(i,t){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot(28987,{purpose:l})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function gE(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Xs(r.unaryFilter.field);return Qe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Xs(r.unaryFilter.field);return Qe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xs(r.unaryFilter.field);return Qe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xs(r.unaryFilter.field);return Qe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ot(61313);default:return Ot(60726)}}(i):i.fieldFilter!==void 0?function(r){return Qe.create(Xs(r.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ot(58110);default:return Ot(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return Yr.create(r.compositeFilter.filters.map(s=>gE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ot(1026)}}(r.compositeFilter.op))}(i):Ot(30097,{filter:i})}function YR(i){return OR[i]}function KR(i){return LR[i]}function XR(i){return UR[i]}function Ks(i){return{fieldPath:i.canonicalString()}}function Xs(i){return un.fromServerFormat(i.fieldPath)}function pE(i){return i instanceof Qe?function(r){if(r.op==="=="){if(s0(r.value))return{unaryFilter:{field:Ks(r.field),op:"IS_NAN"}};if(a0(r.value))return{unaryFilter:{field:Ks(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(s0(r.value))return{unaryFilter:{field:Ks(r.field),op:"IS_NOT_NAN"}};if(a0(r.value))return{unaryFilter:{field:Ks(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(r.field),op:KR(r.op),value:r.value}}}(i):i instanceof Yr?function(r){const s=r.getFilters().map(l=>pE(l));return s.length===1?s[0]:{compositeFilter:{op:XR(r.op),filters:s}}}(i):Ot(54877,{filter:i})}function $R(i){const t=[];return i.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function yE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,r,s,l,u=zt.min(),f=zt.min(),m=cn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new ra(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t){this.wt=t}}function JR(i){const t=GR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?kd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.yn=new tw}addToCollectionParentIndex(t,r){return this.yn.add(r),st.resolve()}getCollectionParents(t,r){return st.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return st.resolve()}deleteFieldIndex(t,r){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,r){return st.resolve()}getDocumentsMatchingTarget(t,r){return st.resolve(null)}getIndexType(t,r){return st.resolve(0)}getFieldIndexes(t,r){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,r){return st.resolve(ha.min())}getMinOffsetFromCollectionGroup(t,r){return st.resolve(ha.min())}updateCollectionGroup(t,r,s){return st.resolve()}updateIndexEntries(t,r){return st.resolve()}}class tw{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),l=this.index[r]||new Ke(Re.comparator),u=!l.has(s);return this.index[r]=l.add(s),u}has(t){const r=t.lastSegment(),s=t.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ke(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vE=41943040;class Mn{static withCacheSize(t){return new Mn(t,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(vE,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new il(0)}static ir(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="LruGarbageCollector",ew=1048576;function S0([i,t],[r,s]){const l=Gt(i,r);return l===0?Gt(t,s):l}class nw{constructor(t){this.cr=t,this.buffer=new Ke(S0),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();S0(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class rw{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){pt(T0,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){hl(r)?pt(T0,"Ignoring IndexedDB error during garbage collection: ",r):await cl(r)}await this.Ir(3e5)})}}class iw{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(s=>Math.floor(r/100*s))}nthSequenceNumber(t,r){if(r===0)return st.resolve(Fc.le);const s=new nw(r);return this.Er.forEachTarget(t,l=>s.Pr(l.sequenceNumber)).next(()=>this.Er.Ar(t,l=>s.Pr(l))).next(()=>s.maxValue)}removeTargets(t,r,s){return this.Er.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(E0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E0):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let s,l,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,f=Date.now(),this.nthSequenceNumber(t,l))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,r))).next(A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(y=Date.now(),Qs()<=ae.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A})))}}function aw(i,t){return new iw(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.changes=new rs(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,vn.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?st.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,r,s,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,r))).next(l=>(s!==null&&wo(s.mutation,l,Gn.empty(),Ye.now()),l))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.getLocalViewOfDocuments(t,s,Wt()).next(()=>s))}getLocalViewOfDocuments(t,r,s=Wt()){const l=Za();return this.populateOverlays(t,l,r).next(()=>this.computeViews(t,r,l,s).next(u=>{let f=To();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,r){const s=Za();return this.populateOverlays(t,s,r).next(()=>this.computeViews(t,r,s,Wt()))}populateOverlays(t,r,s){const l=[];return s.forEach(u=>{r.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((f,m)=>{r.set(f,m)})})}computeViews(t,r,s,l){let u=Ai();const f=Ro(),m=function(){return Ro()}();return r.forEach((g,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof va)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),wo(E.mutation,y,E.mutation.getFieldMask(),Ye.now())):f.set(y.key,Gn.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),r.forEach((y,E)=>{var A;return m.set(y,new lw(E,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(t,r){const s=Ro();let l=new Ce((f,m)=>f-m),u=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=r.get(g);if(y===null)return;let E=s.get(g)||Gn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const A=(l.get(m.batchId)||Wt()).add(g);l=l.insert(m.batchId,A)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,A=W_();E.forEach(b=>{if(!u.has(b)){const x=aE(r.get(b),s.get(b));x!==null&&A.set(b,x),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,A))}return st.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,r,s,l){return function(f){return xt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):hR(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,l):this.getDocumentsMatchingCollectionQuery(t,r,s,l)}getNextDocuments(t,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,l-u.size):st.resolve(Za());let m=Io,g=u;return f.next(y=>st.forEach(y,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?st.resolve():this.remoteDocumentCache.getEntry(t,E).next(b=>{g=g.insert(E,b)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Wt())).next(E=>({batchId:m,changes:J_(E)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new xt(r)).next(s=>{let l=To();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,r,s,l){const u=r.collectionGroup;let f=To();return this.indexManager.getCollectionParents(t,u).next(m=>st.forEach(m,g=>{const y=function(A,b){return new Yc(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(r,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next(E=>{E.forEach((A,b)=>{f=f.insert(A,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,r,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,u,l))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,vn.newInvalidDocument(E)))});let m=To();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&wo(E.mutation,y,Gn.empty(),Ye.now()),Xc(r,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return st.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(l){return{id:l.id,version:l.version,createTime:Gr(l.createTime)}}(r)),st.resolve()}getNamedQuery(t,r){return st.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(l){return{name:l.name,query:JR(l.bundledQuery),readTime:Gr(l.readTime)}}(r)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.overlays=new Ce(xt.comparator),this.Or=new Map}getOverlay(t,r){return st.resolve(this.overlays.get(r))}getOverlays(t,r){const s=Za();return st.forEach(r,l=>this.getOverlay(t,l).next(u=>{u!==null&&s.set(l,u)})).next(()=>s)}saveOverlays(t,r,s){return s.forEach((l,u)=>{this.St(t,r,u)}),st.resolve()}removeOverlaysForBatchId(t,r,s){const l=this.Or.get(s);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),st.resolve()}getOverlaysForCollection(t,r,s){const l=Za(),u=r.length+1,f=new xt(r.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return st.resolve(l)}getOverlaysForCollectionGroup(t,r,s,l){let u=new Ce((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Za(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Za(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=l)););return st.resolve(m)}St(t,r,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Or.get(l.largestBatchId).delete(s.key);this.Or.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new xR(r,s));let u=this.Or.get(r);u===void 0&&(u=Wt(),this.Or.set(r,u)),this.Or.set(r,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.Nr=new Ke(tn.Br),this.Lr=new Ke(tn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const s=new tn(t,r);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,r){t.forEach(s=>this.addReference(s,r))}removeReference(t,r){this.Qr(new tn(t,r))}$r(t,r){t.forEach(s=>this.removeReference(s,r))}Ur(t){const r=new xt(new Re([])),s=new tn(r,t),l=new tn(r,t+1),u=[];return this.Lr.forEachInRange([s,l],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new xt(new Re([])),s=new tn(r,t),l=new tn(r,t+1);let u=Wt();return this.Lr.forEachInRange([s,l],f=>{u=u.add(f.key)}),u}containsKey(t){const r=new tn(t,0),s=this.Nr.firstAfterOrEqual(r);return s!==null&&t.isEqual(s.key)}}class tn{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return xt.comparator(t.key,r.key)||Gt(t.Gr,r.Gr)}static kr(t,r){return Gt(t.Gr,r.Gr)||xt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Ke(tn.Br)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,s,l){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new DR(u,r,s,l);this.mutationQueue.push(f);for(const m of l)this.zr=this.zr.add(new tn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return st.resolve(f)}lookupMutationBatch(t,r){return st.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const s=r+1,l=this.Hr(s),u=l<0?0:l;return st.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?mm:this.Jn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new tn(r,0),l=new tn(r,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,l],f=>{const m=this.jr(f.Gr);u.push(m)}),st.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new Ke(Gt);return r.forEach(l=>{const u=new tn(l,0),f=new tn(l,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),st.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,l=s.length+1;let u=s;xt.isDocumentKey(u)||(u=u.child(""));const f=new tn(new xt(u),0);let m=new Ke(Gt);return this.zr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Gr)),!0)},f),st.resolve(this.Jr(m))}Jr(t){const r=[];return t.forEach(s=>{const l=this.jr(s);l!==null&&r.push(l)}),r}removeMutationBatch(t,r){fe(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return st.forEach(r.mutations,l=>{const u=new tn(l.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,r){const s=new tn(r,0),l=this.zr.firstAfterOrEqual(s);return st.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t){this.Zr=t,this.docs=function(){return new Ce(xt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,l=this.docs.get(s),u=l?l.size:0,f=this.Zr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return st.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(r))}getEntries(t,r){let s=Ai();return r.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():vn.newInvalidDocument(l))}),st.resolve(s)}getDocumentsMatchingQuery(t,r,s,l){let u=Ai();const f=r.path,m=new xt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Hb(Bb(E),s)<=0||(l.has(E.key)||Xc(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(t,r,s,l){Ot(9500)}Xr(t,r){return st.forEach(this.docs,s=>r(s))}newChangeBuffer(t){return new mw(this)}getSize(t){return st.resolve(this.size)}}class mw extends sw{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.vr.addEntry(t,l)):this.vr.removeEntry(s)}),st.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t){this.persistence=t,this.ei=new rs(r=>ym(r),vm),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Am,this.targetCount=0,this.ri=il.rr()}forEachTarget(t,r){return this.ei.forEach((s,l)=>r(l)),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.ti&&(this.ti=r),st.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new il(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,st.resolve()}updateTargetData(t,r){return this.ar(r),st.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,r,s){let l=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=r&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),st.waitFor(u).next(()=>l)}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,r){const s=this.ei.get(r)||null;return st.resolve(s)}addMatchingKeys(t,r,s){return this.ni.qr(r,s),st.resolve()}removeMatchingKeys(t,r,s){this.ni.$r(r,s);const l=this.persistence.referenceDelegate,u=[];return l&&r.forEach(f=>{u.push(l.markPotentiallyOrphaned(t,f))}),st.waitFor(u)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),st.resolve()}getMatchingKeysForTargetId(t,r){const s=this.ni.Wr(r);return st.resolve(s)}containsKey(t,r){return st.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,r){this.ii={},this.overlays={},this.si=new Fc(0),this.oi=!1,this.oi=!0,this._i=new hw,this.referenceDelegate=t(this),this.ai=new gw(this),this.indexManager=new WR,this.remoteDocumentCache=function(l){return new dw(l)}(s=>this.referenceDelegate.ui(s)),this.serializer=new ZR(r),this.ci=new uw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new cw,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.ii[t.toKey()];return s||(s=new fw(r,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,s){pt("MemoryPersistence","Starting transaction:",t);const l=new pw(this.si.next());return this.referenceDelegate.li(),s(l).next(u=>this.referenceDelegate.hi(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Pi(t,r){return st.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,r)))}}class pw extends Fb{constructor(t){super(),this.currentSequenceNumber=t}}class bm{constructor(t){this.persistence=t,this.Ti=new Am,this.Ii=null}static Ei(t){return new bm(t)}get di(){if(this.Ii)return this.Ii;throw Ot(60996)}addReference(t,r,s){return this.Ti.addReference(s,r),this.di.delete(s.toString()),st.resolve()}removeReference(t,r,s){return this.Ti.removeReference(s,r),this.di.add(s.toString()),st.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),st.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(l=>this.di.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next(l=>{l.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,s=>{const l=xt.fromPath(s);return this.Ai(t,l).next(u=>{u||r.removeEntry(l,zt.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(s=>{s?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return st.or([()=>st.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class zc{constructor(t,r){this.persistence=t,this.Ri=new rs(s=>Yb(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=aw(this,r)}static Ei(t,r){return new zc(t,r)}li(){}hi(t){return st.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>r.next(l=>s+l))}Vr(t){let r=0;return this.Ar(t,s=>{r++}).next(()=>r)}Ar(t,r){return st.forEach(this.Ri,(s,l)=>this.gr(t,s,l).next(u=>u?st.resolve():r(l)))}removeTargets(t,r,s){return this.persistence.getTargetCache().removeTargets(t,r,s)}removeOrphanedDocuments(t,r){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.Xr(t,f=>this.gr(t,f,r).next(m=>{m||(s++,u.removeEntry(f,zt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),st.resolve()}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,r,s){return this.Ri.set(s,t.currentSequenceNumber),st.resolve()}removeReference(t,r,s){return this.Ri.set(s,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),st.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=yc(t.data.value)),r}gr(t,r,s){return st.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.Ri.get(r);return st.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,r,s,l){this.targetId=t,this.fromCache=r,this.ls=s,this.hs=l}static Ps(t,r){let s=Wt(),l=Wt();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Rm(t,r.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return d2()?8:Gb(h2())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,s,l){const u={result:null};return this.Rs(t,r).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(t,r,l,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new yw;return this.fs(t,r,f).next(m=>{if(u.result=m,this.Is)return this.gs(t,r,f,m.size)})}).next(()=>u.result)}gs(t,r,s,l){return s.documentReadCount<this.Es?(Qs()<=ae.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Ys(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),st.resolve()):(Qs()<=ae.DEBUG&&pt("QueryEngine","Query:",Ys(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Qs()<=ae.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Ys(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qr(r))):st.resolve())}Rs(t,r){if(c0(r))return st.resolve(null);let s=qr(r);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=kd(r,null,"F"),s=qr(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Wt(...u);return this.As.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.ps(r,m);return this.ys(r,y,f,g.readTime)?this.Rs(t,kd(r,null,"F")):this.ws(t,y,r,g)}))})))}Vs(t,r,s,l){return c0(r)||l.isEqual(zt.min())?st.resolve(null):this.As.getDocuments(t,s).next(u=>{const f=this.ps(r,u);return this.ys(r,f,s,l)?st.resolve(null):(Qs()<=ae.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ys(r)),this.ws(t,f,r,kb(l,Io)).next(m=>m))})}ps(t,r){let s=new Ke($_(t));return r.forEach((l,u)=>{Xc(t,u)&&(s=s.add(u))}),s}ys(t,r,s,l){if(t.limit===null)return!1;if(s.size!==r.size)return!0;const u=t.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}fs(t,r,s){return Qs()<=ae.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Ys(r)),this.As.getDocumentsMatchingQuery(t,r,ha.min(),s)}ws(t,r,s,l){return this.As.getDocumentsMatchingQuery(t,s,l).next(u=>(r.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="LocalStore",_w=3e8;class Ew{constructor(t,r,s,l){this.persistence=t,this.bs=r,this.serializer=l,this.Ss=new Ce(Gt),this.Ds=new rs(u=>ym(u),vm),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ow(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function Tw(i,t,r,s){return new Ew(i,t,r,s)}async function EE(i,t){const r=jt(i);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(u=>(l=u,r.Fs(t),r.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Wt();for(const y of l){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return r.localDocuments.getDocuments(s,g).next(y=>({Ms:y,removedBatchIds:f,addedBatchIds:m}))})})}function Sw(i,t){const r=jt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),u=r.Cs.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const A=y.batch,b=A.keys();let x=st.resolve();return b.forEach(L=>{x=x.next(()=>E.getEntry(g,L)).next(W=>{const F=y.docVersions.get(L);fe(F!==null,48541),W.version.compareTo(F)<0&&(A.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(g,A))}(r,s,t,u).next(()=>u.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Wt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>r.localDocuments.getDocuments(s,l))})}function TE(i){const t=jt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function Aw(i,t){const r=jt(i),s=t.snapshotVersion;let l=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=r.Cs.newChangeBuffer({trackRemovals:!0});l=r.Ss;const m=[];t.targetChanges.forEach((E,A)=>{const b=l.get(A);if(!b)return;m.push(r.ai.removeMatchingKeys(u,E.removedDocuments,A).next(()=>r.ai.addMatchingKeys(u,E.addedDocuments,A)));let x=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?x=x.withResumeToken(cn.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),l=l.insert(A,x),function(W,F,J){return W.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=_w?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(b,x,E)&&m.push(r.ai.updateTargetData(u,x))});let g=Ai(),y=Wt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(bw(u,f,t.documentUpdates).next(E=>{g=E.xs,y=E.Os})),!s.isEqual(zt.min())){const E=r.ai.getLastRemoteSnapshotVersion(u).next(A=>r.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return st.waitFor(m).next(()=>f.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(r.Ss=l,u))}function bw(i,t,r){let s=Wt(),l=Wt();return r.forEach(u=>s=s.add(u)),t.getEntries(i,s).next(u=>{let f=Ai();return r.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(zt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):pt(wm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{xs:f,Os:l}})}function Rw(i,t){const r=jt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=mm),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function ww(i,t){const r=jt(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.ai.getTargetData(s,t).next(u=>u?(l=u,st.resolve(l)):r.ai.allocateTargetId(s).next(f=>(l=new ra(t,f,"TargetPurposeListen",s.currentSequenceNumber),r.ai.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.Ss.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(s.targetId,s),r.Ds.set(t,s.targetId)),s})}async function Gd(i,t,r){const s=jt(i),l=s.Ss.get(t),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!hl(f))throw f;pt(wm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(l.target)}function A0(i,t,r){const s=jt(i);let l=zt.min(),u=Wt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const A=jt(g),b=A.Ds.get(E);return b!==void 0?st.resolve(A.Ss.get(b)):A.ai.getTargetData(y,E)}(s,f,qr(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.bs.getDocumentsMatchingQuery(f,t,r?l:zt.min(),r?u:Wt())).next(m=>(Cw(s,dR(t),m),{documents:m,Ns:u})))}function Cw(i,t,r){let s=i.vs.get(t)||zt.min();r.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(t,s)}class b0{constructor(){this.activeTargetIds=_R()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Dw{constructor(){this.So=new b0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,s){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new b0,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="ConnectivityMonitor";class w0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pt(R0,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){pt(R0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function Qd(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="RestConnection",Mw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Iw{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${s}/databases/${l}`,this.qo=this.databaseId.database===Ic?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Qo(t,r,s,l,u){const f=Qd(),m=this.$o(t,r.toUriEncodedString());pt(Sd,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(g,l,u),this.Ko(t,m,g,s).then(y=>(pt(Sd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw tl(Sd,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Wo(t,r,s,l,u,f){return this.Qo(t,r,s,l,u)}Uo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,u)=>t[u]=l),s&&s.headers.forEach((l,u)=>t[u]=l)}$o(t,r){const s=Mw[t];return`${this.Lo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class Nw extends Iw{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,s,l){const u=Qd();return new Promise((f,m)=>{const g=new A_;g.setWithCredentials(!0),g.listenOnce(b_.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case pc.NO_ERROR:const E=g.getResponseJson();pt(pn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case pc.TIMEOUT:pt(pn,`RPC '${t}' ${u} timed out`),m(new wt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const A=g.getStatus();if(pt(pn,`RPC '${t}' ${u} failed with status:`,A,"response text:",g.getResponseText()),A>0){let b=g.getResponseJson();Array.isArray(b)&&(b=b[0]);const x=b==null?void 0:b.error;if(x&&x.status&&x.message){const L=function(F){const J=F.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(J)>=0?J:ot.UNKNOWN}(x.status);m(new wt(L,x.message))}else m(new wt(ot.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new wt(ot.UNAVAILABLE,"Connection failed."));break;default:Ot(9055,{s_:t,streamId:u,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{pt(pn,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(l);pt(pn,`RPC '${t}' ${u} sending request:`,l),g.send(r,"POST",y,s,15)})}a_(t,r,s){const l=Qd(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=C_(),m=w_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Uo(g.initMessageHeaders,r,s),g.encodeInitMessageHeaders=!0;const E=u.join("");pt(pn,`Creating RPC '${t}' stream ${l}: ${E}`,g);const A=f.createWebChannel(E,g);let b=!1,x=!1;const L=new Vw({Go:F=>{x?pt(pn,`Not sending because RPC '${t}' stream ${l} is closed:`,F):(b||(pt(pn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),b=!0),pt(pn,`RPC '${t}' stream ${l} sending:`,F),A.send(F))},zo:()=>A.close()}),W=(F,J,rt)=>{F.listen(J,ut=>{try{rt(ut)}catch(gt){setTimeout(()=>{throw gt},0)}})};return W(A,Eo.EventType.OPEN,()=>{x||(pt(pn,`RPC '${t}' stream ${l} transport opened.`),L.t_())}),W(A,Eo.EventType.CLOSE,()=>{x||(x=!0,pt(pn,`RPC '${t}' stream ${l} transport closed`),L.r_())}),W(A,Eo.EventType.ERROR,F=>{x||(x=!0,tl(pn,`RPC '${t}' stream ${l} transport errored. Name:`,F.name,"Message:",F.message),L.r_(new wt(ot.UNAVAILABLE,"The operation could not be completed")))}),W(A,Eo.EventType.MESSAGE,F=>{var J;if(!x){const rt=F.data[0];fe(!!rt,16349);const ut=rt,gt=(ut==null?void 0:ut.error)||((J=ut[0])===null||J===void 0?void 0:J.error);if(gt){pt(pn,`RPC '${t}' stream ${l} received error:`,gt);const mt=gt.status;let H=function(w){const N=ke[w];if(N!==void 0)return oE(N)}(mt),V=gt.message;H===void 0&&(H=ot.INTERNAL,V="Unknown error status: "+mt+" with message "+gt.message),x=!0,L.r_(new wt(H,V)),A.close()}else pt(pn,`RPC '${t}' stream ${l} received:`,rt),L.i_(rt)}}),W(m,R_.STAT_EVENT,F=>{F.stat===Od.PROXY?pt(pn,`RPC '${t}' stream ${l} detected buffering proxy`):F.stat===Od.NOPROXY&&pt(pn,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{L.n_()},0),L}}function Ad(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(i){return new PR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,r,s=1e3,l=1.5,u=6e4){this.bi=t,this.timerId=r,this.u_=s,this.c_=l,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),l=Math.max(0,r-s);l>0&&pt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,l,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="PersistentStream";class AE{constructor(t,r,s,l,u,f,m,g){this.bi=t,this.R_=s,this.V_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new SE(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===ot.RESOURCE_EXHAUSTED?(Si(r.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.m_===r&&this.B_(s,l)},s=>{t(()=>{const l=new wt(ot.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(l)})})}B_(t,r){const s=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(l=>{s(()=>this.L_(l))}),this.stream.onMessage(l=>{s(()=>++this.p_==1?this.q_(l):this.onNext(l))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return pt(C0,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(pt(C0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ow extends AE{constructor(t,r,s,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,f),this.serializer=u}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=kR(this.serializer,t),s=function(u){if(!("targetChange"in u))return zt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?zt.min():f.readTime?Gr(f.readTime):zt.min()}(t);return this.listener.Q_(r,s)}U_(t){const r={};r.database=Fd(this.serializer),r.addTarget=function(u,f){let m;const g=f.target;if(m=jd(g)?{documents:qR(u,g)}:{query:FR(u,g).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=hE(u,f.resumeToken);const y=Bd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(zt.min())>0){m.readTime=Pc(u,f.snapshotVersion.toTimestamp());const y=Bd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=QR(this.serializer,t);s&&(r.labels=s),this.F_(r)}K_(t){const r={};r.database=Fd(this.serializer),r.removeTarget=t,this.F_(r)}}class Lw extends AE{constructor(t,r,s,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return fe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,fe(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){fe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=HR(t.writeResults,t.commitTime),s=Gr(t.commitTime);return this.listener.j_(s,r)}H_(){const t={};t.database=Fd(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(s=>BR(this.serializer,s))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{}class Pw extends Uw{constructor(t,r,s,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.J_=!1}Y_(){if(this.J_)throw new wt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,s,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(t,Hd(r,s),l,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new wt(ot.UNKNOWN,u.toString())})}Wo(t,r,s,l,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(t,Hd(r,s),l,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new wt(ot.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class zw{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Si(r),this.ea=!1):pt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="RemoteStore";class jw{constructor(t,r,s,l,u){this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{is(this)&&(pt(ts,"Restarting streams for network reachability change."),await async function(g){const y=jt(g);y.aa.add(4),await Ho(y),y.la.set("Unknown"),y.aa.delete(4),await th(y)}(this))})}),this.la=new zw(s,l)}}async function th(i){if(is(i))for(const t of i.ua)await t(!0)}async function Ho(i){for(const t of i.ua)await t(!1)}function bE(i,t){const r=jt(i);r._a.has(t.targetId)||(r._a.set(t.targetId,t),Mm(r)?xm(r):fl(r).b_()&&Dm(r,t))}function Cm(i,t){const r=jt(i),s=fl(r);r._a.delete(t),s.b_()&&RE(r,t),r._a.size===0&&(s.b_()?s.v_():is(r)&&r.la.set("Unknown"))}function Dm(i,t){if(i.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zt.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}fl(i).U_(t)}function RE(i,t){i.ha.Ke(t),fl(i).K_(t)}function xm(i){i.ha=new NR({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i._a.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),fl(i).start(),i.la.ta()}function Mm(i){return is(i)&&!fl(i).w_()&&i._a.size>0}function is(i){return jt(i).aa.size===0}function wE(i){i.ha=void 0}async function kw(i){i.la.set("Online")}async function Bw(i){i._a.forEach((t,r)=>{Dm(i,t)})}async function Hw(i,t){wE(i),Mm(i)?(i.la.ia(t),xm(i)):i.la.set("Unknown")}async function qw(i,t,r){if(i.la.set("Online"),t instanceof cE&&t.state===2&&t.cause)try{await async function(l,u){const f=u.cause;for(const m of u.targetIds)l._a.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l._a.delete(m),l.ha.removeTarget(m))}(i,t)}catch(s){pt(ts,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await jc(i,s)}else if(t instanceof Ec?i.ha.Xe(t):t instanceof uE?i.ha.ot(t):i.ha.nt(t),!r.isEqual(zt.min()))try{const s=await TE(i.localStore);r.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u._a.get(y);E&&u._a.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u._a.get(g);if(!E)return;u._a.set(g,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),RE(u,g);const A=new ra(E.target,g,y,E.sequenceNumber);Dm(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,r)}catch(s){pt(ts,"Failed to raise snapshot:",s),await jc(i,s)}}async function jc(i,t,r){if(!hl(t))throw t;i.aa.add(1),await Ho(i),i.la.set("Offline"),r||(r=()=>TE(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{pt(ts,"Retrying IndexedDB access"),await r(),i.aa.delete(1),await th(i)})}function CE(i,t){return t().catch(r=>jc(i,r,t))}async function eh(i){const t=jt(i),r=ga(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:mm;for(;Fw(t);)try{const l=await Rw(t.localStore,s);if(l===null){t.oa.length===0&&r.v_();break}s=l.batchId,Gw(t,l)}catch(l){await jc(t,l)}DE(t)&&xE(t)}function Fw(i){return is(i)&&i.oa.length<10}function Gw(i,t){i.oa.push(t);const r=ga(i);r.b_()&&r.W_&&r.G_(t.mutations)}function DE(i){return is(i)&&!ga(i).w_()&&i.oa.length>0}function xE(i){ga(i).start()}async function Qw(i){ga(i).H_()}async function Yw(i){const t=ga(i);for(const r of i.oa)t.G_(r.mutations)}async function Kw(i,t,r){const s=i.oa.shift(),l=Em.from(s,t,r);await CE(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),await eh(i)}async function Xw(i,t){t&&ga(i).W_&&await async function(s,l){if(function(f){return IR(f)&&f!==ot.ABORTED}(l.code)){const u=s.oa.shift();ga(s).D_(),await CE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l)),await eh(s)}}(i,t),DE(i)&&xE(i)}async function D0(i,t){const r=jt(i);r.asyncQueue.verifyOperationInProgress(),pt(ts,"RemoteStore received new credentials");const s=is(r);r.aa.add(3),await Ho(r),s&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await th(r)}async function $w(i,t){const r=jt(i);t?(r.aa.delete(2),await th(r)):t||(r.aa.add(2),await Ho(r),r.la.set("Unknown"))}function fl(i){return i.Pa||(i.Pa=function(r,s,l){const u=jt(r);return u.Y_(),new Ow(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{jo:kw.bind(null,i),Jo:Bw.bind(null,i),Zo:Hw.bind(null,i),Q_:qw.bind(null,i)}),i.ua.push(async t=>{t?(i.Pa.D_(),Mm(i)?xm(i):i.la.set("Unknown")):(await i.Pa.stop(),wE(i))})),i.Pa}function ga(i){return i.Ta||(i.Ta=function(r,s,l){const u=jt(r);return u.Y_(),new Lw(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:Qw.bind(null,i),Zo:Xw.bind(null,i),z_:Yw.bind(null,i),j_:Kw.bind(null,i)}),i.ua.push(async t=>{t?(i.Ta.D_(),await eh(i)):(await i.Ta.stop(),i.oa.length>0&&(pt(ts,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,r,s,l,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,l,u){const f=Date.now()+s,m=new Im(t,r,f,l,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new wt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vm(i,t){if(Si("AsyncQueue",`${t}: ${i}`),hl(i))return new wt(ot.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{static emptySet(t){return new Ws(t.comparator)}constructor(t){this.comparator=t?(r,s)=>t(r,s)||xt.comparator(r.key,s.key):(r,s)=>xt.comparator(r.key,s.key),this.keyedMap=To(),this.sortedSet=new Ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,s)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Ws)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const s=new Ws;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.Ia=new Ce(xt.comparator)}track(t){const r=t.doc.key,s=this.Ia.get(r);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(r,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(r):t.type===1&&s.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):Ot(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,s)=>{t.push(s)}),t}}class al{constructor(t,r,s,l,u,f,m,g,y){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,r,s,l,u){const f=[];return r.forEach(m=>{f.push({type:0,doc:m})}),new al(t,r,Ws.emptySet(r),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Jw{constructor(){this.queries=M0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,s){const l=jt(r),u=l.queries;l.queries=M0(),u.forEach((f,m)=>{for(const g of m.Ra)g.onError(s)})})(this,new wt(ot.ABORTED,"Firestore shutting down"))}}function M0(){return new rs(i=>X_(i),Kc)}async function Ww(i,t){const r=jt(i);let s=3;const l=t.query;let u=r.queries.get(l);u?!u.Va()&&t.ma()&&(s=2):(u=new Zw,s=t.ma()?0:1);try{switch(s){case 0:u.Aa=await r.onListen(l,!0);break;case 1:u.Aa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(f){const m=Vm(f,`Initialization of query '${Ys(t.query)}' failed`);return void t.onError(m)}r.queries.set(l,u),u.Ra.push(t),t.ga(r.onlineState),u.Aa&&t.pa(u.Aa)&&Nm(r)}async function tC(i,t){const r=jt(i),s=t.query;let l=3;const u=r.queries.get(s);if(u){const f=u.Ra.indexOf(t);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?l=t.ma()?0:1:!u.Va()&&t.ma()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function eC(i,t){const r=jt(i);let s=!1;for(const l of t){const u=l.query,f=r.queries.get(u);if(f){for(const m of f.Ra)m.pa(l)&&(s=!0);f.Aa=l}}s&&Nm(r)}function nC(i,t,r){const s=jt(i),l=s.queries.get(t);if(l)for(const u of l.Ra)u.onError(r);s.queries.delete(t)}function Nm(i){i.fa.forEach(t=>{t.next()})}var Yd,I0;(I0=Yd||(Yd={})).ya="default",I0.Cache="cache";class rC{constructor(t,r,s){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new al(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const s=r!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=al.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(t){this.key=t}}class IE{constructor(t){this.key=t}}class iC{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Wt(),this.mutatedKeys=Wt(),this.Ua=$_(t),this.Ka=new Ws(this.Ua)}get Wa(){return this.qa}Ga(t,r){const s=r?r.za:new x0,l=r?r.Ka:this.Ka;let u=r?r.mutatedKeys:this.mutatedKeys,f=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((E,A)=>{const b=l.get(E),x=Xc(this.query,A)?A:null,L=!!b&&this.mutatedKeys.has(b.key),W=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let F=!1;b&&x?b.data.isEqual(x.data)?L!==W&&(s.track({type:3,doc:x}),F=!0):this.ja(b,x)||(s.track({type:2,doc:x}),F=!0,(g&&this.Ua(x,g)>0||y&&this.Ua(x,y)<0)&&(m=!0)):!b&&x?(s.track({type:0,doc:x}),F=!0):b&&!x&&(s.track({type:1,doc:b}),F=!0,(g||y)&&(m=!0)),F&&(x?(f=f.add(x),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,l){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const f=t.za.da();f.sort((E,A)=>function(x,L){const W=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot(20277,{Vt:F})}};return W(x)-W(L)}(E.type,A.type)||this.Ua(E.doc,A.doc)),this.Ha(s),l=l!=null&&l;const m=r&&!l?this.Ja():[],g=this.$a.size===0&&this.current&&!l?1:0,y=g!==this.Qa;return this.Qa=g,f.length!==0||y?{snapshot:new al(this.query,t.Ka,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new x0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Wt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const r=[];return t.forEach(s=>{this.$a.has(s)||r.push(new IE(s))}),this.$a.forEach(s=>{t.has(s)||r.push(new ME(s))}),r}Xa(t){this.qa=t.Ns,this.$a=Wt();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return al.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Om="SyncEngine";class aC{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class sC{constructor(t){this.key=t,this.tu=!1}}class lC{constructor(t,r,s,l,u,f){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new rs(m=>X_(m),Kc),this.iu=new Map,this.su=new Set,this.ou=new Ce(xt.comparator),this._u=new Map,this.au=new Am,this.uu={},this.cu=new Map,this.lu=il.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function oC(i,t,r=!0){const s=PE(i);let l;const u=s.ru.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.eu()):l=await VE(s,t,r,!0),l}async function uC(i,t){const r=PE(i);await VE(r,t,!0,!1)}async function VE(i,t,r,s){const l=await ww(i.localStore,qr(t)),u=l.targetId,f=i.sharedClientState.addLocalQueryTarget(u,r);let m;return s&&(m=await cC(i,t,u,f==="current",l.resumeToken)),i.isPrimaryClient&&r&&bE(i.remoteStore,l),m}async function cC(i,t,r,s,l){i.Pu=(A,b,x)=>async function(W,F,J,rt){let ut=F.view.Ga(J);ut.ys&&(ut=await A0(W.localStore,F.query,!1).then(({documents:V})=>F.view.Ga(V,ut)));const gt=rt&&rt.targetChanges.get(F.targetId),mt=rt&&rt.targetMismatches.get(F.targetId)!=null,H=F.view.applyChanges(ut,W.isPrimaryClient,gt,mt);return N0(W,F.targetId,H.Ya),H.snapshot}(i,A,b,x);const u=await A0(i.localStore,t,!0),f=new iC(t,u.Ns),m=f.Ga(u.documents),g=Bo.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",l),y=f.applyChanges(m,i.isPrimaryClient,g);N0(i,r,y.Ya);const E=new aC(t,r,f);return i.ru.set(t,E),i.iu.has(r)?i.iu.get(r).push(t):i.iu.set(r,[t]),y.snapshot}async function hC(i,t,r){const s=jt(i),l=s.ru.get(t),u=s.iu.get(l.targetId);if(u.length>1)return s.iu.set(l.targetId,u.filter(f=>!Kc(f,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Gd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),r&&Cm(s.remoteStore,l.targetId),Kd(s,l.targetId)}).catch(cl)):(Kd(s,l.targetId),await Gd(s.localStore,l.targetId,!0))}async function fC(i,t){const r=jt(i),s=r.ru.get(t),l=r.iu.get(s.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Cm(r.remoteStore,s.targetId))}async function dC(i,t,r){const s=EC(i);try{const l=await function(f,m){const g=jt(f),y=Ye.now(),E=m.reduce((x,L)=>x.add(L.key),Wt());let A,b;return g.persistence.runTransaction("Locally write mutations","readwrite",x=>{let L=Ai(),W=Wt();return g.Cs.getEntries(x,E).next(F=>{L=F,L.forEach((J,rt)=>{rt.isValidDocument()||(W=W.add(J))})}).next(()=>g.localDocuments.getOverlayedDocuments(x,L)).next(F=>{A=F;const J=[];for(const rt of m){const ut=wR(rt,A.get(rt.key).overlayedDocument);ut!=null&&J.push(new va(rt.key,ut,B_(ut.value.mapValue),Fr.exists(!0)))}return g.mutationQueue.addMutationBatch(x,y,J,m)}).next(F=>{b=F;const J=F.applyToLocalDocumentSet(A,W);return g.documentOverlayCache.saveOverlays(x,F.batchId,J)})}).then(()=>({batchId:b.batchId,changes:J_(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,m,g){let y=f.uu[f.currentUser.toKey()];y||(y=new Ce(Gt)),y=y.insert(m,g),f.uu[f.currentUser.toKey()]=y}(s,l.batchId,r),await qo(s,l.changes),await eh(s.remoteStore)}catch(l){const u=Vm(l,"Failed to persist write");r.reject(u)}}async function NE(i,t){const r=jt(i);try{const s=await Aw(r.localStore,t);t.targetChanges.forEach((l,u)=>{const f=r._u.get(u);f&&(fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.tu=!0:l.modifiedDocuments.size>0?fe(f.tu,14607):l.removedDocuments.size>0&&(fe(f.tu,42227),f.tu=!1))}),await qo(r,s,t)}catch(s){await cl(s)}}function V0(i,t,r){const s=jt(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const l=[];s.ru.forEach((u,f)=>{const m=f.view.ga(t);m.snapshot&&l.push(m.snapshot)}),function(f,m){const g=jt(f);g.onlineState=m;let y=!1;g.queries.forEach((E,A)=>{for(const b of A.Ra)b.ga(m)&&(y=!0)}),y&&Nm(g)}(s.eventManager,t),l.length&&s.nu.Q_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function mC(i,t,r){const s=jt(i);s.sharedClientState.updateQueryState(t,"rejected",r);const l=s._u.get(t),u=l&&l.key;if(u){let f=new Ce(xt.comparator);f=f.insert(u,vn.newNoDocument(u,zt.min()));const m=Wt().add(u),g=new Jc(zt.min(),new Map,new Ce(Gt),f,m);await NE(s,g),s.ou=s.ou.remove(u),s._u.delete(t),Lm(s)}else await Gd(s.localStore,t,!1).then(()=>Kd(s,t,r)).catch(cl)}async function gC(i,t){const r=jt(i),s=t.batch.batchId;try{const l=await Sw(r.localStore,t);LE(r,s,null),OE(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await qo(r,l)}catch(l){await cl(l)}}async function pC(i,t,r){const s=jt(i);try{const l=await function(f,m){const g=jt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(A=>(fe(A!==null,37113),E=A.keys(),g.mutationQueue.removeMutationBatch(y,A))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,t);LE(s,t,r),OE(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),await qo(s,l)}catch(l){await cl(l)}}function OE(i,t){(i.cu.get(t)||[]).forEach(r=>{r.resolve()}),i.cu.delete(t)}function LE(i,t,r){const s=jt(i);let l=s.uu[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(r?u.reject(r):u.resolve(),l=l.remove(t)),s.uu[s.currentUser.toKey()]=l}}function Kd(i,t,r=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.iu.get(t))i.ru.delete(s),r&&i.nu.Tu(s,r);i.iu.delete(t),i.isPrimaryClient&&i.au.Ur(t).forEach(s=>{i.au.containsKey(s)||UE(i,s)})}function UE(i,t){i.su.delete(t.path.canonicalString());const r=i.ou.get(t);r!==null&&(Cm(i.remoteStore,r),i.ou=i.ou.remove(t),i._u.delete(r),Lm(i))}function N0(i,t,r){for(const s of r)s instanceof ME?(i.au.addReference(s.key,t),yC(i,s)):s instanceof IE?(pt(Om,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,t),i.au.containsKey(s.key)||UE(i,s.key)):Ot(19791,{Iu:s})}function yC(i,t){const r=t.key,s=r.path.canonicalString();i.ou.get(r)||i.su.has(s)||(pt(Om,"New document in limbo: "+r),i.su.add(s),Lm(i))}function Lm(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const t=i.su.values().next().value;i.su.delete(t);const r=new xt(Re.fromString(t)),s=i.lu.next();i._u.set(s,new sC(r)),i.ou=i.ou.insert(r,s),bE(i.remoteStore,new ra(qr(K_(r.path)),s,"TargetPurposeLimboResolution",Fc.le))}}async function qo(i,t,r){const s=jt(i),l=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,g)=>{f.push(s.Pu(g,t,r).then(y=>{var E;if((y||r)&&s.isPrimaryClient){const A=y?!y.fromCache:(E=r==null?void 0:r.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Rm.Ps(g.targetId,y);u.push(A)}}))}),await Promise.all(f),s.nu.Q_(l),await async function(g,y){const E=jt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>st.forEach(y,b=>st.forEach(b.ls,x=>E.persistence.referenceDelegate.addReference(A,b.targetId,x)).next(()=>st.forEach(b.hs,x=>E.persistence.referenceDelegate.removeReference(A,b.targetId,x)))))}catch(A){if(!hl(A))throw A;pt(wm,"Failed to update sequence numbers: "+A)}for(const A of y){const b=A.targetId;if(!A.fromCache){const x=E.Ss.get(b),L=x.snapshotVersion,W=x.withLastLimboFreeSnapshotVersion(L);E.Ss=E.Ss.insert(b,W)}}}(s.localStore,u))}async function vC(i,t){const r=jt(i);if(!r.currentUser.isEqual(t)){pt(Om,"User change. New user:",t.toKey());const s=await EE(r.localStore,t);r.currentUser=t,function(u,f){u.cu.forEach(m=>{m.forEach(g=>{g.reject(new wt(ot.CANCELLED,f))})}),u.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await qo(r,s.Ms)}}function _C(i,t){const r=jt(i),s=r._u.get(t);if(s&&s.tu)return Wt().add(s.key);{let l=Wt();const u=r.iu.get(t);if(!u)return l;for(const f of u){const m=r.ru.get(f);l=l.unionWith(m.view.Wa)}return l}}function PE(i){const t=jt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_C.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mC.bind(null,t),t.nu.Q_=eC.bind(null,t.eventManager),t.nu.Tu=nC.bind(null,t.eventManager),t}function EC(i){const t=jt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pC.bind(null,t),t}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Wc(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return Tw(this.persistence,new vw,t.initialUser,this.serializer)}Ru(t){return new _E(bm.Ei,this.serializer)}Au(t){return new Dw}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class TC extends kc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){fe(this.persistence.referenceDelegate instanceof zc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rw(s,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new _E(s=>zc.Ei(s,r),this.serializer)}}class Xd{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>V0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vC.bind(null,this.syncEngine),await $w(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Jw}()}createDatastore(t){const r=Wc(t.databaseInfo.databaseId),s=function(u){return new Nw(u)}(t.databaseInfo);return function(u,f,m,g){return new Pw(u,f,m,g)}(t.authCredentials,t.appCheckCredentials,s,r)}createRemoteStore(t){return function(s,l,u,f,m){return new jw(s,l,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,r=>V0(this.syncEngine,r,0),function(){return w0.C()?new w0:new xw}())}createSyncEngine(t,r){return function(l,u,f,m,g,y,E){const A=new lC(l,u,f,m,g,y);return E&&(A.hu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(l){const u=jt(l);pt(ts,"RemoteStore shutting down."),u.aa.add(5),await Ho(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Xd.provider={build:()=>new Xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Si("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class AC{constructor(t,r,s,l,u){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=yn.UNAUTHENTICATED,this.clientId=I_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{pt(pa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(pt(pa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Vm(r,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function bd(i,t){i.asyncQueue.verifyOperationInProgress(),pt(pa,"Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(async l=>{s.isEqual(l)||(await EE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function O0(i,t){i.asyncQueue.verifyOperationInProgress();const r=await bC(i);pt(pa,"Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener(s=>D0(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,l)=>D0(t.remoteStore,l)),i._onlineComponents=t}async function bC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pt(pa,"Using user provided OfflineComponentProvider");try{await bd(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(l){return l.name==="FirebaseError"?l.code===ot.FAILED_PRECONDITION||l.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(r))throw r;tl("Error using user provided cache. Falling back to memory cache: "+r),await bd(i,new kc)}}else pt(pa,"Using default OfflineComponentProvider"),await bd(i,new TC(void 0));return i._offlineComponents}async function zE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pt(pa,"Using user provided OnlineComponentProvider"),await O0(i,i._uninitializedComponentsProvider._online)):(pt(pa,"Using default OnlineComponentProvider"),await O0(i,new Xd))),i._onlineComponents}function RC(i){return zE(i).then(t=>t.syncEngine)}async function wC(i){const t=await zE(i),r=t.eventManager;return r.onListen=oC.bind(null,t.syncEngine),r.onUnlisten=hC.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=uC.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=fC.bind(null,t.syncEngine),r}function CC(i,t,r={}){const s=new la;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new SC({next:b=>{E.yu(),f.enqueueAndForget(()=>tC(u,A)),b.fromCache&&g.source==="server"?y.reject(new wt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),A=new rC(m,E,{includeMetadataChanges:!0,Fa:!0});return Ww(u,A)}(await wC(i),i.asyncQueue,t,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(i,t,r){if(!r)throw new wt(ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function DC(i,t,r,s){if(t===!0&&s===!0)throw new wt(ot.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function U0(i){if(!xt.isDocumentKey(i))throw new wt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function P0(i){if(xt.isDocumentKey(i))throw new wt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Um(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Ot(12329,{type:typeof i})}function sl(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new wt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Um(i);throw new wt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firestore.googleapis.com",z0=!0;class j0{constructor(t){var r,s;if(t.host===void 0){if(t.ssl!==void 0)throw new wt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=z0}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:z0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ew)throw new wt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new wt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new wt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new wt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nh{constructor(t,r,s,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new wt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Ib;switch(s.type){case"firstParty":return new Lb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new wt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=L0.get(r);s&&(pt("ComponentProvider","Removing Datastore"),L0.delete(r),s.terminate())}(this),Promise.resolve()}}function xC(i,t,r,s={}){var l;const u=(i=sl(i,nh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${t}:${r}`;u.host!==BE&&u.host!==m&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Cc(g,f)&&(i._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=yn.MOCK_USER;else{y=c2(s.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new wt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new yn(A)}i._authCredentials=new Vb(new x_(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new rh(this.firestore,t,this._query)}}class fr{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fr(this.firestore,t,this._key)}}class oa extends rh{constructor(t,r,s){super(t,r,K_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fr(this.firestore,null,new xt(t))}withConverter(t){return new oa(this.firestore,t,this._path)}}function Pm(i,t,...r){if(i=ca(i),kE("collection","path",t),i instanceof nh){const s=Re.fromString(t,...r);return P0(s),new oa(i,null,s)}{if(!(i instanceof fr||i instanceof oa))throw new wt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Re.fromString(t,...r));return P0(s),new oa(i.firestore,null,s)}}function HE(i,t,...r){if(i=ca(i),arguments.length===1&&(t=I_.newId()),kE("doc","path",t),i instanceof nh){const s=Re.fromString(t,...r);return U0(s),new fr(i,null,new xt(s))}{if(!(i instanceof fr||i instanceof oa))throw new wt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Re.fromString(t,...r));return U0(s),new fr(i.firestore,i instanceof oa?i.converter:null,new xt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="AsyncQueue";class B0{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new SE(this,"async_queue_retry"),this.ju=()=>{const s=Ad();s&&pt(k0,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const r=Ad();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=Ad();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new la;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!hl(t))throw t;pt(k0,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,Si("INTERNAL UNHANDLED ERROR: ",H0(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=r,r}enqueueAfterDelay(t,r,s){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const l=Im.createAndSchedule(this,t,r,s,u=>this.Xu(u));return this.Uu.push(l),l}Ju(){this.Ku&&Ot(47125,{ec:H0(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function H0(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class ih extends nh{constructor(t,r,s,l){super(t,r,s,l),this.type="firestore",this._queue=new B0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new B0(t),this._firestoreClient=void 0,await t}}}function MC(i,t){const r=typeof i=="object"?i:Eb(),s=typeof i=="string"?i:Ic,l=gb(r,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=o2("firestore");u&&xC(l,...u)}return l}function qE(i){if(i._terminated)throw new wt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||IC(i),i._firestoreClient}function IC(i){var t,r,s;const l=i._freezeSettings(),u=function(m,g,y,E){return new $b(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,jE(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new AC(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ll(cn.fromBase64String(t))}catch(r){throw new wt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new ll(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new wt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new wt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new wt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=/^__.*__$/;class NC{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return this.fieldMask!==null?new va(t,this.data,this.fieldMask,r,this.fieldTransforms):new ko(t,this.data,r,this.fieldTransforms)}}class FE{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return new va(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function GE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot(40011,{oc:i})}}class Bm{constructor(t,r,s,l,u,f){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Bm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.ac({path:s,cc:!1});return l.lc(t),l}hc(t){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.ac({path:s,cc:!1});return l._c(),l}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Bc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(GE(this.oc)&&VC.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class OC{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||Wc(t)}dc(t,r,s,l=!1){return new Bm({oc:t,methodName:r,Ec:s,path:un.emptyPath(),cc:!1,Ic:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QE(i){const t=i._freezeSettings(),r=Wc(i._databaseId);return new OC(i._databaseId,!!t.ignoreUndefinedProperties,r)}function LC(i,t,r,s,l,u={}){const f=i.dc(u.merge||u.mergeFields?2:0,t,r,l);Hm("Data must be an object, but it was:",f,s);const m=YE(s,f);let g,y;if(u.merge)g=new Gn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const b=$d(t,A,r);if(!f.contains(b))throw new wt(ot.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);XE(E,b)||E.push(b)}g=new Gn(E),y=f.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,y=f.fieldTransforms;return new NC(new In(m),g,y)}class sh extends zm{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sh}}function UC(i,t,r,s){const l=i.dc(1,t,r);Hm("Data must be an object, but it was:",l,s);const u=[],f=In.empty();ya(s,(g,y)=>{const E=qm(t,g,r);y=ca(y);const A=l.hc(E);if(y instanceof sh)u.push(E);else{const b=lh(y,A);b!=null&&(u.push(E),f.set(E,b))}});const m=new Gn(u);return new FE(f,m,l.fieldTransforms)}function PC(i,t,r,s,l,u){const f=i.dc(1,t,r),m=[$d(t,s,r)],g=[l];if(u.length%2!=0)throw new wt(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push($d(t,u[b])),g.push(u[b+1]);const y=[],E=In.empty();for(let b=m.length-1;b>=0;--b)if(!XE(y,m[b])){const x=m[b];let L=g[b];L=ca(L);const W=f.hc(x);if(L instanceof sh)y.push(x);else{const F=lh(L,W);F!=null&&(y.push(x),E.set(x,F))}}const A=new Gn(y);return new FE(E,A,f.fieldTransforms)}function lh(i,t){if(KE(i=ca(i)))return Hm("Unsupported field value:",t,i),YE(i,t);if(i instanceof zm)return function(s,l){if(!GE(l.oc))throw l.Tc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(s,l){const u=[];let f=0;for(const m of s){let g=lh(m,l.Pc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(i,t)}return function(s,l){if((s=ca(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ER(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ye.fromDate(s);return{timestampValue:Pc(l.serializer,u)}}if(s instanceof Ye){const u=new Ye(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pc(l.serializer,u)}}if(s instanceof jm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ll)return{bytesValue:hE(l.serializer,s._byteString)};if(s instanceof fr){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof km)return function(f,m){return{mapValue:{fields:{[j_]:{stringValue:k_},[Vc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Tc("VectorValues must only contain numeric values.");return _m(m.serializer,y)})}}}}}}(s,l);throw l.Tc(`Unsupported field value: ${Um(s)}`)}(i,t)}function YE(i,t){const r={};return N_(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ya(i,(s,l)=>{const u=lh(l,t.uc(s));u!=null&&(r[s]=u)}),{mapValue:{fields:r}}}function KE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ye||i instanceof jm||i instanceof ll||i instanceof fr||i instanceof zm||i instanceof km)}function Hm(i,t,r){if(!KE(r)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(r)){const s=Um(r);throw s==="an object"?t.Tc(i+" a custom object"):t.Tc(i+" "+s)}}function $d(i,t,r){if((t=ca(t))instanceof ah)return t._internalPath;if(typeof t=="string")return qm(i,t);throw Bc("Field path arguments must be of type string or ",i,!1,void 0,r)}const zC=new RegExp("[~\\*/\\[\\]]");function qm(i,t,r){if(t.search(zC)>=0)throw Bc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new ah(...t.split("."))._internalPath}catch{throw Bc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Bc(i,t,r,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let m=`Function ${t}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${l}`),g+=")"),new wt(ot.INVALID_ARGUMENT,m+i+g)}function XE(i,t){return i.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,r,s,l,u){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(ZE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class jC extends $E{data(){return super.data()}}function ZE(i,t){return typeof t=="string"?qm(i,t):t instanceof ah?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new wt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BC{convertValue(t,r="none"){switch(ma(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(da(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Ot(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return ya(t,(l,u)=>{s[l]=this.convertValue(u,r)}),s}convertVectorValue(t){var r,s,l;const u=(l=(s=(r=t.fields)===null||r===void 0?void 0:r[Vc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>Ve(f.doubleValue));return new km(u)}convertGeoPoint(t){return new jm(Ve(t.latitude),Ve(t.longitude))}convertArray(t,r){return(t.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(t,r){switch(r){case"previous":const s=Qc(t);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Vo(t));default:return null}}convertTimestamp(t){const r=fa(t);return new Ye(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=Re.fromString(t);fe(yE(s),9688,{name:t});const l=new No(s.get(1),s.get(3)),u=new xt(s.popFirst(5));return l.isEqual(r)||Si(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(i,t,r){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qC extends $E{constructor(t,r,s,l,u,f){super(t,r,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(ZE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Tc extends qC{data(t={}){return super.data(t)}}class FC{constructor(t,r,s,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new fc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(s=>{t.call(r,new Tc(this._firestore,this._userDataWriter,s.key,s,new fc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new wt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(m=>{const g=new Tc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new fc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Tc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new fc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:GC(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function GC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot(61501,{type:i})}}class QC extends BC{constructor(t){super(),this.firestore=t}convertBytes(t){return new ll(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new fr(this.firestore,null,r)}}function JE(i){i=sl(i,rh);const t=sl(i.firestore,ih),r=qE(t),s=new QC(t);return kC(i._query),CC(r,i._query).then(l=>new FC(t,s,i,l))}function YC(i,t,r,...s){i=sl(i,fr);const l=sl(i.firestore,ih),u=QE(l);let f;return f=typeof(t=ca(t))=="string"||t instanceof ah?PC(u,"updateDoc",i._key,t,r,s):UC(u,"updateDoc",i._key,t),WE(l,[f.toMutation(i._key,Fr.exists(!0))])}function KC(i,t){const r=sl(i.firestore,ih),s=HE(i),l=HC(i.converter,t);return WE(r,[LC(QE(i.firestore),"addDoc",s._key,l,i.converter!==null,{}).toMutation(s._key,Fr.exists(!1))]).then(()=>s)}function WE(i,t){return function(s,l){const u=new la;return s.asyncQueue.enqueueAndForget(async()=>dC(await RC(s),l,u)),u.promise}(qE(i),t)}(function(t,r=!0){(function(l){ul=l})(_b),xc(new xo("firestore",(s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ih(new Nb(s.getProvider("auth-internal")),new Ub(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new wt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(y.options.projectId,E)}(f,l),f);return u=Object.assign({useFetchStreams:r},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Js(Yv,Kv,t),Js(Yv,Kv,"esm2017")})();var XC="firebase",$C="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(XC,$C,"app");const ZC={apiKey:"AIzaSyC8EnopwGNhDWKRZkfQSoMnvPkLJUYdvTI",authDomain:"toy-store-f53e2.firebaseapp.com",projectId:"toy-store-f53e2",storageBucket:"toy-store-f53e2.firebasestorage.app",messagingSenderId:"110829121472",appId:"1:110829121472:web:b681151bb2c1c10968a225"},JC=__(ZC),oh=MC(JC);async function Zd(i){const t=Pm(oh,"products"),s=(await JE(t)).docs.map(l=>({id:l.id,...l.data()}));i(s)}async function WC(i){const t=Pm(oh,"categories"),s=(await JE(t)).docs.map(l=>({id:l.id,...l.data()}));i(s)}async function tD(i,t){const r=HE(oh,"products",i);try{await YC(r,t),console.log("Dokument uppdaterat!")}catch(s){console.error("Fel vid uppdatering av dokument: ",s)}}async function eD(i){try{const t=Pm(oh,"products"),r=await KC(t,i);console.log("Produkt uppladdad med ID: ",r.id)}catch(t){throw console.error("Fel vid uppladdninging ",t),t}}const nD="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.8%2036.3221L37.592%2021.5301C35.1036%2020.4905%2032.8435%2018.9724%2030.94%2017.0621C29.0287%2015.1581%2027.51%2012.8974%2026.47%2010.4081L11.678%2025.2001C10.524%2026.3541%209.94604%2026.9321%209.45004%2027.5681C8.86482%2028.319%208.36257%2029.1311%207.95204%2029.9901C7.60604%2030.7181%207.34804%2031.4941%206.83204%2033.0421L4.10804%2041.2081C3.98267%2041.5819%203.96406%2041.9834%204.05433%2042.3673C4.14459%2042.7512%204.34013%2043.1023%204.61898%2043.3811C4.89783%2043.66%205.24893%2043.8555%205.63281%2043.9458C6.0167%2044.036%206.41815%2044.0174%206.79204%2043.8921L14.958%2041.1681C16.508%2040.6521%2017.282%2040.3941%2018.01%2040.0481C18.8727%2039.6374%2019.68%2039.1381%2020.432%2038.5501C21.068%2038.0541%2021.646%2037.4761%2022.8%2036.3221ZM41.696%2017.4261C43.1709%2015.9512%2043.9995%2013.9508%2043.9995%2011.8651C43.9995%209.77927%2043.1709%207.77892%2041.696%206.30405C40.2212%204.82918%2038.2208%204.00061%2036.135%204.00061C34.0493%204.00061%2032.0489%204.82918%2030.574%206.30405L28.8%208.07805L28.876%208.30005C29.75%2010.8016%2031.1806%2013.072%2033.06%2014.9401C34.9839%2016.8757%2037.3338%2018.3345%2039.922%2019.2001L41.696%2017.4261Z'%20fill='black'/%3e%3c/svg%3e",rD=({product:i})=>{const t=Zs(f=>f.cart),r=Zs(f=>f.addCartItem),s=Zs(f=>f.plusQuantity),l=Ja(f=>f.isAdmin),u=()=>{let f={id:i.id,name:i.name,quantity:1,price:i.price};if(t&&t.find(g=>g.id==i.id)){s(i.id);return}r(f)};return $.jsxs("div",{className:"product-card",children:[$.jsxs("div",{className:"img-container",children:[l?$.jsx("img",{src:nD,alt:"Edit icon",className:"edit-icon"}):"",$.jsx(Ei,{to:`/products/${i.id}`,children:$.jsx("img",{src:i.img})})]}),$.jsxs("div",{className:"product-info",children:[$.jsx(Ei,{to:`/products/${i.id}`,children:$.jsx("h4",{children:i.name})}),$.jsxs("h3",{className:"price",children:[i.price," SEK"]}),l?$.jsx("div",{children:$.jsx("button",{children:"Ta bort"})}):$.jsx("button",{onClick:u,children:"Lägg till"})]})]},i.id)},iD=()=>{const i=hr(s=>s.productsToRender),t=hr(s=>s.setProductList),r=hr(s=>s.setProductsToRender);return X.useEffect(()=>{Zd(t),Zd(r)},[]),$.jsx("div",{className:"product-grid",children:i.map(s=>$.jsx(rD,{className:"product-card",product:s},s.id))})},aD=(i,t,r,s)=>{let l=[...i];if(t&&t!=="alla"&&(l=l.filter(u=>u.categories.includes(t))),r&&r.trim()!==""){const u=r.toLowerCase().trim(),f=s.filter(m=>m.name.toLowerCase().includes(u)).map(m=>m.id);l=l.filter(m=>{const g=m.name.toLowerCase().includes(u),y=m.description?m.description.toLowerCase().includes(u):!1,E=m.categories.some(A=>f.includes(A));return g||y||E})}return l},sD=(i,t)=>{const r=[...i];switch(t){case"lowest":return r.sort((s,l)=>s.price-l.price);case"highest":return r.sort((s,l)=>l.price-s.price);case"alpha":return r.sort((s,l)=>s.name.localeCompare(l.name));case"zeta":return r.sort((s,l)=>l.name.localeCompare(s.name));case"default":default:return r}},lD=()=>{const i=hr(b=>b.categoryList),t=hr(b=>b.setCategoryList),r=hr(b=>b.productList),s=hr(b=>b.setProductsToRender),[l,u]=X.useState("alla"),[f,m]=X.useState("default"),[g,y]=X.useState("");X.useEffect(()=>{WC(t)},[]),X.useEffect(()=>{let b=aD(r,l,g,i);b=sD(b,f),s(b)},[r,l,f,i,s,g]);const E=b=>{u(b.target.value)},A=b=>{m(b.target.value)};return $.jsxs("div",{className:"filter",children:[$.jsxs("div",{children:[$.jsx("input",{type:"text",placeholder:"Sök på produkt, beskrivning, kategori...",value:g,onChange:b=>y(b.target.value)}),$.jsx("button",{children:"Sök"})]}),$.jsxs("div",{children:[$.jsxs("select",{onChange:E,name:"categories",id:"categories",defaultValue:"",children:[$.jsx("option",{value:"",disabled:!0,children:"Kategorier"}),$.jsx("option",{value:"alla",children:"Alla"}),i.map(b=>$.jsx("option",{value:b.id,children:b.name},b.id))]}),$.jsxs("select",{onChange:A,name:"sort",id:"sort",defaultValue:"",children:[$.jsx("option",{value:"",disabled:!0,children:"Sortera"}),$.jsx("option",{value:"default",children:"Populärast"}),$.jsx("option",{value:"lowest",children:"Pris stigande"}),$.jsx("option",{value:"highest",children:"Pris fallande"}),$.jsx("option",{value:"alpha",children:"A-Ö"}),$.jsx("option",{value:"zeta",children:"Ö-A"})]})]})]})},oD=()=>{const i=hr(r=>r.setProductList),t=hr(r=>r.productList);return X.useEffect(()=>{Zd(i)},[]),$.jsxs("div",{className:"home",children:[$.jsx(ZA,{}),$.jsx("h2",{children:"I blickfånget"}),$.jsx("div",{className:"spotlight",children:t.slice(0,4).map(r=>$.jsx("div",{className:"home-products",children:$.jsxs(Ei,{to:`/products/${r.id}`,children:[$.jsx("img",{src:r.img,alt:r.name}),$.jsx("h2",{children:r.name})]})},r.id))})]})},uD=()=>{const i=Zs(r=>r.cart),t=Zs(r=>r.emptyCart);return $.jsx("div",{className:"cart",children:$.jsxs("div",{className:"cart-container",children:[$.jsx("h2",{children:"Varukorg"}),i.map(r=>$.jsxs("div",{className:"cart-item",children:[$.jsxs("div",{children:[$.jsx("h3",{children:r.name}),$.jsxs("p",{children:[r.quantity," st"]})]}),$.jsxs("p",{children:[r.price*r.quantity," SEK"]})]},r.id)),$.jsxs("div",{children:[$.jsxs("h2",{children:["TOTALT: ",i.reduce((r,s)=>r+s.price*s.quantity,0)," SEK"]}),$.jsx("button",{onClick:()=>t(),children:"BETALA"})]})]})})},cD=({product:i})=>{const t=Ja(g=>g.isAdmin),r=hr(g=>g.categoryList),[s,l]=X.useState({name:i.name,img:i.img,description:i.description,categories:i.categories,price:i.price}),u=g=>{const{id:y,value:E}=g.target;l(A=>({...A,[y]:E}))},f=g=>{const{checked:y,value:E}=g.target;l(A=>{const b=y?[...A.categories||[],E]:(A.categories||[]).filter(x=>x!==E);return{...A,categories:b}})},m=()=>{tD(i.id,s),console.log("Product updated:",s)};return t?$.jsx("div",{className:"product-view",children:$.jsxs("div",{className:"product-container",children:[$.jsxs("div",{children:[$.jsx("h2",{children:"Redigera produkt"}),$.jsx("img",{src:i.img,alt:i.name}),$.jsx("label",{htmlFor:"name",children:"Title"}),$.jsx("input",{type:"text",id:"name",value:s.name,onChange:u}),$.jsx("label",{htmlFor:"img",children:"Image URL"}),$.jsx("input",{type:"text",id:"img",value:s.img,onChange:u}),$.jsx("label",{htmlFor:"description",children:"Beskrivning"}),$.jsx("input",{type:"text",id:"description",value:s.description,onChange:u}),$.jsx("label",{htmlFor:"price",children:"Pris"}),$.jsx("input",{type:"text",id:"price",value:s.price,onChange:u})]}),$.jsxs("div",{children:[$.jsx("h3",{children:"Kategorier"}),$.jsx("div",{className:"category-container",children:r.map(g=>{var y;return $.jsxs("div",{className:"category-button",children:[$.jsx("input",{type:"checkbox",id:g.id,value:g.id,checked:((y=s.categories)==null?void 0:y.includes(g.id))||!1,onChange:f}),$.jsx("label",{htmlFor:g.id,children:g.name})]},g.id)})}),$.jsx("button",{onClick:m,children:"Spara ändringar"})]})]})}):$.jsx("div",{className:"product-view",children:$.jsxs("div",{className:"product-container",children:[$.jsxs("div",{children:[$.jsx("img",{src:i.img,alt:i.name}),$.jsx("p",{children:i.description})]}),$.jsxs("div",{children:[$.jsx("h2",{children:i.name}),$.jsxs("h3",{className:"price",children:[" ",i.price,":-"]}),$.jsx("button",{children:"Lägg till i varukorgen"})]})]})})},hD=()=>{const i=Ja(m=>m.isAdmin),t=hr(m=>m.categoryList),[r,s]=X.useState({name:"",img:"",description:"",categories:[],price:null}),l=m=>{const{id:g,value:y}=m.target;s(E=>({...E,[g]:y}))},u=m=>{const{checked:g,value:y}=m.target;s(E=>({...E,categories:g?[...E.categories,y]:E.categories.filter(A=>A!==y)}))},f=()=>{console.log("Product added:",r),eD(r)};return i?$.jsx("div",{className:"product-view",children:$.jsxs("div",{className:"product-container",children:[$.jsxs("div",{children:[$.jsx("h2",{children:"LäggTill Ny"}),$.jsx("label",{htmlFor:"name",children:"Title"}),$.jsx("input",{type:"text",id:"name",value:r.name,onChange:l}),$.jsx("label",{htmlFor:"img",children:"Image URL"}),$.jsx("input",{type:"text",id:"img",value:r.img,onChange:l}),$.jsx("label",{htmlFor:"description",children:"Beskrivning"}),$.jsx("input",{type:"text",id:"description",value:r.description,onChange:l}),$.jsx("label",{htmlFor:"price",children:"Pris"}),$.jsx("input",{type:"number",id:"price",value:r.price!==null?r.price:"",onChange:l})]}),$.jsxs("div",{children:[$.jsxs("div",{className:"category-container",children:[$.jsx("label",{children:"Kategorier"}),t.map(m=>$.jsxs("div",{className:"category-button",children:[$.jsx("input",{type:"checkbox",id:m.id,value:m.id,onChange:u}),$.jsx("label",{htmlFor:m.id,children:m.name})]},m.id))]}),$.jsx("button",{onClick:f,children:"Ladda upp ny produkt"})]})]})}):$.jsxs("div",{children:[$.jsx("h1",{children:"Försök inte ens"}),$.jsx("h2",{children:"40000000004"})]})},fD=()=>{const i=hr(s=>s.productList),{productId:t}=HS(),r=i.find(s=>s.id===t);return r?$.jsx("div",{children:$.jsx(cD,{product:r})}):t=="addnew"?$.jsx("div",{children:$.jsx(hD,{})}):$.jsxs("div",{className:"products",children:[$.jsx(lD,{}),$.jsx(iD,{})]})},dD=()=>{const i=Ja(f=>f.toggleAdmin),t=Ja(f=>f.isAdmin),[r,s]=X.useState({username:"",password:""}),l=f=>{const{name:m,value:g}=f.target;s({...r,[m]:g})},u=f=>{const m={username:"admin",password:"password"};JSON.stringify(r)==JSON.stringify(m)?(i(),console.log("du e admin"),console.log("Logging in with:",r)):(console.log("Logging in with:",r),console.log("FEL"))};return t?$.jsx("div",{className:"login",children:"inloggad"}):$.jsx("div",{className:"login",children:$.jsxs("div",{className:"login-container",children:[$.jsx("h2",{children:"Logga in"}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"username",children:"Användarnamn:"}),$.jsx("input",{type:"text",id:"username",name:"username",value:r.username,onChange:l})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"password",children:"Lösenord:"}),$.jsx("input",{type:"password",id:"password",name:"password",value:r.password,onChange:l})]}),$.jsx("button",{onClick:u,children:"Logga in"})]})})},mD=VA([{path:"/",Component:$A,children:[{index:!0,Component:oD},{path:"/cart",Component:uD},{path:"/products/:productId?",Component:fD},{path:"/login",Component:dD}]}]);O1.createRoot(document.getElementById("root")).render($.jsx(X.StrictMode,{children:$.jsx(iA,{router:mD})}));
